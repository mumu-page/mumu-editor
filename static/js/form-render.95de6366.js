/*! For license information please see form-render.95de6366.js.LICENSE.txt */
"use strict";(self.webpackChunkmumu_editor=self.webpackChunkmumu_editor||[]).push([[503],{49037:function(e,t,r){r.d(t,{ZP:function(){return Ur},cI:function(){return xr}});r(10534);var n=r(85819),a=r(15821),i=r(72791);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,c=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(l){c=!0,a=l}finally{try{o||null==r.return||r.return()}finally{if(c)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f=(0,i.createContext)((function(){})),d=(0,i.createContext)({}),m=(0,i.createContext)({}),y=function(){return(0,i.useContext)(f)},p=function(){return(0,i.useContext)(d)},h=function(){return(0,i.useContext)(m)},g=function(e){var t=(0,i.useReducer)((function(e,t){var r=t;return"function"===typeof t&&(r=r(e)),t.action&&t.payload&&"function"===typeof(r=t.payload)&&(r=r(e)),c(c({},e),r)}),e),r=u(t,2);return[r[0],r[1]]};var b=r(95355),v=r(60454),O=r(30355);function w(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,c=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(l){c=!0,a=l}finally{try{o||null==r.return||r.return()}finally{if(c)throw a}}return i}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"===typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),n=r.exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function T(e,t){return!t&&("checkbox"===e.widget||(e&&"boolean"===e.type?!e.enum&&void 0===e.widget:void 0))}function k(e){if("string"===typeof e){var t=e.split(".");return 1===t.length?"#":(t.pop(),t.join("."))}return"#"}function $(e,t){return"#"!==t&&t?"string"===typeof t?(0,b.Z)(e,t):void console.error("path has to be a string"):e||{}}function C(e){var t,r;if("#"===e)return{id:"#",dataIndex:[]};if("string"!==typeof e)throw Error("path ".concat(e," is not a string!!! Something wrong here"));var n=/\[[0-9]+\]/g,a=e.match(n);return a?(t=e.replace(n,"[]"),r=a.map((function(e){return Number(e.substring(1,e.length-1))}))):t=e,{id:t,dataIndex:r}}function N(e,t){if("#"===e)return e;if("string"!==typeof e)throw Error("id ".concat(e," is not a string!!! Something wrong here"));var r,n=e;return Array.isArray(t)&&t.forEach((function(e){n=n.replace(/\[\]/,"[".concat(e,"]"))})),"string"===typeof(r=n)?r.replace(/\[\]/g,""):r}function F(e){return e&&"object"===e.type&&e.properties&&!e.widget}function M(e){return e&&"array"===e.type&&F(e.items)&&void 0===e.enum}function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#",r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=_(e),i=t;a.$id||(a.$id=i);var o=[];return F(a)&&(Object.entries(a.properties).forEach((function(e){var t=x(e,2),r=t[0],a=t[1],c=M(a)?r+"[]":r,l="#"===i?c:i+"."+c;o.push(l),V(a,l,i,n)})),a.properties={}),M(a)&&(Object.entries(a.items.properties).forEach((function(e){var t=x(e,2),r=t[0],a=t[1],c=M(a)?r+"[]":r,l="#"===i?c:i+"."+c;o.push(l),V(a,l,i,n)})),a.items.properties={}),a.type&&(n[i]={parent:r,schema:a,children:o}),n}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#",r={},n=_(e[t]);return n&&(r=n.schema,n.children.length>0&&n.children.forEach((function(t){if(e[t]){var n=H(t);F(r)&&(r.properties[n]=L(e,t)),M(r)&&(r.items.properties[n]=L(e,t))}}))),r}var Z=function(e){return t=Object.prototype.toString.call(e),r="Object",t.indexOf(r)>-1;var t,r},_=v.Z;function R(e){if("string"!==typeof e)return!1;return!("string"!==typeof e||!e.match(/^{{(.+)}}$/)||e.match(/^{{function\(.+}}$/))}var J=function e(t,r){var n=_(t);return Z(t)?Object.keys(t).forEach((function(a){var i=t[a];Z(i)?n[a]=e(i,r):"string"===typeof i&&(n[a]=B(i,r))})):console.error("schema is not an object:",t),n},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!("string"===typeof e&&e.indexOf("rootValue")>0))return e;var r=e.substring(2,e.length-2),n="\n    return ".concat(r.replace(/rootValue/g,JSON.stringify(t)));try{return Function(n)()}catch(a){return console.error(a,"expression:",e,"rootValue:",t),null}};function Y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=k(r),a=$(t,n)||{};if("string"!==typeof e)return e;var i=e.substring(2,e.length-2),o="\n    return ".concat(i.replace(/formData/g,JSON.stringify(t)).replace(/rootValue/g,JSON.stringify(a)));try{return Function(o)()}catch(c){return console.log(c,e,r),null}}var z=function e(t){return!!Z(t)&&Object.keys(t).some((function(r){var n=t[r];return"string"===typeof n?R(n):!!Z(n)&&e(n)}))},U=function e(t,r,n){var a=_(t);return Object.keys(a).forEach((function(t){var i=a[t];if(Z(i))a[t]=e(i,r,n);else if(R(i))a[t]=Y(i,r,n);else if("string"===typeof t&&t.toLowerCase().indexOf("props")>-1){var o=a[t];Z(o)&&Object.keys(o).forEach((function(e){a[t][e]=Y(o[e],r,n)}))}})),a};var K=function e(t,r,n){try{var a=n[r];if(void 0!==a.schema[t])return a.schema[t];if(a&&a.parent){var i=n[a.parent].schema;return void 0!==i[t]?i[t]:e(t,a.parent,n)}}catch(o){return}};function q(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&e in t.target?t.target[e]:t}var H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#";try{var t=e.split("."),r=t.slice(-1)[0],n=r.replace("[]","");return n}catch(a){return console.error(a,"getKeyFromPath"),""}},W=function e(t){var r={};return Z(t)?Object.keys(t).forEach((function(n){r[n]=e(t[n])})):r=Array.isArray(t)?t.filter((function(e){return[!1,0,""].indexOf(e)>-1||!(!e||"{}"===JSON.stringify(e))})):t,r},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r={};if(Z(e)){if(e.type)switch(e.type){case"range":r.type="array";break;case"html":r.type="string";break;default:r.type=e.type}switch(["pattern","min","max","len","required"].forEach((function(t){Object.keys(e).indexOf(t)>-1&&(r[t]=e[t])})),e.format){case"email":case"url":r.type=e.format}var n=function(e){return e.pattern&&"string"===typeof e.pattern&&(e.pattern=new RegExp(e.pattern)),e};if(e.rules)if(Array.isArray(e.rules)){var a=e.rules.find((function(e){return!0===e.required}));a&&(r=S(S({},r),a)),r=(r=[r].concat(w(e.rules))).map((function(e){return n(e)}))}else Z(e.rules)&&(r=(r=[r,e.rules]).map((function(e){return n(e)})));else r=[r]}return P({},t,r)},Q=function e(t,r){var n=_(r),a=n;return F(t)?(void 0!==n&&"object"===E(n)||(n={},a={}),Object.keys(t.properties).forEach((function(r){var i=t.properties[r],o=n[r],c=e(i,o);a[r]=c}))):void 0!==n||(a=void 0!==t.default?_(t.default):M(t)?[e(t.items)]:void("boolean"!==t.type||t.widget)),a},X=function e(t,r){var n=_(t);if(F(n=r(n))){var a=[];Array.isArray(n.required)&&(a=n.required,delete n.required),Object.keys(n.properties).forEach((function(t){var i=n.properties[t];a.indexOf(t)>-1&&(i.required=!0),n.properties[t]=e(i,r)}))}else M(n)&&Object.keys(n.items.properties).forEach((function(t){var a=n.items.properties[t];n.items.properties[t]=e(a,r)}));return n},ee=function(e){return X(e,te)},te=function(e){try{if(e.rules=e.rules||[],e.props=e.props||{},e["ui:options"]&&(e.props=e["ui:options"],delete e["ui:options"]),e.pattern){var t={pattern:e.pattern};e.message&&e.message.pattern&&(t.message=e.message.pattern),e.rules.push(t),delete e.pattern,delete e.message}return e.minLength&&(e.min=e.minLength,delete e.minLength),e.maxLength&&(e.max=e.maxLength,delete e.maxLength),e.minItems&&(e.min=e.minItems,delete e.minItems),e.maxItems&&(e.max=e.maxItems,delete e.maxItems),e.step&&(e.props.step=e.step,delete e.step),e["ui:className"]&&(e.className=e["ui:className"],delete e["ui:className"]),e["ui:hidden"]&&(e.hidden=e["ui:hidden"],delete e["ui:hidden"]),e["ui:readonly"]&&(e.readOnly=e["ui:readonly"],delete e["ui:readonly"]),e["ui:disabled"]&&(e.disabled=e["ui:disabled"],delete e["ui:disabled"]),e["ui:width"]&&(e.width=e["ui:width"],delete e["ui:width"]),e["ui:displayType"]&&(e.displayType=e["ui:displayType"],delete e["ui:displayType"]),e["ui:column"]&&(e.column=e["ui:column"],delete e["ui:column"]),e["ui:widget"]&&(e.widget=e["ui:widget"],delete e["ui:widget"]),e["ui:labelWidth"]&&(e.labelWidth=e["ui:labelWidth"],delete e["ui:labelWidth"]),e.rules&&0===e.rules.length&&delete e.rules,"function"===typeof e.props||Z(e.props)&&Object.keys(e.props).length>0||delete e.props,e}catch(r){return console.error("schema\u8f6c\u6362\u5931\u8d25\uff01",r),e}},re=function e(t){return Array.isArray(t)?t.map((function(t){return t&&Z(t)?e(t):t})).filter((function(e){return!(void 0==e)})):Z(t)?Object.entries(t).map((function(t){var r=x(t,2),n=r[0],a=r[1];return[n,a&&Z(a)?e(a):a]})).reduce((function(e,t){var r=x(t,2),n=r[0],a=r[1];return void 0==a||(e[n]=a),e}),{}):t},ne=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[];r&&"]"!==r.slice(-1)&&n.push(r);var a=function(e){return Z(e)||Array.isArray(e)};return Z(t)?Object.keys(t).forEach((function(i){var o=t[i],c=r?r+"."+i:i;if(a(o)){var l=e(o,c);n=[].concat(w(n),w(l))}else n.push(c)})):Array.isArray(t)&&t.forEach((function(t,i){var o=r?"".concat(r,"[").concat(i,"]"):"[".concat(i,"]");if(a(t)){var c=e(t,o);n=[].concat(w(n),w(c))}else n.push(o)})),n};function ae(e){var t=Math.floor(e/1e3%60),r=Math.floor(e/6e4%60),n=Math.floor(e/36e5%24);return(n=n<10?"0"+n:n)+":"+(r=r<10?"0"+r:r)+":"+(t=t<10?"0"+t:t)}function ie(e){var t=new Date(Number(e)),r=function(e){return("0"+e).slice(-2)},n=r(t.getDate()),a=r(t.getMonth()),i=t.getFullYear(),o=r(t.getHours()),c=r(t.getMinutes()),l=r(t.getSeconds());return"".concat(i,"-").concat(a,"-").concat(n," ").concat(o,":").concat(c,":").concat(l)}function oe(e){var t=!1,r=e.length,n=[];return e.length?new Promise((function(a,i){e.forEach((function(e,o){e.catch((function(e){return t=!0,e})).then((function(e){r-=1,n[o]=e,r>0||(t&&i(n),a(n))}))}))})):Promise.resolve([])}var ce=function(e){if(Array.isArray(e)){for(var t=[],r=0;r<e.length;r++)-1===t.indexOf(e[r])&&t.push(e[r]);return t}console.log("in removeDups: param is not an array")},le=(r(21071),r(87309)),ue=(r(7362),r(96038)),se=r(3369),fe=r(11381),de=r(21575),me=r(79714);function ye(){return ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ye.apply(this,arguments)}function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(r),!0).forEach((function(t){ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ge(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}var ve=function(e){var t=e.displayList,r=void 0===t?[]:t,n=e.listData,a=e.changeList,o=e.schema,c=e.deleteItem,l=e.copyItem,u=e.addItem,s=e.moveItemUp,f=e.moveItemDown,d=e.displayType,m=e.getFieldsProps,y=o.props,p=void 0===y?{}:y,h=(o.itemProps,{type:"dashed",children:"\u65b0\u589e\u4e00\u6761"});return p.addBtnProps&&"object"===be(p.addBtnProps)&&(h=he(he({},h),p.addBtnProps)),i.createElement(i.Fragment,null,i.createElement("div",{className:"fr-card-list"},r.map((function(e,t){var r=m(t);return r.displayType=d,i.createElement("div",{className:"fr-card-item ".concat("row"===d?"fr-card-item-row":""),key:t},i.createElement("div",{className:"fr-card-index"},t+1),i.createElement(ur,r),i.createElement("div",{direction:"horizontal",className:"fr-card-toolbar"},!p.hideMove&&i.createElement(i.Fragment,null,i.createElement(me.Z,{style:{fontSize:16,marginLeft:4},onClick:function(){return s(t)}}),i.createElement(de.Z,{style:{fontSize:16,marginLeft:4},onClick:function(){return f(t)}})),!p.hideAdd&&!p.hideCopy&&i.createElement(fe.Z,{style:{fontSize:16,marginLeft:8},onClick:function(){return l(t)}}),!p.hideDelete&&i.createElement(ue.Z,{title:"\u786e\u5b9a\u5220\u9664?",onConfirm:function(){return c(t)},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},i.createElement(se.Z,{style:{fontSize:16,marginLeft:8}}))))}))),i.createElement("div",{style:{marginTop:r.length>0?0:8}},!p.hideAdd&&i.createElement(le.Z,ye({onClick:u},h)),Array.isArray(p.buttons)?p.buttons.map((function(e,t){var r=e.callback,c=e.text,l=e.html,u=function(){console.log({value:n,onChange:a,schema:o})};return"function"===typeof window[r]&&(u=function(){window[r]({value:n,onChange:a,schema:o})}),i.createElement(le.Z,{key:t.toString(),style:{marginLeft:8},type:"dashed",onClick:u},i.createElement("span",{dangerouslySetInnerHTML:{__html:l||c}}))})):null))},Oe=(r(58942),r(96727)),we=(r(57104),r(54195)),Ee=function(e){var t=e.message,r=e.schema,n=e.softHidden,a=e.hardHidden,o="";return"string"===typeof t&&(o=t),Array.isArray(t)&&(o=t[0]||""),o=function(e,t){if("string"!==typeof e)return"";if(!t)return e;if(e=(e=e.replace("${title}",t.title)).replace("${type}",t.format||t.type),"number"===typeof t.min&&(e=e.replace("${min}",t.min)),"number"===typeof t.max&&(e=e.replace("${max}",t.max)),t.rules){var r=t.rules.find((function(e){return void 0!==e.min}));r&&(e=e.replace("${min}",r.min));var n=t.rules.find((function(e){return void 0!==e.max}));n&&(e=e.replace("${max}",n.max));var a=t.rules.find((function(e){return void 0!==e.len}));a&&(e=e.replace("${len}",a.len));var i=t.rules.find((function(e){return void 0!==e.pattern}));i&&(e=e.replace("${pattern}",i.pattern))}return e}(o,r),a?i.createElement("div",{className:"error-message"}):!o&&n?null:i.createElement("div",{className:"error-message"},o)},je=["buttons"],Se=["pagination"];function Pe(){return Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pe.apply(this,arguments)}function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,c=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(l){c=!0,a=l}finally{try{o||null==r.return||r.return()}finally{if(c)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ae(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(r),!0).forEach((function(t){Te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ke(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var $e=function(e){var t,r=e.displayList,n=void 0===r?[]:r,a=e.dataPath,o=e.children,c=e.deleteItem,l=e.addItem,u=e.moveItemDown,s=e.moveItemUp,f=e.flatten,d=e.errorFields,m=e.getFieldsProps,p=e.schema,h=e.changeList,b=e.listData,v=y().widgets,O=p.props,w=void 0===O?{}:O,j=p.itemProps,S=void 0===j?{}:j,P=(S.buttons,ke(S,je)),x=w.pagination,A=void 0===x?{}:x,I=ke(w,Se),D=A&&De({size:"small",hideOnSinglePage:!0},A),T=(0,i.useRef)(-1),k=xe(g({showDrawer:!1}),2),$=k[0],C=k[1],V=$.showDrawer,L=n.map((function(e,t){return De(De({},e),{},{$idx:t})})),Z=o.map((function(e){var t=f[e],r=t&&t.schema||{};return De({dataIndex:H(e),title:r.required?i.createElement(i.Fragment,null,i.createElement("span",{className:"fr-label-required"}," *"),i.createElement("span",null,r.title)):r.title,width:170,render:function(t,n){var a=N(e,[n.$idx]),o=d.find((function(e){return e.name==a}))||{},c=v[r.readOnlyWidget];return i.createElement("div",null,i.createElement("div",null,c?i.createElement(c,{value:t,schema:r}):function(e,t){if("boolean"===typeof e)return e?"yes":"no";if(F(t)||M(t))return"-";if(Array.isArray(t.enum)&&Array.isArray(t.enumNames))try{return t.enumNames[t.enum.indexOf(e)]}catch(r){return e}return"object"===E(e)?JSON.stringify(e):e}(t,r)),o.error&&i.createElement(Ee,{message:o.error,schema:r}))}},P)}));Z.push({title:"\u64cd\u4f5c",key:"$action",fixed:"right",width:120,render:function(e,t,r){var n=e&&e.$idx||0;return i.createElement("div",null,i.createElement("a",{onClick:function(){return R(n)}},"\u7f16\u8f91"),!w.hideDelete&&i.createElement(ue.Z,{title:"\u786e\u5b9a\u5220\u9664?",onConfirm:function(){return c(n)},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},i.createElement("a",{style:{marginLeft:8}},"\u5220\u9664")),!w.hideMove&&i.createElement(i.Fragment,null,i.createElement(me.Z,{style:{color:"#1890ff",fontSize:16,marginLeft:8},onClick:function(){return s(r)}}),i.createElement(de.Z,{style:{color:"#1890ff",fontSize:16,marginLeft:8},onClick:function(){return u(r)}})))}});var _=m(T.current),R=function(e){T.current=e,C({showDrawer:!0})};return i.createElement(i.Fragment,null,i.createElement("div",{className:"w-100 mb2 tr"},!w.hideAdd&&i.createElement(le.Z,{type:"primary",size:"small",onClick:function(){var e=l();R(e)}},"\u65b0\u589e"),Array.isArray(w.buttons)?w.buttons.map((function(e,t){var r=e.callback,n=e.text,a=e.html,o=function(){console.log({value:b,onChange:h,schema:p})};return"function"===typeof window[r]&&(o=function(){window[r]({value:b,onChange:h,schema:p})}),i.createElement(le.Z,{key:t.toString(),style:{marginLeft:8},size:"small",onClick:o},i.createElement("span",{dangerouslySetInnerHTML:{__html:a||n}}))})):null),i.createElement(we.Z,{width:"600",title:"\u7f16\u8f91",placement:"right",onClose:function(){T.current=-1,C({showDrawer:!1})},visible:V,destroyOnClose:!0},i.createElement("div",{className:"fr-container"},i.createElement(ur,_))),i.createElement(Oe.Z,Pe((Te(t={size:"small",scroll:{x:"max-content"},columns:Z,dataSource:L,rowClassName:function(e,t){var r=e&&e.$idx;return d.find((function(e){return e.name.indexOf("".concat(a,"[").concat(r,"]"))>-1}))?"fr-row-error":""},rowKey:"$idx"},"size","small"),Te(t,"pagination",D),t),I)))},Ce=r(5433);function Ne(){return Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ne.apply(this,arguments)}function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(r),!0).forEach((function(t){Ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ve(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}var Ze=function(e){var t=e.schema,r=e.displayList,n=void 0===r?[]:r,a=e.listData,o=e.changeList,c=e.deleteItem,l=e.addItem,u=e.copyItem,s=e.moveItemUp,f=e.moveItemDown,d=e.getFieldsProps,m=t.props,y=void 0===m?{}:m,p=(t.itemProps,{type:"dashed",children:"\u65b0\u589e\u4e00\u6761"});return y.addBtnProps&&"object"===Le(y.addBtnProps)&&(p=Me(Me({},p),y.addBtnProps)),i.createElement("div",{className:"fr-list-1"},n.map((function(e,t){var r=d(t);return r.displayType="inline",y.hideTitle&&(r.hideTitle=!0),i.createElement("div",{key:t,style:{display:"flex"}},i.createElement(ur,r),i.createElement("div",{style:{marginTop:6}},!y.hideDelete&&i.createElement(ue.Z,{title:"\u786e\u5b9a\u5220\u9664?",onConfirm:function(){return c(t)},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},i.createElement(Ce.Z,{style:{fontSize:17,marginLeft:8}})),!y.hideAdd&&!y.hideCopy&&i.createElement(fe.Z,{style:{fontSize:15,marginLeft:8},onClick:function(){return u(t)}}),!y.hideMove&&i.createElement(i.Fragment,null,i.createElement(me.Z,{style:{fontSize:16,marginLeft:8},onClick:function(){return s(t)}}),i.createElement(de.Z,{style:{fontSize:16,marginLeft:8},onClick:function(){return f(t)}}))))})),i.createElement("div",{style:{marginTop:n.length>0?0:8}},!y.hideAdd&&i.createElement(le.Z,Ne({onClick:l},p)),Array.isArray(y.buttons)?y.buttons.map((function(e,r){var n=e.callback,c=e.text,l=e.html,u=function(){console.log({value:a,onChange:o,schema:t})};return"function"===typeof window[n]&&(u=function(){window[n]({value:a,onChange:o,schema:t})}),i.createElement(le.Z,{key:r.toString(),style:{marginLeft:8},type:"dashed",onClick:u},i.createElement("span",{dangerouslySetInnerHTML:{__html:l||c}}))})):null))},_e=["buttons"],Re=["pagination"];function Je(){return Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Je.apply(this,arguments)}function Be(e){return function(e){if(Array.isArray(e))return Ye(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Ye(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ye(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(r),!0).forEach((function(t){Ke(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ke(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qe(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var He=function(e){var t=e.displayList,r=void 0===t?[]:t,n=e.dataIndex,a=e.children,o=e.deleteItem,c=e.copyItem,l=e.addItem,u=e.moveItemUp,s=e.moveItemDown,f=e.flatten,d=e.schema,m=e.listData,y=e.changeList,p=d.props,h=void 0===p?{}:p,g=d.itemProps,b=void 0===g?{}:g,v=(b.buttons,qe(b,_e)),O=h.pagination,w=void 0===O?{}:O,E=qe(h,Re),j=w&&Ue({size:"small",hideOnSinglePage:!0},w),S=r.map((function(e,t){return{index:t}})),P=a.map((function(e){var t=f[e],r=t&&t.schema||{};return Ue({dataIndex:e,title:r.required?i.createElement(i.Fragment,null,i.createElement("span",{className:"fr-label-required"}," *"),i.createElement("span",null,r.title)):r.title,width:170,render:function(t,r,a){var o=[].concat(Be(n),[r.index]);return i.createElement(ur,{hideTitle:!0,displayType:"inline",key:a.toString(),id:e,dataIndex:o})}},v)}));return h.hideDelete&&h.hideAdd&&h.hideCopy&&h.hideMove||P.push({title:"\u64cd\u4f5c",key:"$action",fixed:"right",width:120,render:function(e,t){var r=t.index;return i.createElement("div",null,!h.hideAdd&&!h.hideCopy&&i.createElement("a",{onClick:function(){return c(r)}},"\u590d\u5236"),!h.hideDelete&&i.createElement(ue.Z,{title:"\u786e\u5b9a\u5220\u9664?",onConfirm:function(){return o(r)},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},i.createElement("a",{style:{marginLeft:8}},"\u5220\u9664")),!h.hideMove&&i.createElement(i.Fragment,null,i.createElement(me.Z,{style:{color:"#1890ff",fontSize:16,marginLeft:8},onClick:function(){return u(r)}}),i.createElement(de.Z,{style:{color:"#1890ff",fontSize:16,marginLeft:8},onClick:function(){return s(r)}})))}}),i.createElement(i.Fragment,null,i.createElement("div",{className:"w-100 mb2 tr"},!h.hideAdd&&i.createElement(le.Z,{type:"primary",size:"small",onClick:l},"\u65b0\u589e"),Array.isArray(h.buttons)?h.buttons.map((function(e,t){var r=e.callback,n=e.text,a=e.html,o=function(){console.log({value:m,onChange:y,schema:d})};return"function"===typeof window[r]&&(o=function(){window[r]({value:m,onChange:y,schema:d})}),i.createElement(le.Z,{key:t.toString(),style:{marginLeft:8},size:"small",onClick:o},i.createElement("span",{dangerouslySetInnerHTML:{__html:a||n}}))})):null),i.createElement(Oe.Z,Je({scroll:{x:"max-content"},columns:P,dataSource:S,rowKey:"index",size:"small",pagination:j},E)))},We=(r(72452),r(87661)),Ge=["tabName","type"];function Qe(){return Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qe.apply(this,arguments)}function Xe(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,c=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(l){c=!0,a=l}finally{try{o||null==r.return||r.return()}finally{if(c)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return tt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rt=We.Z.TabPane,nt=function(e){var t=e.displayList,r=void 0===t?[]:t,n=(e.listData,e.changeList,e.schema),a=e.deleteItem,o=(e.copyItem,e.addItem),c=(e.moveItemUp,e.moveItemDown,e.displayType),l=e.getFieldsProps,u=et((0,i.useState)("0"),2),s=u[0],f=u[1],d=n.props,m=void 0===d?{}:d,y=(n.itemProps,m.tabName),p=m.type,h=Xe(m,Ge),g=function(e){return y instanceof Array?y[e]||e+1:"".concat(y||"\u9879\u76ee"," ").concat(e+1)};return i.createElement(We.Z,Qe({type:p||"line",onChange:f,activeKey:s,onEdit:function(e,t){if("add"===t){var r=o();f("".concat(r))}else{if("remove"!==t)return null;a(Number(e)),f("".concat(e>1?e-1:0))}}},h),r.map((function(e,t){var r=l(t);return r.displayType=c,i.createElement(rt,{tab:g(t),key:"".concat(t)},i.createElement(ur,r))})))},at=r(15649),it=["scrollY"];function ot(){return ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ot.apply(this,arguments)}function ct(e){return function(e){if(Array.isArray(e))return st(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ut(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,c=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(l){c=!0,a=l}finally{try{o||null==r.return||r.return()}finally{if(c)throw a}}return i}(e,t)||ut(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){if(e){if("string"===typeof e)return st(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?st(e,t):void 0}}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ft(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var dt=function(e){var t=e.displayList,r=void 0===t?[]:t,n=e.dataIndex,a=e.children,o=e.deleteItem,c=e.addItem,l=e.moveItemUp,u=e.moveItemDown,s=e.flatten,f=e.schema,d=e.listData,m=e.changeList,y=f.props,p=void 0===y?{}:y,h=f.itemProps,g=void 0===h?{}:h,b=p.scrollY,v=void 0===b?600:b,O=ft(p,it),w=lt((0,at.u)((function(){return{scroll:{y:v}}}),[]),2),E=w[0],j=(w[1],r.map((function(e,t){return{index:t}}))),S=a.map((function(e){var t=s[e],r=t&&t.schema||{};return{dataIndex:e,width:170,title:r.required?i.createElement(i.Fragment,null,i.createElement("span",{className:"fr-label-required"}," *"),i.createElement("span",null,r.title)):r.title,render:function(t,r,a){var o=[].concat(ct(n),[r.index]);return i.createElement(ur,{hideTitle:!0,displayType:"inline",key:a.toString(),id:e,dataIndex:o})}}}));return p.hideDelete&&!Array.isArray(g.buttons)||S.push({title:"\u64cd\u4f5c",key:"$action",fixed:"right",width:120,render:function(e,t,r){return i.createElement(i.Fragment,null,!p.hideDelete&&i.createElement(ue.Z,{title:"\u786e\u5b9a\u5220\u9664?",onConfirm:function(){return o(r)},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},i.createElement("a",null,"\u5220\u9664")),!p.hideMove&&i.createElement(i.Fragment,null,i.createElement(me.Z,{style:{color:"#1890ff",fontSize:16,marginLeft:8},onClick:function(){return l(r)}}),i.createElement(de.Z,{style:{color:"#1890ff",fontSize:16,marginLeft:8},onClick:function(){return u(r)}})),Array.isArray(g.buttons)?g.buttons.map((function(e,t){var r=e.callback,n=e.text,a=e.html,o=function(){};return"function"===typeof window[r]&&(o=function(){window[r]({value:d,onChange:m,schema:f})}),i.createElement("a",{key:t.toString(),style:{marginLeft:8},size:"small",onClick:o},i.createElement("span",{dangerouslySetInnerHTML:{__html:a||n}}))})):null)}}),i.createElement(i.Fragment,null,i.createElement("div",{className:"w-100 mb2 tr"},!p.hideAdd&&i.createElement(le.Z,{type:"primary",size:"small",onClick:c},"\u65b0\u589e"),Array.isArray(p.buttons)?p.buttons.map((function(e,t){var r=e.callback,n=e.text,a=e.html,o=function(){};return"function"===typeof window[r]&&(o=function(){window[r]({value:d,onChange:m,schema:f})}),i.createElement(le.Z,{key:t.toString(),style:{marginLeft:8},size:"small",onClick:o},i.createElement("span",{dangerouslySetInnerHTML:{__html:a||n}}))})):null),i.createElement(Oe.Z,ot({rowKey:"index",scroll:{y:v},components:E,size:"small",columns:S,dataSource:j,pagination:!1},O)))};function mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pt(e){return function(e){if(Array.isArray(e))return ht(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ht(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ht(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gt=function(e){var t=e.parentId,r=e.schema,n=void 0===r?{}:r,a=e.dataIndex,o=void 0===a?[]:a,c=e.children,l=void 0===c?[]:c,u=e.errorFields,s=e.displayType,f=p(),d=f.formData,m=f.flatten,h=y(),g=h.onItemChange,v=h.removeTouched,O="list";try{O=n.widget}catch(x){}var w,E=N(t,o);"string"===typeof E&&(w=(0,b.Z)(d,E));var j=Array.isArray(w)?w:[{}],S={schema:{type:"object",properties:{},props:n.props||{},$id:n.$id},children:l},P={displayList:j,changeList:function(e){g(E,e)},schema:n,dataPath:E,dataIndex:o,children:l,deleteItem:function(e){var t=j.filter((function(t,r){return r!==e}));g(E,t),v("".concat(E,"[").concat(e,"]"))},addItem:function(){var e=L(m,t),r=Q(e.items)||{},n=[].concat(pt(j),[r]),a=n.length-1;return g(E,n),a},copyItem:function(e){var t=j[e],r=[].concat(pt(j.slice(0,e)),[t],pt(j.slice(e)));g(E,JSON.parse(JSON.stringify(r)))},moveItemDown:function(e){if(!(e>=j.length-1)){var t=j[e],r=j[e+1],n=j;n[e]=r,n[e+1]=t,g(E,n),v("".concat(E,"[").concat(e,"]"))}},moveItemUp:function(e){if(0!==e){var t=j[e],r=j[e-1],n=j;n[e]=r,n[e-1]=t,g(E,n),v("".concat(E,"[").concat(e,"]"))}},listData:w,flatten:m,errorFields:u,displayType:s,getFieldsProps:function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(r),!0).forEach((function(t){yt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({_item:S,dataIndex:[].concat(pt(o),[e])},t)}};switch(O){case"list0":case"cardList":default:return i.createElement(ve,P);case"list1":case"simpleList":return i.createElement(Ze,P);case"list2":case"tableList":return i.createElement(He,P);case"list3":case"drawerList":return i.createElement($e,P);case"list4":case"virtualList":return i.createElement(dt,P);case"tabList":return i.createElement(nt,P)}};function bt(){return bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bt.apply(this,arguments)}var vt=function(e){var t=e.children,r=void 0===t?[]:t,n=e.dataIndex,a=void 0===n?[]:n,o=e.displayType,c=e.hideTitle;return i.createElement(i.Fragment,null,r.map((function(e,t){var r={displayType:o,id:e,dataIndex:a,hideTitle:c};return i.createElement(ur,bt({key:t.toString()},r))})))};var Ot=function(e,t,r){var n=this,a=(0,i.useRef)(null),o=(0,i.useRef)(0),c=(0,i.useRef)(null),l=(0,i.useRef)([]),u=(0,i.useRef)(),s=(0,i.useRef)(),f=(0,i.useRef)(e),d=(0,i.useRef)(!0);f.current=e;var m=!t&&0!==t&&"undefined"!==typeof window;if("function"!==typeof e)throw new TypeError("Expected a function");t=+t||0;var y=!!(r=r||{}).leading,p=!("trailing"in r)||!!r.trailing,h="maxWait"in r,g=h?Math.max(+r.maxWait||0,t):null;(0,i.useEffect)((function(){return d.current=!0,function(){d.current=!1}}),[]);var b=(0,i.useMemo)((function(){var e=function(e){var t=l.current,r=u.current;return l.current=u.current=null,o.current=e,s.current=f.current.apply(r,t)},r=function(e,t){m&&cancelAnimationFrame(c.current),c.current=m?requestAnimationFrame(e):setTimeout(e,t)},i=function(e){if(!d.current)return!1;var r=e-a.current,n=e-o.current;return!a.current||r>=t||r<0||h&&n>=g},b=function(t){return c.current=null,p&&l.current?e(t):(l.current=u.current=null,s.current)},v=function e(){var n=Date.now();if(i(n))return b(n);if(d.current){var c=n-a.current,l=n-o.current,u=t-c,s=h?Math.min(u,g-l):u;r(e,s)}},O=function(){for(var f=Date.now(),m=i(f),p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];if(l.current=g,u.current=n,a.current=f,m){if(!c.current&&d.current)return o.current=a.current,r(v,t),y?e(a.current):s.current;if(h)return r(v,t),e(a.current)}return c.current||r(v,t),s.current};return O.cancel=function(){c.current&&(m?cancelAnimationFrame(c.current):clearTimeout(c.current)),o.current=0,l.current=a.current=u.current=c.current=null},O.isPending=function(){return!!c.current},O.flush=function(){return c.current?b(Date.now()):s.current},O}),[y,h,t,g,p,m]);return b},wt=r(95305),Et=r(41404),jt="${title} is not a valid ${type}",St={default:"Validation error on field ${title}",required:"${title} is required",whitespace:"${title} cannot be empty",date:{format:"${title} is invalid for format date",parse:"${title} could not be parsed as date",invalid:"${title} is invalid date"},types:{string:jt,method:jt,array:jt,object:jt,number:jt,date:jt,boolean:jt,integer:jt,float:jt,regexp:jt,email:jt,url:jt,hex:jt},string:{len:"${title} must be exactly ${len} characters",min:"${title} must be at least ${min} characters",max:"${title} cannot be longer than ${max} characters",range:"${title} must be between ${min} and ${max} characters"},number:{len:"${title} must equal ${len}",min:"${title} cannot be less than ${min}",max:"${title} cannot be greater than ${max}",range:"${title} must be between ${min} and ${max}"},array:{len:"${title} must be exactly ${len} in length",min:"${title} cannot be less than ${min} in length",max:"${title} cannot be greater than ${max} in length",range:"${title} must be between ${min} and ${max} in length"},pattern:{mismatch:"${title} does not match pattern ${pattern}"}},Pt="${title}\u7684\u7c7b\u578b\u4e0d\u662f${type}",xt={default:"${title}\u672a\u901a\u8fc7\u6821\u9a8c",required:"${title}\u5fc5\u586b",whitespace:"${title}\u4e0d\u80fd\u4e3a\u7a7a",date:{format:"${title}\u7684\u683c\u5f0f\u9519\u8bef",parse:"${title}\u65e0\u6cd5\u88ab\u89e3\u6790",invalid:"${title}\u6570\u636e\u4e0d\u5408\u6cd5"},types:{string:Pt,method:Pt,array:Pt,object:Pt,number:Pt,date:Pt,boolean:Pt,integer:Pt,float:Pt,regexp:Pt,email:Pt,url:Pt,hex:Pt},string:{len:"${title}\u957f\u5ea6\u4e0d\u662f${len}",min:"${title}\u957f\u5ea6\u4e0d\u80fd\u5c0f\u4e8e${min}",max:"${title}\u957f\u5ea6\u4e0d\u80fd\u5927\u4e8e${max}",range:"${title}\u957f\u5ea6\u9700\u5728${min}\u4e8e${max}\u4e4b\u95f4"},number:{len:"${title}\u4e0d\u7b49\u4e8e${len}",min:"${title}\u4e0d\u80fd\u5c0f\u4e8e${min}",max:"${title}\u4e0d\u80fd\u5927\u4e8e${max}",range:"${title}\u9700\u5728${min}\u4e0e${max}\u4e4b\u95f4"},array:{len:"${title}\u957f\u5ea6\u4e0d\u662f${len}",min:"${title}\u957f\u5ea6\u4e0d\u80fd\u5c0f\u4e8e${min}",max:"${title}\u957f\u5ea6\u4e0d\u80fd\u5927\u4e8e${max}",range:"${title}\u957f\u5ea6\u9700\u5728${min}\u4e8e${max}\u4e4b\u95f4"},pattern:{mismatch:"${title}\u672a\u901a\u8fc7\u6b63\u5219\u5224\u65ad${pattern}"}};function At(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function It(e){return function(e){if(Array.isArray(e))return Dt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Dt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Tt=function e(t,r,n){if(!Z(t))return t;var a={};return Object.keys(t).forEach((function(i){var o=t[i];Z(o)?a[i]=e(o,r,n):R(o)?a[i]=Y(o,r,n):a[i]=o})),a},kt=function(e){var t=e.path,r=e.formData,n=e.flatten,a=e.options,i=function(e,t){for(var r=[],n=e.split(".");n.length>0;)r.push(n.join(".")),n.pop();var a=[].concat(r);return r.forEach((function(e){var r=C(e),n=r.id,i=r.dataIndex;if(t[n]&&t[n].schema&&Array.isArray(t[n].schema.dependecies)){var o=t[n].schema.dependecies.map((function(e){return N(e,i)}));a=[].concat(It(a),It(o))}})),ce(a).map((function(e){return"]"===e.slice(-1)?e.replace(/\[[0-9]+\]$/,""):e}))}(t,n),o=i.map((function(e){var t=C(e),i=t.id;t.dataIndex;if(n[i]||n["".concat(i,"[]")]){var o=n[i]||n["".concat(i,"[]")],c=(0,b.Z)(r,e),l=o.schema||{},u=Tt(l,r,e);return Ct(c,u,e,a)}return Promise.resolve()}));return oe(o).then((function(e){return e.filter((function(e){return Array.isArray(e)&&e.length>0})).map((function(e){return{name:e[0].field,error:e.map((function(e){return e.message})).filter((function(e){return!!e}))}}))})).catch((function(e){console.log(e)}))},$t=function(e){var t=e.formData,r=e.flatten,n=e.options,a=function(e,t){if(!Array.isArray(e))return[];var r=It(e).filter((function(e){return e.indexOf("]")>-1})).map((function(e){var t=e.lastIndexOf("]");return e.substring(0,t+1)})),n=ce(r),a=Object.keys(t),i=It(e);return n.forEach((function(e){var r=C(e),n=r.id,o=r.dataIndex;if(t[n]){var c=a.filter((function(e){return 0===e.indexOf(n)&&e!==n})).map((function(e){return N(e,o).split("[]")[0]})).filter((function(e){return!!e}));i=[].concat(It(i),It(ce(c)))}})),ce(i)}(ne(t),r);return oe(a.map((function(e){var a=C(e),i=a.id;a.dataIndex;if(r[i]||r["".concat(i,"[]")]){var o=r[i]||r["".concat(i,"[]")],c=(0,b.Z)(t,e),l=o.schema||{},u=Tt(l,t,e);return Ct(c,u,e,n)}return Promise.resolve()}))).then((function(e){return e.filter((function(e){return Array.isArray(e)&&e.length>0&&null!==e[0].message})).map((function(e){return{name:e[0].field,error:e.map((function(e){return e.message})).filter((function(e){return!!e}))}}))})).catch((function(e){console.log(e)}))},Ct=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t.hidden)return Promise.resolve();var a,i=n.validateMessages,o=void 0===i?{}:i,c=n.locale,l=void 0===c?"cn":c,u=xt,s=St,f=G(t,r);try{a=new wt.Z(f)}catch(m){return Promise.resolve()}var d="en"===l?s:u;return(0,Et.Z)(d,o),a.messages(d),a.validate(At({},r,e)).then((function(e){return[{field:r,message:null}]})).catch((function(e){var t=e.errors;e.fields;return t}))},Nt=["onChange","value","defaultValue","schema","readOnly"];function Ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(r),!0).forEach((function(t){Vt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ft(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lt(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Zt=function(e){var t=e.onChange,r=e.value,n=e.defaultValue,a=e.schema,i=e.readOnly,o=Lt(e,Nt),c=Mt({},a),l=c||{},u=l.trigger,s=l.valuePropName,f={},d="value",m=void 0===r?n:r;s&&"string"===typeof s?(d=s,f[s]=m):f.value=m;var y=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=q.apply(void 0,[d].concat(r));t(a)};u&&"string"===typeof u?(f.onChange=y,f[u]=y):f.onChange=y;var p={disabled:c.disabled||c["ui:disabled"],readOnly:c.readOnly||c["ui:readonly"]||i,hidden:c.hidden||c["ui:hidden"]};return Mt(Mt(Mt({},f),{},{schema:c},p),o)},_t={default:"input",string:"input",array:"list",boolean:"checkbox",integer:"number",number:"number",object:"map",html:"html","string:upload":"upload","string:url":"url","string:dateTime":"date","string:date":"date","string:year":"date","string:month":"date","string:week":"date","string:quarter":"date","string:time":"time","string:textarea":"textarea","string:color":"color","string:image":"imageInput","range:time":"timeRange","range:dateTime":"dateRange","range:date":"dateRange","range:year":"dateRange","range:month":"dateRange","range:week":"dateRange","range:quarter":"dateRange","*?enum":"radio","*?enum_long":"select","array?enum":"checkboxes","array?enum_long":"multiSelect","*?readOnly":"html"};var Rt={checkbox:{valuePropName:"checked"},switch:{valuePropName:"checked"}};function Jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(r),!0).forEach((function(t){Yt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var zt=function(e){return i.createElement("div",null,i.createElement("div",{style:{color:"red"}},"schema\u672a\u5339\u914d\u5230\u5c55\u793a\u7ec4\u4ef6\uff1a"),i.createElement("div",null,JSON.stringify(e)))},Ut=function(e){var t=e.schema,r=e.onChange,n=e.value,a=e.dependValues,o=e.children,c=e.onItemChange,l=e.formData,u=e.getValue,s=e.readOnly,f=e.dataPath,d=e.disabled,m=e.dataIndex,h=e.watch,g=y(),b=g.widgets,v=g.mapping,O=g.setValueByPath,w=g.getSchemaByPath,E=g.setSchemaByPath,j=g.setSchema,S=g.setValues,P=g.getValues,x=g.resetFields,A=g.setErrorFields,I=g.removeErrorField,D=p().globalProps,T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_t,r=e.type,n=e.format,a=e.enum,i=e.readOnly,o=e.widget,c=[];i&&(c.push("".concat(r,"?readOnly")),c.push("*?readOnly")),a&&(Array.isArray(a)&&("array"===r&&a.length>6||"array"!==r&&a.length>2)?(c.push("".concat(r,"?enum_long")),c.push("*?enum_long")):(c.push("".concat(r,"?enum")),c.push("*?enum")));var l=o||n;l&&c.push("".concat(r,":").concat(l)),c.push(r);var u="";return c.some((function(e){return!!(u=t[e])})),u}(t,v),k=t.widget||t["ui:widget"];k&&b[k]&&(T=k);var $=t.readOnlyWidget||"html";if(!s||F(t)||M(t)||(T=$),!T)return T="input",i.createElement(zt,{schema:t});var C=b[T],N=Rt[T],V=Bt(Bt({schema:Bt(Bt({},t),N),onChange:r,value:n,children:o,disabled:d,readOnly:s},t.props),D);if("string"===t.type&&"number"===typeof t.max&&(V.maxLength=t.max),["title","placeholder","disabled","format"].forEach((function(e){t[e]&&(V[e]=t[e])})),t.props&&(V=Bt(Bt({},V),t.props)),Object.keys(t).forEach((function(e){"string"===typeof e&&e.toLowerCase().indexOf("props")>-1&&e.length>5&&(V[e]=t[e])})),Z(V.addonAfter)&&V.addonAfter.widget){var L=b[V.addonAfter.widget];V.addonAfter=i.createElement(L,t)}V.addons={dependValues:a,onItemChange:c,getValue:u,formData:l,dataPath:f,dataIndex:m,setValueByPath:O,setValue:O,getSchemaByPath:w,setSchemaByPath:E,setSchema:j,setValues:S,getValues:P,resetFields:x,setErrorFields:A,removeErrorField:I,hideSelf:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];E(t.$id,{hidden:e})},watch:h};var _=Zt(V);return i.createElement(i.Suspense,{fallback:i.createElement("div",null)},i.createElement("div",{className:"fr-item-wrapper"},i.createElement(C,_)))},Kt=function(e,t){if(e.schema&&t.schema){if("#"===e.schema.$id)return!1;if(e.schema.hidden&&t.schema.hidden)return!0}return e.readOnly===t.readOnly&&(e.disabled===t.disabled&&(JSON.stringify(e.dependValues)===JSON.stringify(t.dependValues)&&((!F(e.schema)||!F(t.schema))&&(JSON.stringify(e.value)===JSON.stringify(t.value)&&JSON.stringify(e.schema)===JSON.stringify(t.schema)))))},qt=i.memo(Ut,Kt);function Ht(e){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ht(e)}var Wt=function(e){var t=e.schema,r=t.extra,n=y().widgets;if(!r)return null;var a=n[r.widget];if(a)return i.createElement(a,{schema:t});var o="";return"string"===typeof r&&(o=r),"object"===Ht(r)&&r.text&&(o=r.text),o&&i.createElement("div",{className:"fr-form-item-extra",dangerouslySetInnerHTML:{__html:o}})},Gt=function(e){var t=e.displayType,r=e.schema,n=r.description,a=r.descType;if(!n)return null;switch(t){case"row":return i.createElement("span",{className:"fr-tooltip-toggle","aria-label":n},i.createElement("i",{className:"fr-tooltip-icon"}),i.createElement("div",{className:"fr-tooltip-container"},i.createElement("i",{className:"fr-tooltip-triangle"}),n));case"inline":return null;default:return"icon"===a?i.createElement("span",{className:"fr-tooltip-toggle","aria-label":n},i.createElement("i",{className:"fr-tooltip-icon"}),i.createElement("div",{className:"fr-tooltip-container"},i.createElement("i",{className:"fr-tooltip-triangle"}),n)):i.createElement("span",{className:"fr-desc ml2"},"( ".concat(n," )"))}},Qt=function(e){var t=e.labelClass,r=e.labelStyle,n=e.schema,a=e.displayType,o=h(),c=o.displayType,l=o.readOnly,u=n.title,s=n.required,f="object"===n.type,d=n.displayType||a||c||"column";return i.createElement("div",{className:t,style:r},u?i.createElement("label",{className:"fr-label-title ".concat(T(n,l)||"column"===d?"no-colon":""),title:u},!0===s&&i.createElement("span",{className:"fr-label-required"}," *"),i.createElement("span",{className:"".concat(f?"b":""," ").concat("column"===d?"flex-none":"")},i.createElement("span",{dangerouslySetInnerHTML:{__html:u}})),i.createElement(Gt,{schema:n,displayType:d})):null)};function Xt(){return Xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xt.apply(this,arguments)}function er(e){return function(e){if(Array.isArray(e))return tr(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return tr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rr=function(e){var t=e.$id,r=e.dataIndex,n=e.dataPath,a=e._value,o=e.dependValues,c=e._schema,l=e.labelClass,u=e.labelStyle,s=e.contentClass,f=e.children,d=e.errorFields,m=void 0===d?[]:d,g=e.hideTitle,b=e.displayType,v=p(),O=v.formData,w=v.flatten,E=h(),j=E.debounceInput,S=E.readOnly,P=E.disabled,x=E.showValidate,A=E.validateMessages,I=E.locale,D=E.watch,k=y(),C=k.onValuesChange,N=k.onItemChange,M=k.setEditing,V=k.touchKey,L=k._setErrors,Z=(0,i.useRef)();Z.current=O;var _=m.find((function(e){return e.name===n})),R=_&&_.error,J=Array.isArray(R)&&R.length>0&&x?s+" ant-form-item-has-error":s,B={},Y=Ot(M,350),z=void 0!==S?S:c.readOnly,U=void 0!==P?P:c.disabled,K={labelClass:l,labelStyle:u,schema:c,displayType:b},q={message:R,schema:c,displayType:b,softHidden:"inline"===b,hardHidden:!1===x||!0===z},H={className:l,style:u},W=!g&&"string"===typeof c.title;g&&c.title&&(c.placeholder=c.placeholder||c.title);var G={$id:t,schema:c,readOnly:z,disabled:U,onChange:function(e){V(n),j&&(M(!0),Y(!1)),"string"===typeof n&&N(n,e),"function"===typeof C&&C(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},n,e),Z.current),kt({path:n,formData:Z.current,flatten:w,options:{locale:I,validateMessages:A}}).then((function(e){L((function(t){return function(e){if(Array.isArray(e)){for(var t=[],r=0;r<e.length;r++){var n=t.findIndex((function(t){return t.name===e[r].name}));if(n>-1){var a=t[n],i=a.error,o=e[r].error;t[n]={name:a.name,error:i.length>0&&o.length>0?o:[]}}else t.push(e[r])}return t.filter((function(e){return Array.isArray(e.error)&&e.error.length>0}))}console.log("in removeDups: param is not an array")}([].concat(er(t),er(e)))}))}))},getValue:function(e){return $(O,e)},formData:O,value:a,dependValues:o,onItemChange:N,dataIndex:r,dataPath:n,children:f,watch:D};if(T(c,z))return i.createElement(i.Fragment,null,W&&i.createElement("div",H),i.createElement("div",{className:J,style:B},i.createElement(qt,G),i.createElement(Wt,G),i.createElement(Ee,q)));var Q=i.createElement(Qt,K);return F(c)?(Q=i.createElement("div",{style:{display:"flex"}},Q,i.createElement(Ee,q)),i.createElement("div",{className:J,style:B},i.createElement(qt,Xt({},G,{message:R,title:W?Q:void 0})),i.createElement(Wt,G))):i.createElement(i.Fragment,null,W&&Q,i.createElement("div",{className:"".concat(J," ").concat(g?"fr-content-no-title":""),style:B},i.createElement(qt,G),i.createElement(Wt,G),i.createElement(Ee,q)))},nr=["id","_item","dataIndex","hideTitle","hideValidation","debugCss"],ar=["id","item","dataIndex","dataPath","hideTitle","hideValidation","debugCss","schema","_value","dependValues","displayType","column","labelWidth","readOnly","errorFields","effectiveLabelWidth"];function ir(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function or(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cr(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var lr=function(e){var t=e.id,r=e.item,n=e.dataIndex,a=e.dataPath,o=e.hideTitle,c=e.hideValidation,l=e.debugCss,u=e.schema,s=e._value,f=e.dependValues,d=e.displayType,m=e.column,y=(e.labelWidth,e.readOnly),p=e.errorFields,h=e.effectiveLabelWidth,g=cr(e,ar);if(u.hidden)return null;var b=u.displayType||g.displayType||d||"column",v=M(u),O=F(u),w=O||v,E=T(u,y),j=u.width||u["ui:width"],S="fr-field ".concat("inline"===b?"":"w-100"," flex"),P="fr-label",x="fr-content";switch("string"===typeof u.className&&(S+=" "+u.className),u.type){case"object":O&&(u.title&&(P+=" fr-label-object"),S+=" fr-field-object");break;case"array":v&&(u.title&&(P+=" fr-label-list"),S+=" fr-field-column");break;case"boolean":E&&(x+=" fr-content-column",S+=" flex ".concat("column"===b?"flex-column":""))}if(!w&&!E)if("column"===b)switch(S+=" flex-column",P+=" fr-label-column",x+=" fr-content-column",u.type){case"object":case"boolean":break;case"array":u.title&&u.enum}else"row"===b&&(S+="",P+=" fr-label-row",x+=" fr-content-row",O||E||(P+=" flex-shrink-0 fr-label-row",x+=" flex-grow-1 relative"));var A={};u.hidden&&(A.display="none"),O||(j?(A.width=j,A.paddingRight=8):m>1&&(A.width="calc(100% /".concat(m,")"),A.paddingRight=8));var I,D,k={width:"number"===typeof(D=h)||"string"===typeof D&&!Number.isNaN(Number(D))?Number(h):"string"===typeof(I=h)&&I.match(/^([0-9])*(%|px|rem|em)$/i)?h:110};(w||"column"===b)&&(k={flexGrow:1}),"inline"===b&&(k={marginTop:5,paddingLeft:12},P="",x+=" fr-content-inline",-1===S.indexOf("fr-field-object")&&(S+=" fr-field-inline"));var $=r.children&&r.children.length>0,C={$id:t,dataIndex:n,dataPath:a,_value:s,dependValues:f,_schema:u,labelClass:P,labelStyle:k,contentClass:x,errorFields:p,displayType:b,hideTitle:o,hideValidation:c},N=i.createElement("div",{className:"flex flex-wrap"},i.createElement(vt,{dataIndex:n,errorFields:p,displayType:b,hideTitle:o},r.children)),V=i.createElement(gt,{parentId:t,schema:u,dataIndex:n,errorFields:p,displayType:b,hideTitle:o},r.children),L=null;return $?O?L=N:v&&(L=V):E&&(L=u.title),i.createElement("div",{style:A,className:"".concat(S," ").concat(l?"debug":"")},i.createElement(rr,C,L))},ur=function(e){var t=e.id,r=void 0===t?"#":t,n=e._item,a=e.dataIndex,o=void 0===a?[]:a,c=e.hideTitle,l=void 0!==c&&c,u=e.hideValidation,s=void 0!==u&&u,f=e.debugCss,d=cr(e,nr),m=(0,i.useRef)(),y=p(),g=y.flatten,b=y.errorFields,v=y.isEditing,O=y.formData,w=y.allTouched,E=h(),j=E.displayType,S=E.column,P=E.labelWidth,x=E.readOnly,A=n||g[r];if(!A)return null;var I,D=N(r,o),T=k(D),C=$(O,D),F=_(A.schema),M=F.dependencies,V=[];try{Array.isArray(M)&&M.forEach((function(e){var t=N(e,o),r=$(O,t);V.push(r)}))}catch(R){console.error("dependencies \u8ba1\u7b97\u62a5\u9519\uff0c".concat(M))}try{I=$(O,T)}catch(R){}v&&m.current?F=m.current:(JSON.stringify(F).indexOf("rootValue")>-1&&(F=J(F,I)),m.current=F);var L=K("labelWidth",r,g)||P,Z=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(r),!0).forEach((function(t){or(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ir(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({id:r,item:A,dataIndex:o,dataPath:D,_value:C,dependValues:V,hideTitle:l,hideValidation:s,debugCss:f,schema:F,displayType:j,column:S,labelWidth:P,readOnly:x,errorFields:b,effectiveLabelWidth:L,allTouched:w},d);return i.createElement(lr,Z)},sr=function(e){var t=e.watchKey,r=e.watch,n=e.formData,a=e.firstMount,o=$(n,t),c=r[t];return(0,i.useEffect)((function(){var e=function(){if("function"===typeof c)try{c(o)}catch(e){console.log("".concat(t,"\u5bf9\u5e94\u7684watch\u51fd\u6570\u6267\u884c\u62a5\u9519\uff1a"),e)}else if(c&&"function"===typeof c.handler)try{c.handler(o)}catch(e){console.log("".concat(t,"\u5bf9\u5e94\u7684watch\u51fd\u6570\u6267\u884c\u62a5\u9519\uff1a"),e)}};a?c&&c.immediate&&e():e()}),[JSON.stringify(o),a]),null},fr=r(1498),dr=r(41882);function mr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(r),!0).forEach((function(t){pr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var hr=function(e,t,r){var n=_(e);return r&&(n=function(e,t){var r=_(e);return ne(r).forEach((function(e){var n=C(e),a=n.id;if(n.dataIndex,t[a]){var i=(t[a].schema||{}).hidden;R(i)&&(i=Y(i,r,e)),void 0!==(0,b.Z)(r,e)&&i&&(0,O.Z)(r,e,void 0)}})),r}(e,t)),n=gr(n,t),n=W(n),n=re(n)},gr=function(e,t){var r=e,n=[],a=[],i=[];Object.keys(t).forEach((function(e){var r=t[e]&&t[e].schema&&t[e].schema.bind,o=e.replace("[]","");!1===r?n.push(o):"string"===typeof r?a.push({key:o,bind:r}):function(e){return Array.isArray(e)&&e.every((function(e){return"string"===typeof e}))}(r)&&i.push({key:o,bind:r})}));var o;return o=r,n.forEach((function(e){(0,dr.Z)(o,e)})),a.forEach((function(e){var t=e.key,r=e.bind,n=(0,b.Z)(o,t),a=(0,b.Z)(o,r);Z(a)&&(n=yr(yr({},a),n)),(0,O.Z)(o,r,n),(0,dr.Z)(o,t)})),i.forEach((function(e){var t=e.key,r=e.bind,n=(0,b.Z)(o,t);(0,dr.Z)(o,t),Array.isArray(n)&&n.forEach((function(e,t){r[t]&&(0,O.Z)(o,r[t],e)}))})),r},br=function(e,t){var r=_(e),n=[],a=[];Object.keys(t).forEach((function(e){var r=t[e]&&t[e].schema&&t[e].schema.bind,i=e.replace("[]","");"string"===typeof r?n.push({key:i,bind:r}):function(e){return Array.isArray(e)&&e.every((function(e){return"string"===typeof e}))}(r)&&a.push({key:i,bind:r})}));var i;return i=r,n.forEach((function(e){var t=e.key,r=e.bind,n=(0,b.Z)(i,r),a=(0,b.Z)(i,t);Z(a)&&(n=yr(yr({},a),n)),(0,O.Z)(i,t,n),(0,dr.Z)(i,r)})),a.forEach((function(e){var t=e.key,r=e.bind,n=[];r.forEach((function(e){var t=(0,b.Z)(i,e);void 0!==t&&n.push(t),(0,dr.Z)(i,e)})),n.length>0&&(0,O.Z)(i,t,n)})),r};function vr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vr(Object(r),!0).forEach((function(t){wr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Er(e){return function(e){if(Array.isArray(e))return Pr(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Sr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,c=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(l){c=!0,a=l}finally{try{o||null==r.return||r.return()}finally{if(c)throw a}}return i}(e,t)||Sr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sr(e,t){if(e){if("string"===typeof e)return Pr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pr(e,t):void 0}}function Pr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xr=function(e){var t=e||{},r=t.formData,n=t.onChange,a=t.onValidate,o=t.showValidate,c=t.logOnMount,l=t.logOnSubmit,u=c||window.FR_LOGGER&&window.FR_LOGGER.logOnMount,s=l||window.FR_LOGGER&&window.FR_LOGGER.logOnSubmit,f=jr((0,i.useState)(0),2),d=f[0],m=f[1],y=jr(g({formData:{},submitData:{},errorFields:[],outErrorFields:[],isValidating:!1,outsideValidating:!1,isSubmitting:!1,isEditing:!1,allTouched:!1,touchedKeys:[],flatten:{},finalFlatten:{},firstMount:!0}),2),p=y[0],h=y[1],b=(0,i.useRef)(),v=(0,i.useRef)(),w=(0,i.useRef)("cn"),E=(0,i.useRef)(),j=(0,i.useRef)(),S=(0,i.useRef)({}),P=(0,i.useRef)({}),x=(0,i.useRef)({}),A=(0,i.useRef)([]),I=(0,i.useRef)(),D=(0,i.useRef)(),T=(0,i.useRef)([]),k=p.formData,$=p.submitData,C=p.errorFields,N=void 0===C?[]:C,F=p.outErrorFields,M=void 0===F?[]:F,L=p.isValidating,Z=p.outsideValidating,R=p.isSubmitting,J=p.isEditing,B=p.allTouched,Y=p.touchedKeys,K=p.flatten,q=p.finalFlatten,H=p.firstMount;I.current=N,D.current=M,A.current=Y,P.current=K,x.current=q;var W=e&&e.hasOwnProperty("formData")?r:k;S.current=(0,i.useMemo)((function(){return b.current?Q(b.current,W):{}}),[JSON.stringify(W),JSON.stringify(b.current)]),T.current=(0,i.useMemo)((function(){if(Array.isArray(I.current)&&Array.isArray(D.current)&&D.current.length>0){var e=[].concat(Er(I.current),Er(D.current));return(0,fr.Z)(e,(function(e){return e.name}))}return I.current}),[JSON.stringify(I.current),JSON.stringify(D.current)]),(0,i.useEffect)((function(){if(b.current&&H){var e=V(b.current);h({flatten:e,firstMount:!1})}}),[JSON.stringify(b.current),H]),(0,i.useEffect)((function(){if(!H){var e=_(P.current);Object.entries(P.current).forEach((function(t){var r=jr(t,2),n=r[0],a=r[1];if(z(a.schema)){var i=n.indexOf("]"),o=i>-1&&i<n.length-1,c=JSON.stringify(a.schema).indexOf("rootValue")>-1;o&&c||(e[n].schema=U(a.schema,S.current,n))}})),h({finalFlatten:e})}}),[JSON.stringify(P.current),JSON.stringify(S.current),H]);var G=function(e){"function"===typeof n?n(e):h({formData:e})},X=function(e,t){"string"===typeof e&&("#"!==e?((0,O.Z)(S.current,e,t),G(Or({},S.current))):G(Or({},t)))},ee=function(){return h({isValidating:!0,allTouched:!0,isSubmitting:!1}),$t({formData:S.current,flatten:x.current,options:{locale:w.current,validateMessages:j.current}}).then((function(e){h({errorFields:e});var t=(0,fr.Z)([].concat(Er(e||[]),Er(D.current)),(function(e){return e.name}));return"function"===typeof v.current?Promise.resolve(hr(S.current,x.current,E.current)).then((function(e){return h({isValidating:!0,isSubmitting:!1,outsideValidating:!0,submitData:e}),{data:e,errors:t}})):Promise.resolve(hr(S.current,x.current,E.current)).then((function(e){return h({isValidating:!1,isSubmitting:!0,submitData:e}),{data:e,errors:t}}))})).catch((function(e){return console.log("submit error:",e),e}))},te={formData:S.current,schema:b.current,flatten:q,touchedKeys:A.current,allTouched:B,touchKey:function(e){if(!(A.current.indexOf(e)>-1)){var t=[].concat(Er(A.current),[e]);h({touchedKeys:t})}},removeTouched:function(e){var t=A.current.filter((function(t){return-1===t.indexOf(e)}));h({touchedKeys:t})},changeTouchedKeys:function(e){h({touchedKeys:e})},onItemChange:X,setValueByPath:X,getSchemaByPath:function(e){try{return P.current[e].schema}catch(t){return console.log(t,"getSchemaByPath"),{}}},setSchemaByPath:function(e,t){if(P.current[e]){var r=_(P.current);try{var n="function"===typeof t?t(r[e].schema):t;r[e].schema=Or(Or({},r[e].schema),n),h({flatten:r}),P.current=r}catch(a){console.error(a,"setSchemaByPath")}}else console.error("path\uff1a'".concat(e,"' \u4e0d\u5b58\u5728(form.setSchemaByPath)"))},setSchema:function(e){var t=_(P.current);try{Object.keys(e).forEach((function(r){if(P.current[r]){var n=e[r],a="function"===typeof n?n(t[r].schema):n;t[r].schema=Or(Or({},t[r].schema),a)}else console.error("path\uff1a'".concat(r,"' \u4e0d\u5b58\u5728(form.setSchemaByPath)"))})),h({flatten:t}),P.current=t}catch(r){console.error(r,"setSchema")}},setValues:function(e){var t=br(e,P.current);G(t)},getValues:function(){return hr(S.current,x.current,E.current)},resetFields:function(e){h({formData:(null===e||void 0===e?void 0:e.formData)||{},submitData:(null===e||void 0===e?void 0:e.submitData)||{},errorFields:(null===e||void 0===e?void 0:e.errorFields)||[],touchedKeys:(null===e||void 0===e?void 0:e.touchedKeys)||[],allTouched:(null===e||void 0===e?void 0:e.allTouched)||!1})},submit:ee,init:ee,submitData:$,errorFields:T.current,isValidating:L,outsideValidating:Z,isSubmitting:R,endValidating:function(){return h({isValidating:!1,outsideValidating:!1,isSubmitting:!0})},endSubmitting:function(){return h({isSubmitting:!1,isValidating:!1,outsideValidating:!1})},setErrorFields:function(e){var t=[];Array.isArray(e)?t=[].concat(Er(e),Er(D.current)):e&&e.name?t=[e].concat(Er(D.current)):console.log("error format is wrong"),t=(0,fr.Z)(t,(function(e){return e.name})),h({outErrorFields:t})},removeErrorField:function(e){var t=I.current.filter((function(t){return-1===t.name.indexOf(e)})),r=D.current.filter((function(t){return-1===t.name.indexOf(e)}));h({errorFields:t,outErrorFields:r})},isEditing:J,setEditing:function(e){h({isEditing:e})},syncStuff:function(e){var t=e.schema,r=e.locale,n=e.validateMessages,a=e.beforeFinish,i=e.removeHiddenData;b.current=t,w.current=r,j.current=n,v.current=a,E.current=i,m(d+1)},showValidate:o,setFirstMount:function(e){h({firstMount:e})},logOnMount:u,logOnSubmit:s,_setErrors:function(e){if("function"===typeof a){var t=e?e.map((function(e){return e.name})):[];a(t)}h("function"===typeof e?function(t){var r=t.errorFields;return{errorFields:e(r)}}:{errorFields:e})}};return te};var Ar=["id","widgets","mapping","form","className","style","beforeFinish","onFinish","displayType","schema","debug","debugCss","locale","debounceInput","size","configProvider","theme","validateMessages","watch","config","onMount","labelWidth","readOnly","disabled","allCollapsed","onValuesChange","column","removeHiddenData","globalProps"],Ir=["onItemChange","setEditing","touchKey","setValueByPath","getSchemaByPath","setSchemaByPath","setSchema","setValues","getValues","resetFields","submit","endValidating","endSubmitting","setErrorFields","removeErrorField","removeTouched","changeTouchedKeys","syncStuff","logOnMount","logOnSubmit","setFirstMount","_setErrors"],Dr=["isOldVersion","schema"];function Tr(){return Tr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tr.apply(this,arguments)}function kr(e){return kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kr(e)}function $r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$r(Object(r),!0).forEach((function(t){Nr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$r(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fr(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Mr=function(e,t){console.log("onFinish:",{data:e,errors:t})};function Vr(e){var t=e.id,r=e.widgets,n=e.mapping,a=e.form,o=e.className,c=e.style,l=e.beforeFinish,u=e.onFinish,s=void 0===u?Mr:u,y=e.displayType,p=void 0===y?"column":y,h=e.schema,g=e.debug,b=e.debugCss,v=e.locale,O=void 0===v?"cn":v,w=e.debounceInput,E=void 0!==w&&w,j=e.size,S=(e.configProvider,e.theme),P=e.validateMessages,x=e.watch,A=void 0===x?{}:x,I=e.config,T=e.onMount,k=e.labelWidth,$=e.readOnly,C=e.disabled,N=e.allCollapsed,F=void 0!==N&&N,M=e.onValuesChange,V=e.column,L=e.removeHiddenData,Z=void 0!==L&&L,_=e.globalProps,R=void 0===_?{}:_,J=Fr(e,Ar);try{a.submit}catch(ve){console.error("form \u4e3a\u5fc5\u586b props\uff0c<FormRender /> \u6ca1\u6709\u63a5\u6536\u5230 form \u5c5e\u6027!")}var B=h&&h.column||V,Y=(a.onItemChange,a.setEditing,a.touchKey,a.setValueByPath,a.getSchemaByPath,a.setSchemaByPath,a.setSchema,a.setValues,a.getValues,a.resetFields,a.submit,a.endValidating),z=a.endSubmitting,U=a.setErrorFields,K=(a.removeErrorField,a.removeTouched,a.changeTouchedKeys,a.syncStuff),q=a.logOnMount,H=a.logOnSubmit,W=a.setFirstMount,G=(a._setErrors,Fr(a,Ir)),Q=G.submitData,X=G.errorFields,ee=G.isValidating,te=G.outsideValidating,re=G.isSubmitting,ne=G.formData,oe=G.flatten,ce=G.showValidate,le=G.firstMount;(0,i.useEffect)((function(){h&&h.type&&(W(!0),K({schema:h,locale:O,validateMessages:P,beforeFinish:l,onMount:T,removeHiddenData:Z}))}),[JSON.stringify(h)]),(0,i.useEffect)((function(){!le&&h&&h.type&&("function"===typeof T&&setTimeout((function(){T()}),0),setTimeout(ue,0))}),[JSON.stringify(h),le]);var ue=function(){var e=(new Date).getTime();if("function"!==typeof q&&"function"!==typeof H||(sessionStorage.setItem("FORM_MOUNT_TIME",e),sessionStorage.setItem("FORM_START",e)),"function"===typeof q){var r={schema:h,url:location.href,formData:JSON.stringify(a.getValues()),formMount:ie(e)};t&&(r.id=t),q(r)}"function"===typeof H&&(sessionStorage.setItem("NUMBER_OF_SUBMITS",0),sessionStorage.setItem("FAILED_ATTEMPTS",0))};(0,i.useEffect)((function(){return function(){a.resetFields()}}),[]);var se=(0,i.useMemo)((function(){return Cr(Cr({},G),{},{globalProps:R},J)}),[JSON.stringify(oe),JSON.stringify(ne),JSON.stringify(X),JSON.stringify(R)]),fe=(0,i.useMemo)((function(){return{displayType:p,theme:S,column:B,debounceInput:E,debug:g,labelWidth:k,locale:O,validateMessages:P,readOnly:$,disabled:C,allCollapsed:F,showValidate:ce,watch:A}}),[p,S,B,E,g,k,O,P,$,C,F,ce,A]),de=(0,i.useMemo)((function(){return Cr({widgets:r,mapping:Cr(Cr({},_t),n),onValuesChange:M},a)}),[]);(0,i.useEffect)((function(){if(!0!==te){if(!1===ee&&!0===re&&(z(),s(Q,X),"function"===typeof H)){var e=sessionStorage.getItem("FORM_START"),r=sessionStorage.getItem("FORM_MOUNT_TIME"),n=Number(sessionStorage.getItem("NUMBER_OF_SUBMITS"))+1,a=(new Date).getTime(),i=Number(sessionStorage.getItem("FAILED_ATTEMPTS"));X.length>0&&(i+=1);var o={formMount:ie(r),ms:a-e,duration:ae(a-e),numberOfSubmits:n,failedAttempts:i,url:location.href,formData:JSON.stringify(Q),errors:JSON.stringify(X),schema:JSON.stringify(h)};t&&(o.id=t),H(o),sessionStorage.setItem("FORM_START",a),sessionStorage.setItem("NUMBER_OF_SUBMITS",n),sessionStorage.setItem("FAILED_ATTEMPTS",i)}}else Promise.resolve(l(Cr({data:Q,schema:h,errors:X},I))).then((function(e){e&&U(e),Y()}))}),[ee,re,te]);var me="";"small"===j?me="fr-form-small":"large"===j&&(me="fr-form-large");var ye={className:"fr-container ".concat(me," ").concat(o||"")};c&&"object"===kr(c)&&(ye.style=c),t&&["number","string"].indexOf(kr(t))>-1&&(ye.id=t);var pe=D("_debug_form"),he=D("_debug_form_css"),ge=location.href.indexOf("pre")>-1,be=Object.keys(A);return i.createElement(d.Provider,{value:se},i.createElement(m.Provider,{value:fe},i.createElement(f.Provider,{value:de},i.createElement("div",ye,ge&&pe||g?i.createElement("div",{className:"mv2 bg-black-05 pa2 br2"},i.createElement("div",{style:{display:"flex"}},i.createElement("span",null,"formData:"),i.createElement("span",{style:{display:"inline-block",wordBreak:"break-all",maxWidth:600}},JSON.stringify(a.formData))),i.createElement("div",null,"errorFields:"+JSON.stringify(a.errorFields)),i.createElement("div",null,"touchedKeys:"+JSON.stringify(a.touchedKeys)),i.createElement("div",null,"allTouched:"+JSON.stringify(a.allTouched)),i.createElement("div",null,"descriptor:"+JSON.stringify(window.descriptor))):null,be.length>0?be.map((function(e,t){return i.createElement(sr,{key:t.toString(),watchKey:e,watch:A,formData:ne,firstMount:le})})):null,i.createElement(ur,{debugCss:ge&&he||b})))))}var Lr=function(e){var t=e||{},r=t.isOldVersion,n=void 0===r||r,a=t.schema,o=Fr(t,Dr),c=(0,i.useRef)(a);return n&&(c.current=ee(a)),i.createElement(Vr,Tr({schema:c.current},o))},Zr=r(84504),_r=["widgets","configProvider"];function Rr(){return Rr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rr.apply(this,arguments)}function Jr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Br(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jr(Object(r),!0).forEach((function(t){Yr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zr(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Ur=function(e){var t=e.widgets,r=e.configProvider,o=zr(e,_r);return i.createElement(n.ZP,Rr({locale:a.Z},r),i.createElement(Lr,Rr({widgets:Br(Br({},Zr.D),t)},o)))}},65719:function(e,t,r){function n(e){return"string"===typeof e&&/^(?:\w+:)?\/\/(\S+)$/.test(e)}r.d(t,{CB:function(){return n},c$:function(){return a},y6:function(){return i}});var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(e)?e:t};function i(e){var t;switch(e){case"date":t="YYYY-MM-DD";break;case"time":t="HH:mm:ss";break;case"dateTime":t="YYYY-MM-DD HH:mm:ss";break;case"week":t="YYYY-w";break;case"year":t="YYYY";break;case"quarter":t="YYYY-Q";break;case"month":t="YYYY-MM";break;default:t="string"===typeof e?e:"YYYY-MM-DD"}return t}}}]);
//# sourceMappingURL=form-render.95de6366.js.map
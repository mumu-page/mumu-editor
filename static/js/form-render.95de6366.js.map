{"version":3,"file":"static/js/form-render.95de6366.js","mappings":"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","sources":["../node_modules/form-render/es/form-render-core/src/hooks.js","../node_modules/form-render/es/form-render-core/src/utils.js","../node_modules/form-render/es/form-render-core/src/core/RenderChildren/RenderList/CardList.js","../node_modules/form-render/es/form-render-core/src/core/RenderField/ErrorMessage.js","../node_modules/form-render/es/form-render-core/src/core/RenderChildren/RenderList/DrawerList.js","../node_modules/form-render/es/form-render-core/src/core/RenderChildren/RenderList/SimpleList.js","../node_modules/form-render/es/form-render-core/src/core/RenderChildren/RenderList/TableList.js","../node_modules/form-render/es/form-render-core/src/core/RenderChildren/RenderList/TabList.js","../node_modules/form-render/es/form-render-core/src/core/RenderChildren/RenderList/VirtualList.js","../node_modules/form-render/es/form-render-core/src/core/RenderChildren/RenderList/index.js","../node_modules/form-render/es/form-render-core/src/core/RenderChildren/RenderObject.js","../node_modules/form-render/es/form-render-core/src/useDebounce.js","../node_modules/form-render/es/form-render-core/src/validateMessage.js","../node_modules/form-render/es/form-render-core/src/validateMessageCN.js","../node_modules/form-render/es/form-render-core/src/validator.js","../node_modules/form-render/es/form-render-core/src/createWidget.js","../node_modules/form-render/es/form-render-core/src/mapping.js","../node_modules/form-render/es/form-render-core/src/core/RenderField/ExtendedWidget.js","../node_modules/form-render/es/form-render-core/src/core/RenderField/Extra.js","../node_modules/form-render/es/form-render-core/src/core/RenderField/Title.js","../node_modules/form-render/es/form-render-core/src/core/RenderField/index.js","../node_modules/form-render/es/form-render-core/src/core/index.js","../node_modules/form-render/es/form-render-core/src/Watcher.js","../node_modules/form-render/es/form-render-core/src/processData.js","../node_modules/form-render/es/form-render-core/src/useForm.js","../node_modules/form-render/es/form-render-core/src/connectForm.js","../node_modules/form-render/es/form-render-core/src/index.js","../node_modules/form-render/es/index.js","../node_modules/form-render/es/utils.js"],"sourcesContent":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { createContext, useContext, useEffect, useReducer, useRef, useState } from 'react';\nexport var Ctx = /*#__PURE__*/createContext(function () {});\nexport var StoreCtx = /*#__PURE__*/createContext({});\nexport var Store2Ctx = /*#__PURE__*/createContext({});\nexport var useTools = function useTools() {\n  return useContext(Ctx);\n};\nexport var useStore = function useStore() {\n  return useContext(StoreCtx);\n};\nexport var useStore2 = function useStore2() {\n  return useContext(Store2Ctx);\n};\nexport var useSet = function useSet(initState) {\n  var _useReducer = useReducer(function (state, newState) {\n    var action = newState;\n\n    if (typeof newState === 'function') {\n      action = action(state);\n    }\n\n    if (newState.action && newState.payload) {\n      action = newState.payload;\n\n      if (typeof action === 'function') {\n        action = action(state);\n      }\n    }\n\n    var result = _objectSpread(_objectSpread({}, state), action); // console.group(newState.action || 'action'); // TODO: give it a name\n    // console.log('%cState:', 'color: #9E9E9E; font-weight: 700;', state);\n    // console.log('%cAction:', 'color: #00A7F7; font-weight: 700;', action);\n    // console.log('%cNext:', 'color: #47B04B; font-weight: 700;', result);\n    // console.groupEnd();\n\n\n    // console.group(newState.action || 'action'); // TODO: give it a name\n    // console.log('%cState:', 'color: #9E9E9E; font-weight: 700;', state);\n    // console.log('%cAction:', 'color: #00A7F7; font-weight: 700;', action);\n    // console.log('%cNext:', 'color: #47B04B; font-weight: 700;', result);\n    // console.groupEnd();\n    return result;\n  }, initState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      setState = _useReducer2[1];\n\n  return [state, setState];\n};\nexport function useInterval(callback, delay, start) {\n  var savedCallback = useRef();\n  useEffect(function () {\n    savedCallback.current = callback;\n  }, [callback]);\n  var id = useRef();\n  useEffect(function () {\n    if (!start) {\n      return;\n    }\n\n    function tick() {\n      savedCallback && savedCallback.current && savedCallback.current();\n    }\n\n    tick();\n\n    if (delay !== null) {\n      id.current = setInterval(tick, delay);\n      return function () {\n        return clearInterval(id.current);\n      };\n    }\n  }, [delay, start]);\n  return function () {\n    return clearInterval(id.current);\n  };\n}\nexport function usePrevious(value) {\n  // The ref object is a generic container whose current property is mutable ...\n  // ... and can hold any value, similar to an instance property on a class\n  var ref = useRef(); // Store current value in ref\n\n  useEffect(function () {\n    ref.current = value;\n  }, [value]); // Only re-run if value changes\n  // Return previous value (happens before update in useEffect above)\n\n  return ref.current;\n}\nexport var useShowOnce = function useShowOnce(localKey) {\n  // 从 localStorage 读取 key 值\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      show = _useState2[0],\n      setShow = _useState2[1];\n\n  var localStr;\n\n  try {\n    localStr = localStorage.getItem(localKey);\n  } catch (error) {}\n\n  if (!localStr) {\n    setShow(true);\n    localStorage.setItem(localKey, JSON.stringify(true));\n  }\n\n  return show;\n};\nexport var useModal = function useModal() {\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      show = _useState4[0],\n      setShow = _useState4[1];\n\n  var toggle = function toggle() {\n    return setShow(!show);\n  };\n\n  return [show, toggle];\n};\nexport var useWindowState = function useWindowState(initState) {\n  var _useState5 = useState(initState),\n      _useState6 = _slicedToArray(_useState5, 2),\n      state = _useState6[0],\n      setState = _useState6[1];\n\n  return [state, setState];\n};\nexport var useStorageState = function useStorageState() {\n  var initState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var searchKey = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'SAVES';\n\n  var readSearchFromStorage = function readSearchFromStorage() {\n    var searchStr = localStorage.getItem(searchKey);\n\n    if (searchStr) {\n      try {\n        return JSON.parse(searchStr);\n      } catch (error) {\n        return initState;\n      }\n    }\n\n    return initState;\n  };\n\n  var _useState7 = useState(readSearchFromStorage()),\n      _useState8 = _slicedToArray(_useState7, 2),\n      data = _useState8[0],\n      setData = _useState8[1];\n\n  var setSearchWithStorage = function setSearchWithStorage(search) {\n    setData(search);\n    localStorage.setItem(searchKey, JSON.stringify(search));\n  };\n\n  return [data, setSearchWithStorage];\n};","var _excluded = [\"propsSchema\"],\n    _excluded2 = [\"schema\"];\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { cloneDeep, get, isEmpty, set } from 'lodash-es';\nexport function getParamByName(name) {\n  var url = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : window.location.href;\n  name = name.replace(/[\\[\\]]/g, '\\\\$&');\n  var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),\n      results = regex.exec(url);\n  if (!results) return null;\n  if (!results[2]) return '';\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n}\nexport function isUrl(string) {\n  var protocolRE = /^(?:\\w+:)?\\/\\/(\\S+)$/; // const domainRE = /^[^\\s\\.]+\\.\\S{2,}$/;\n\n  if (typeof string !== 'string') return false;\n  return protocolRE.test(string);\n}\nexport function isCheckBoxType(schema, readOnly) {\n  if (readOnly) return false;\n  if (schema.widget === 'checkbox') return true;\n\n  if (schema && schema.type === 'boolean') {\n    if (schema.enum) return false;\n    if (schema.widget === undefined) return true;\n    return false;\n  }\n} // a[].b.c => a.b.c\n\nfunction removeBrackets(string) {\n  if (typeof string === 'string') {\n    return string.replace(/\\[\\]/g, '');\n  } else {\n    return string;\n  }\n}\n\nexport function getParentPath(path) {\n  if (typeof path === 'string') {\n    var pathArr = path.split('.');\n\n    if (pathArr.length === 1) {\n      return '#';\n    }\n\n    pathArr.pop();\n    return pathArr.join('.');\n  }\n\n  return '#';\n}\nexport function getValueByPath(formData, path) {\n  if (path === '#' || !path) {\n    return formData || {};\n  } else if (typeof path === 'string') {\n    return get(formData, path);\n  } else {\n    console.error('path has to be a string');\n  }\n} //  path: 'a.b[1].c[0]' => { id: 'a.b[].c[]'  dataIndex: [1,0] }\n\nexport function destructDataPath(path) {\n  var id;\n  var dataIndex;\n\n  if (path === '#') {\n    return {\n      id: '#',\n      dataIndex: []\n    };\n  }\n\n  if (typeof path !== 'string') {\n    throw Error(\"path \".concat(path, \" is not a string!!! Something wrong here\"));\n  }\n\n  var pattern = /\\[[0-9]+\\]/g;\n  var matchList = path.match(pattern);\n\n  if (!matchList) {\n    id = path;\n  } else {\n    id = path.replace(pattern, '[]'); // 这个是match下来的结果，可安全处理\n\n    dataIndex = matchList.map(function (item) {\n      return Number(item.substring(1, item.length - 1));\n    });\n  }\n\n  return {\n    id: id,\n    dataIndex: dataIndex\n  };\n} // id: 'a.b[].c[]'  dataIndex: [1,0] =>  'a.b[1].c[0]'\n\nexport function getDataPath(id, dataIndex) {\n  if (id === '#') {\n    return id;\n  }\n\n  if (typeof id !== 'string') {\n    throw Error(\"id \".concat(id, \" is not a string!!! Something wrong here\"));\n  }\n\n  var _id = id;\n\n  if (Array.isArray(dataIndex)) {\n    // const matches = id.match(/\\[\\]/g) || [];\n    // const count = matches.length;\n    dataIndex.forEach(function (item) {\n      _id = _id.replace(/\\[\\]/, \"[\".concat(item, \"]\"));\n    });\n  }\n\n  return removeBrackets(_id);\n}\nexport function isObjType(schema) {\n  return schema && schema.type === 'object' && schema.properties && !schema.widget;\n} // TODO: to support case that item is not an object\n\nexport function isListType(schema) {\n  return schema && schema.type === 'array' && isObjType(schema.items) && schema.enum === undefined;\n} // TODO: more tests to make sure weird & wrong schema won't crush\n\nexport function flattenSchema() {\n  var _schema = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '#';\n  var parent = arguments.length > 2 ? arguments[2] : undefined;\n  var result = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var schema = clone(_schema);\n  var _name = name;\n\n  if (!schema.$id) {\n    schema.$id = _name; // path as $id, for easy access to path in schema\n  }\n\n  var children = [];\n\n  if (isObjType(schema)) {\n    Object.entries(schema.properties).forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          key = _ref2[0],\n          value = _ref2[1];\n\n      var _key = isListType(value) ? key + '[]' : key;\n\n      var uniqueName = _name === '#' ? _key : _name + '.' + _key;\n      children.push(uniqueName);\n      flattenSchema(value, uniqueName, _name, result);\n    });\n    schema.properties = {};\n  }\n\n  if (isListType(schema)) {\n    Object.entries(schema.items.properties).forEach(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n          key = _ref4[0],\n          value = _ref4[1];\n\n      var _key = isListType(value) ? key + '[]' : key;\n\n      var uniqueName = _name === '#' ? _key : _name + '.' + _key;\n      children.push(uniqueName);\n      flattenSchema(value, uniqueName, _name, result);\n    });\n    schema.items.properties = {};\n  }\n\n  if (schema.type) {\n    result[_name] = {\n      parent: parent,\n      schema: schema,\n      children: children\n    };\n  }\n\n  return result;\n}\nexport function getSchemaFromFlatten(flatten) {\n  var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '#';\n  var schema = {};\n  var item = clone(flatten[path]);\n\n  if (item) {\n    schema = item.schema; // schema.$id && delete schema.$id;\n\n    if (item.children.length > 0) {\n      item.children.forEach(function (child) {\n        if (!flatten[child]) return;\n        var key = getKeyFromPath(child);\n\n        if (isObjType(schema)) {\n          schema.properties[key] = getSchemaFromFlatten(flatten, child);\n        }\n\n        if (isListType(schema)) {\n          schema.items.properties[key] = getSchemaFromFlatten(flatten, child);\n        }\n      });\n    }\n  }\n\n  return schema;\n}\n\nfunction stringContains(str, text) {\n  return str.indexOf(text) > -1;\n}\n\nexport var isObject = function isObject(a) {\n  return stringContains(Object.prototype.toString.call(a), 'Object');\n};\nexport var clone = cloneDeep; // '3' => true, 3 => true, undefined => false\n\nexport function isLooselyNumber(num) {\n  if (typeof num === 'number') return true;\n\n  if (typeof num === 'string') {\n    return !Number.isNaN(Number(num));\n  }\n\n  return false;\n}\nexport function isCssLength(str) {\n  if (typeof str !== 'string') return false;\n  return str.match(/^([0-9])*(%|px|rem|em)$/i);\n}\nexport function isDeepEqual(param1, param2) {\n  if (param1 === undefined && param2 === undefined) return true;else if (param1 === undefined || param2 === undefined) return false;\n  if (param1 === null && param2 === null) return true;else if (param1 === null || param2 === null) return false;else if (param1.constructor !== param2.constructor) return false;\n\n  if (param1.constructor === Array) {\n    if (param1.length !== param2.length) return false;\n\n    for (var i = 0; i < param1.length; i++) {\n      if (param1[i].constructor === Array || param1[i].constructor === Object) {\n        if (!isDeepEqual(param1[i], param2[i])) return false;\n      } else if (param1[i] !== param2[i]) return false;\n    }\n  } else if (param1.constructor === Object) {\n    if (Object.keys(param1).length !== Object.keys(param2).length) return false;\n\n    for (var _i2 = 0; _i2 < Object.keys(param1).length; _i2++) {\n      var key = Object.keys(param1)[_i2];\n\n      if (param1[key] && typeof param1[key] !== 'number' && (param1[key].constructor === Array || param1[key].constructor === Object)) {\n        if (!isDeepEqual(param1[key], param2[key])) return false;\n      } else if (param1[key] !== param2[key]) return false;\n    }\n  } else if (param1.constructor === String || param1.constructor === Number) {\n    return param1 === param2;\n  }\n\n  return true;\n}\nexport function getFormat(format) {\n  var dateFormat;\n\n  switch (format) {\n    case 'date':\n      dateFormat = 'YYYY-MM-DD';\n      break;\n\n    case 'time':\n      dateFormat = 'HH:mm:ss';\n      break;\n\n    case 'dateTime':\n      dateFormat = 'YYYY-MM-DD HH:mm:ss';\n      break;\n\n    case 'week':\n      dateFormat = 'YYYY-w';\n      break;\n\n    case 'year':\n      dateFormat = 'YYYY';\n      break;\n\n    case 'quarter':\n      dateFormat = 'YYYY-Q';\n      break;\n\n    case 'month':\n      dateFormat = 'YYYY-MM';\n      break;\n\n    default:\n      // dateTime\n      if (typeof format === 'string') {\n        dateFormat = format;\n      } else {\n        dateFormat = 'YYYY-MM-DD';\n      }\n\n  }\n\n  return dateFormat;\n}\nexport function hasRepeat(list) {\n  return list.find(function (x, i, self) {\n    return i !== self.findIndex(function (y) {\n      return JSON.stringify(x) === JSON.stringify(y);\n    });\n  });\n}\nexport function combineSchema() {\n  var propsSchema = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var uiSchema = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var propList = getChildren(propsSchema);\n  var newList = propList.map(function (p) {\n    var name = p.name;\n    var _p$schema = p.schema,\n        type = _p$schema.type,\n        options = _p$schema.enum,\n        properties = _p$schema.properties,\n        items = _p$schema.items;\n    var isObj = type === 'object' && properties;\n    var isArr = type === 'array' && items && !options; // enum + array 代表的多选框，没有sub\n\n    var ui = name && uiSchema[p.name];\n\n    if (!ui) {\n      return p;\n    } // 如果是list，递归合并items\n\n\n    if (isArr) {\n      var newItems = combineSchema(items, ui.items || {});\n      return _objectSpread(_objectSpread({}, p), {}, {\n        schema: _objectSpread(_objectSpread(_objectSpread({}, p.schema), ui), {}, {\n          items: newItems\n        })\n      });\n    } // object递归合并整个schema\n\n\n    if (isObj) {\n      var newSchema = combineSchema(p.schema, ui);\n      return _objectSpread(_objectSpread({}, p), {}, {\n        schema: newSchema\n      });\n    }\n\n    return _objectSpread(_objectSpread({}, p), {}, {\n      schema: _objectSpread(_objectSpread({}, p.schema), ui)\n    });\n  });\n  var newObj = {};\n  newList.forEach(function (s) {\n    newObj[s.name] = s.schema;\n  });\n  var topLevelUi = {};\n  Object.keys(uiSchema).forEach(function (key) {\n    if (typeof key === 'string' && key.substring(0, 3) === 'ui:') {\n      topLevelUi[key] = uiSchema[key];\n    }\n  });\n\n  if (isEmpty(newObj)) {\n    return _objectSpread(_objectSpread({}, propsSchema), topLevelUi);\n  }\n\n  return _objectSpread(_objectSpread(_objectSpread({}, propsSchema), topLevelUi), {}, {\n    properties: newObj\n  });\n} // export function isEmpty(obj) {\n//   return Object.keys(obj).length === 0;\n// }\n\nfunction getChildren(schema) {\n  if (!schema) return [];\n  var properties = schema.properties,\n      items = schema.items,\n      type = schema.type;\n\n  if (!properties && !items) {\n    return [];\n  }\n\n  var schemaSubs = {};\n\n  if (type === 'object') {\n    schemaSubs = properties;\n  }\n\n  if (type === 'array') {\n    schemaSubs = items;\n  }\n\n  return Object.keys(schemaSubs).map(function (name) {\n    return {\n      schema: schemaSubs[name],\n      name: name\n    };\n  });\n}\n\nexport var parseString = function parseString(string) {\n  return Function('\"use strict\";return (' + string + ')')();\n};\nexport var evaluateString = function evaluateString(string, formData, rootValue) {\n  return Function(\"\\\"use strict\\\";\\n    const rootValue = \".concat(JSON.stringify(rootValue), \";\\n    const formData = \").concat(JSON.stringify(formData), \";\\n    return (\").concat(string, \")\"))();\n};\nexport function isExpression(func) {\n  // if (typeof func === 'function') {\n  //   const funcString = func.toString();\n  //   return (\n  //     funcString.indexOf('formData') > -1 ||\n  //     funcString.indexOf('rootValue') > -1\n  //   );\n  // }\n  if (typeof func !== 'string') return false;\n  var pattern = /^{{(.+)}}$/;\n  var reg1 = /^{{function\\(.+}}$/; // const reg2 = /^{{(.+=>.+)}}$/;\n\n  if (typeof func === 'string' && func.match(pattern) && !func.match(reg1)) {\n    return true;\n  }\n\n  return false;\n}\nexport var parseRootValueInSchema = function parseRootValueInSchema(schema, rootValue) {\n  var result = clone(schema);\n\n  if (isObject(schema)) {\n    Object.keys(schema).forEach(function (key) {\n      var item = schema[key];\n\n      if (isObject(item)) {\n        result[key] = parseRootValueInSchema(item, rootValue);\n      } else if (typeof item === 'string') {\n        result[key] = parseSingleRootValue(item, rootValue);\n      }\n    });\n  } else {\n    console.error('schema is not an object:', schema);\n  }\n\n  return result;\n}; // handle rootValue inside List\n\nexport var parseSingleRootValue = function parseSingleRootValue(expression) {\n  var rootValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (typeof expression === 'string' && expression.indexOf('rootValue') > 0) {\n    var funcBody = expression.substring(2, expression.length - 2);\n    var str = \"\\n    return \".concat(funcBody.replace(/rootValue/g, JSON.stringify(rootValue)));\n\n    try {\n      return Function(str)();\n    } catch (error) {\n      console.error(error, 'expression:', expression, 'rootValue:', rootValue);\n      return null; // 如果计算有错误，return null 最合适\n    }\n  } else {\n    return expression;\n  }\n};\nexport function parseSingleExpression(func) {\n  var formData = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var dataPath = arguments.length > 2 ? arguments[2] : undefined;\n  var parentPath = getParentPath(dataPath);\n  var parent = getValueByPath(formData, parentPath) || {};\n\n  if (typeof func === 'string') {\n    var funcBody = func.substring(2, func.length - 2);\n    var str = \"\\n    return \".concat(funcBody.replace(/formData/g, JSON.stringify(formData)).replace(/rootValue/g, JSON.stringify(parent)));\n\n    try {\n      return Function(str)();\n    } catch (error) {\n      console.log(error, func, dataPath);\n      return null; // 如果计算有错误，return null 最合适\n    } // const funcBody = func.substring(2, func.length - 2);\n    // //TODO: 这样有问题，例如 a.b.indexOf(), 会把 a.b.indexOf 当做值\n    // const match1 = /formData.([a-zA-Z0-9.$_\\[\\]]+)/g;\n    // const match2 = /rootValue.([a-zA-Z0-9.$_\\[\\]]+)/g;\n    // const str = `\n    // return (${funcBody\n    //   .replaceAll(match1, (v, m1) =>\n    //     JSON.stringify(getValueByPath(formData, m1))\n    //   )\n    //   .replaceAll(match2, (v, m1) =>\n    //     JSON.stringify(getValueByPath(parent, m1))\n    //   )})`;\n    // try {\n    //   return Function(str)();\n    // } catch (error) {\n    //   console.log(error);\n    //   return func;\n    // }\n\n  } else return func;\n}\nexport var schemaContainsExpression = function schemaContainsExpression(schema) {\n  if (isObject(schema)) {\n    return Object.keys(schema).some(function (key) {\n      var value = schema[key];\n\n      if (typeof value === 'string') {\n        return isExpression(value);\n      } else if (isObject(value)) {\n        return schemaContainsExpression(value);\n      } else {\n        return false;\n      }\n    });\n  }\n\n  return false;\n};\nexport var parseAllExpression = function parseAllExpression(_schema, formData, dataPath) {\n  var schema = clone(_schema);\n  Object.keys(schema).forEach(function (key) {\n    var value = schema[key];\n\n    if (isObject(value)) {\n      schema[key] = parseAllExpression(value, formData, dataPath);\n    } else if (isExpression(value)) {\n      schema[key] = parseSingleExpression(value, formData, dataPath);\n    } else if (typeof key === 'string' && key.toLowerCase().indexOf('props') > -1) {\n      // 有可能叫 xxxProps\n      var propsObj = schema[key];\n\n      if (isObject(propsObj)) {\n        Object.keys(propsObj).forEach(function (k) {\n          schema[key][k] = parseSingleExpression(propsObj[k], formData, dataPath);\n        });\n      }\n    }\n  });\n  return schema;\n};\nexport function isFunctionSchema(schema) {\n  return Object.keys(schema).some(function (key) {\n    if (typeof schema[key] === 'function') {\n      return true;\n    } else if (typeof schema[key] === 'string') {\n      return isExpression(schema[key]);\n    } else if (_typeof(schema[key]) === 'object') {\n      return isFunctionSchema(schema[key]);\n    } else {\n      return false;\n    }\n  });\n}\nexport var getParentProps = function getParentProps(propName, id, flatten) {\n  try {\n    var item = flatten[id];\n    if (item.schema[propName] !== undefined) return item.schema[propName];\n\n    if (item && item.parent) {\n      var parentSchema = flatten[item.parent].schema;\n\n      if (parentSchema[propName] !== undefined) {\n        return parentSchema[propName];\n      } else {\n        return getParentProps(propName, item.parent, flatten);\n      }\n    }\n  } catch (error) {\n    return undefined;\n  }\n};\nexport var getSaveNumber = function getSaveNumber() {\n  var searchStr = localStorage.getItem('SAVES');\n\n  if (searchStr) {\n    try {\n      var saves = JSON.parse(searchStr);\n      var length = saves.length;\n      if (length) return length + 1;\n    } catch (error) {\n      return 1;\n    }\n  } else {\n    return 1;\n  }\n};\nexport function looseJsonParse(obj) {\n  return Function('\"use strict\";return (' + obj + ')')();\n}\nexport var isFunctionString = function isFunctionString(fString) {\n  return typeof fString === 'string' && fString.indexOf('function(') === 0;\n};\nexport function parseFunction(fString) {\n  if (isFunctionString(fString)) {\n    return Function('return ' + fString)();\n  }\n\n  return fString;\n} // 获得propsSchema的children\n// function getChildren2(schema) {\n//   if (!schema) return [];\n//   const {\n//     // object\n//     properties,\n//     // array\n//     items,\n//     type,\n//   } = schema;\n//   if (!properties && !items) {\n//     return [];\n//   }\n//   let schemaSubs = {};\n//   if (type === 'object') {\n//     schemaSubs = properties;\n//   }\n//   if (type === 'array') {\n//     schemaSubs = items.properties;\n//   }\n//   return Object.keys(schemaSubs).map(name => ({\n//     schema: schemaSubs[name],\n//     name,\n//   }));\n// }\n\nexport var oldSchemaToNew = function oldSchemaToNew(schema) {\n  if (schema && schema.propsSchema) {\n    var propsSchema = schema.propsSchema,\n        rest = _objectWithoutProperties(schema, _excluded);\n\n    return _objectSpread({\n      schema: propsSchema\n    }, rest);\n  }\n\n  return schema;\n};\nexport var newSchemaToOld = function newSchemaToOld(setting) {\n  if (setting && setting.schema) {\n    var schema = setting.schema,\n        rest = _objectWithoutProperties(setting, _excluded2);\n\n    return _objectSpread({\n      propsSchema: schema\n    }, rest);\n  }\n\n  return setting;\n}; // from FR\n\nexport var getEnum = function getEnum(schema) {\n  if (!schema) return undefined;\n  var itemEnum = schema && schema.items && schema.items.enum;\n  var schemaEnum = schema && schema.enum;\n  return itemEnum ? itemEnum : schemaEnum;\n};\nexport var getArray = function getArray(arr) {\n  var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  if (Array.isArray(arr)) return arr;\n  return defaultValue;\n};\nexport var isEmail = function isEmail(value) {\n  var regex = '^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(.[a-zA-Z0-9_-]+)+$';\n\n  if (value && new RegExp(regex).test(value)) {\n    return true;\n  }\n\n  return false;\n};\nexport function defaultGetValueFromEvent(valuePropName) {\n  var event = arguments.length <= 1 ? undefined : arguments[1];\n\n  if (event && event.target && valuePropName in event.target) {\n    return event.target[valuePropName];\n  }\n\n  return event;\n}\nexport var getKeyFromPath = function getKeyFromPath() {\n  var path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '#';\n\n  try {\n    var arr = path.split('.');\n    var last = arr.slice(-1)[0];\n    var result = last.replace('[]', '');\n    return result;\n  } catch (error) {\n    console.error(error, 'getKeyFromPath');\n    return '';\n  }\n}; // 更多的值获取\n\nexport var getDisplayValue = function getDisplayValue(value, schema) {\n  if (typeof value === 'boolean') {\n    return value ? 'yes' : 'no';\n  }\n\n  if (isObjType(schema) || isListType(schema)) {\n    return '-';\n  }\n\n  if (Array.isArray(schema.enum) && Array.isArray(schema.enumNames)) {\n    try {\n      return schema.enumNames[schema.enum.indexOf(value)];\n    } catch (error) {\n      return value;\n    }\n  }\n\n  if (_typeof(value) === 'object') {\n    return JSON.stringify(value);\n  }\n\n  return value;\n}; // 去掉数组里的空元素 {a: [null, {x:1}]} => {a: [{x:1}]}\n\nexport var removeEmptyItemFromList = function removeEmptyItemFromList(formData) {\n  var result = {};\n\n  if (isObject(formData)) {\n    Object.keys(formData).forEach(function (key) {\n      result[key] = removeEmptyItemFromList(formData[key]);\n    });\n  } else if (Array.isArray(formData)) {\n    result = formData.filter(function (item) {\n      if ([false, 0, ''].indexOf(item) > -1) return true;\n\n      if (item && JSON.stringify(item) !== '{}') {\n        return true;\n      }\n\n      return false;\n    });\n  } else {\n    result = formData;\n  }\n\n  return result;\n};\nexport var getDescriptorSimple = function getDescriptorSimple() {\n  var schema = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var path = arguments.length > 1 ? arguments[1] : undefined;\n  var result = {};\n\n  if (isObject(schema)) {\n    if (schema.type) {\n      switch (schema.type) {\n        case 'range':\n          result.type = 'array';\n          break;\n\n        case 'html':\n          result.type = 'string';\n          break;\n\n        default:\n          result.type = schema.type;\n          break;\n      }\n    }\n\n    ['pattern', 'min', 'max', 'len', 'required'].forEach(function (key) {\n      if (Object.keys(schema).indexOf(key) > -1) {\n        result[key] = schema[key];\n      }\n    });\n\n    switch (schema.format) {\n      case 'email':\n      case 'url':\n        result.type = schema.format;\n        break;\n\n      default:\n        break;\n    }\n\n    var handleRegx = function handleRegx(desc) {\n      if (desc.pattern && typeof desc.pattern === 'string') {\n        desc.pattern = new RegExp(desc.pattern);\n      }\n\n      return desc;\n    }; // result be array\n\n\n    if (schema.rules) {\n      if (Array.isArray(schema.rules)) {\n        var requiredRule = schema.rules.find(function (rule) {\n          return rule.required === true;\n        });\n\n        if (requiredRule) {\n          result = _objectSpread(_objectSpread({}, result), requiredRule);\n        }\n\n        result = [result].concat(_toConsumableArray(schema.rules));\n        result = result.map(function (r) {\n          return handleRegx(r);\n        });\n      } else if (isObject(schema.rules)) {\n        result = [result, schema.rules];\n        result = result.map(function (r) {\n          return handleRegx(r);\n        });\n      }\n    } else {\n      result = [result];\n    }\n  }\n\n  return _defineProperty({}, path, result);\n}; // _path 只供内部递归使用\n\nexport var generateDataSkeleton = function generateDataSkeleton(schema, formData) {\n  var _formData = clone(formData);\n\n  var result = _formData;\n\n  if (isObjType(schema)) {\n    if (_formData === undefined || _typeof(_formData) !== 'object') {\n      _formData = {};\n      result = {};\n    }\n\n    Object.keys(schema.properties).forEach(function (key) {\n      var childSchema = schema.properties[key];\n      var childData = _formData[key];\n      var childResult = generateDataSkeleton(childSchema, childData);\n      result[key] = childResult;\n    });\n  } else if (_formData !== undefined) {// result = _formData;\n  } else if (schema.default !== undefined) {\n    result = clone(schema.default);\n  } else if (isListType(schema)) {\n    result = [generateDataSkeleton(schema.items)];\n  } else if (schema.type === 'boolean' && !schema.widget) {\n    // result = false;\n    result = undefined;\n  } else {\n    result = undefined;\n  }\n\n  return result;\n};\nexport var translateMessage = function translateMessage(msg, schema) {\n  if (typeof msg !== 'string') {\n    return '';\n  }\n\n  if (!schema) return msg;\n  msg = msg.replace('${title}', schema.title);\n  msg = msg.replace('${type}', schema.format || schema.type); // 兼容代码\n\n  if (typeof schema.min === 'number') {\n    msg = msg.replace('${min}', schema.min);\n  }\n\n  if (typeof schema.max === 'number') {\n    msg = msg.replace('${max}', schema.max);\n  }\n\n  if (schema.rules) {\n    var minRule = schema.rules.find(function (r) {\n      return r.min !== undefined;\n    });\n\n    if (minRule) {\n      msg = msg.replace('${min}', minRule.min);\n    }\n\n    var maxRule = schema.rules.find(function (r) {\n      return r.max !== undefined;\n    });\n\n    if (maxRule) {\n      msg = msg.replace('${max}', maxRule.max);\n    }\n\n    var lenRule = schema.rules.find(function (r) {\n      return r.len !== undefined;\n    });\n\n    if (lenRule) {\n      msg = msg.replace('${len}', lenRule.len);\n    }\n\n    var patternRule = schema.rules.find(function (r) {\n      return r.pattern !== undefined;\n    });\n\n    if (patternRule) {\n      msg = msg.replace('${pattern}', patternRule.pattern);\n    }\n  }\n\n  return msg;\n};\n\nvar changeSchema = function changeSchema(_schema, singleChange) {\n  var schema = clone(_schema);\n  schema = singleChange(schema);\n\n  if (isObjType(schema)) {\n    var requiredKeys = [];\n\n    if (Array.isArray(schema.required)) {\n      requiredKeys = schema.required;\n      delete schema.required;\n    }\n\n    Object.keys(schema.properties).forEach(function (key) {\n      var item = schema.properties[key];\n\n      if (requiredKeys.indexOf(key) > -1) {\n        item.required = true;\n      }\n\n      schema.properties[key] = changeSchema(item, singleChange);\n    });\n  } else if (isListType(schema)) {\n    Object.keys(schema.items.properties).forEach(function (key) {\n      var item = schema.items.properties[key];\n      schema.items.properties[key] = changeSchema(item, singleChange);\n    });\n  }\n\n  return schema;\n};\n\nexport var updateSchemaToNewVersion = function updateSchemaToNewVersion(schema) {\n  return changeSchema(schema, updateSingleSchema);\n};\n\nvar updateSingleSchema = function updateSingleSchema(schema) {\n  try {\n    schema.rules = schema.rules || [];\n    schema.props = schema.props || {};\n\n    if (schema['ui:options']) {\n      schema.props = schema['ui:options'];\n      delete schema['ui:options'];\n    }\n\n    if (schema.pattern) {\n      var validItem = {\n        pattern: schema.pattern\n      };\n\n      if (schema.message && schema.message.pattern) {\n        validItem.message = schema.message.pattern;\n      }\n\n      schema.rules.push(validItem);\n      delete schema.pattern;\n      delete schema.message;\n    } // min / max\n\n\n    if (schema.minLength) {\n      schema.min = schema.minLength;\n      delete schema.minLength;\n    }\n\n    if (schema.maxLength) {\n      schema.max = schema.maxLength;\n      delete schema.maxLength;\n    }\n\n    if (schema.minItems) {\n      schema.min = schema.minItems;\n      delete schema.minItems;\n    }\n\n    if (schema.maxItems) {\n      schema.max = schema.maxItems;\n      delete schema.maxItems;\n    }\n\n    if (schema.step) {\n      schema.props.step = schema.step;\n      delete schema.step;\n    } // ui:xxx\n\n\n    if (schema['ui:className']) {\n      schema.className = schema['ui:className'];\n      delete schema['ui:className'];\n    }\n\n    if (schema['ui:hidden']) {\n      schema.hidden = schema['ui:hidden'];\n      delete schema['ui:hidden'];\n    }\n\n    if (schema['ui:readonly']) {\n      schema.readOnly = schema['ui:readonly']; // 改成驼峰了\n\n      delete schema['ui:readonly'];\n    }\n\n    if (schema['ui:disabled']) {\n      schema.disabled = schema['ui:disabled'];\n      delete schema['ui:disabled'];\n    }\n\n    if (schema['ui:width']) {\n      schema.width = schema['ui:width'];\n      delete schema['ui:width'];\n    }\n\n    if (schema['ui:displayType']) {\n      schema.displayType = schema['ui:displayType'];\n      delete schema['ui:displayType'];\n    }\n\n    if (schema['ui:column']) {\n      schema.column = schema['ui:column'];\n      delete schema['ui:column'];\n    }\n\n    if (schema['ui:widget']) {\n      schema.widget = schema['ui:widget'];\n      delete schema['ui:widget'];\n    }\n\n    if (schema['ui:labelWidth']) {\n      schema.labelWidth = schema['ui:labelWidth'];\n      delete schema['ui:labelWidth'];\n    }\n\n    if (schema.rules && schema.rules.length === 0) {\n      delete schema.rules;\n    }\n\n    if (typeof schema.props === 'function' || isObject(schema.props) && Object.keys(schema.props).length > 0) {} else {\n      delete schema.props;\n    }\n\n    return schema;\n  } catch (error) {\n    console.error('schema转换失败！', error);\n    return schema;\n  }\n}; // 检验一个string是 function（传统活箭头函数）\n\n\nexport var parseFunctionString = function parseFunctionString(string) {\n  if (typeof string !== 'string') return false;\n  var reg1 = /^{{(function.+)}}$/;\n  var reg2 = /^{{(.+=>.+)}}$/;\n\n  if (string.match(reg1)) {\n    return string.match(reg1)[1];\n  }\n\n  if (string.match(reg2)) {\n    return string.match(reg2)[1];\n  }\n\n  return false;\n};\nexport var completeSchemaWithTheme = function completeSchemaWithTheme() {\n  var schema = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var theme = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var result = {};\n\n  if (isObject(schema)) {\n    if (schema.theme && theme[schema.theme]) {\n      result = _objectSpread(_objectSpread({}, schema), theme[schema.theme]);\n    }\n\n    Object.keys(schema).forEach(function (key) {\n      result[key] = completeSchemaWithTheme(schema[key], theme);\n    });\n  } else {\n    result = schema;\n  }\n\n  return result;\n};\nexport var cleanEmpty = function cleanEmpty(obj) {\n  if (Array.isArray(obj)) {\n    return obj.map(function (v) {\n      return v && isObject(v) ? cleanEmpty(v) : v;\n    }).filter(function (v) {\n      return !(v == undefined);\n    });\n  } else if (isObject(obj)) {\n    return Object.entries(obj).map(function (_ref6) {\n      var _ref7 = _slicedToArray(_ref6, 2),\n          k = _ref7[0],\n          v = _ref7[1];\n\n      return [k, v && isObject(v) ? cleanEmpty(v) : v];\n    }).reduce(function (a, _ref8) {\n      var _ref9 = _slicedToArray(_ref8, 2),\n          k = _ref9[0],\n          v = _ref9[1];\n\n      return v == undefined ? a : (a[k] = v, a);\n    }, {});\n  } else {\n    return obj;\n  }\n}; // const x = { a: 1, b: { c: 2 }, d: [{ e: 3, f: [{ g: 5 }] }, { e: 4 }] };\n// ['a', 'b.c', 'd[0].e', 'd[0].f[0].g', 'd[1].e']\n\nexport var dataToKeys = function dataToKeys(data) {\n  var rootKey = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var result = [];\n\n  if (rootKey && rootKey.slice(-1) !== ']') {\n    result.push(rootKey);\n  }\n\n  var isComplex = function isComplex(data) {\n    return isObject(data) || Array.isArray(data);\n  };\n\n  if (isObject(data)) {\n    Object.keys(data).forEach(function (key) {\n      var item = data[key];\n      var itemRootKey = rootKey ? rootKey + '.' + key : key;\n\n      if (isComplex(item)) {\n        var itemKeys = dataToKeys(item, itemRootKey);\n        result = [].concat(_toConsumableArray(result), _toConsumableArray(itemKeys));\n      } else {\n        result.push(itemRootKey);\n      }\n    });\n  } else if (Array.isArray(data)) {\n    data.forEach(function (item, idx) {\n      var itemRootKey = rootKey ? \"\".concat(rootKey, \"[\").concat(idx, \"]\") : \"[\".concat(idx, \"]\");\n\n      if (isComplex(item)) {\n        var itemKeys = dataToKeys(item, itemRootKey);\n        result = [].concat(_toConsumableArray(result), _toConsumableArray(itemKeys));\n      } else {\n        result.push(itemRootKey);\n      }\n    });\n  } else {}\n\n  return result;\n};\nexport var removeHiddenFromResult = function removeHiddenFromResult(data, flatten) {\n  var result = clone(data);\n  var keys = dataToKeys(result);\n  keys.forEach(function (key) {\n    var _destructDataPath = destructDataPath(key),\n        id = _destructDataPath.id,\n        dataIndex = _destructDataPath.dataIndex;\n\n    if (flatten[id]) {\n      var _ref10 = flatten[id].schema || {},\n          hidden = _ref10.hidden;\n\n      if (isExpression(hidden)) {\n        hidden = parseSingleExpression(hidden, result, key);\n      }\n\n      if (get(result, key) !== undefined && hidden) {\n        set(result, key, undefined);\n      }\n    }\n  });\n  return result;\n};\nexport function msToTime(duration) {\n  var seconds = Math.floor(duration / 1000 % 60);\n  var minutes = Math.floor(duration / (1000 * 60) % 60);\n  var hours = Math.floor(duration / (1000 * 60 * 60) % 24);\n  hours = hours < 10 ? '0' + hours : hours;\n  minutes = minutes < 10 ? '0' + minutes : minutes;\n  seconds = seconds < 10 ? '0' + seconds : seconds;\n  return hours + ':' + minutes + ':' + seconds;\n}\nexport function yymmdd(timeStamp) {\n  var date_ob = new Date(Number(timeStamp));\n\n  var adjustZero = function adjustZero(num) {\n    return ('0' + num).slice(-2);\n  };\n\n  var day = adjustZero(date_ob.getDate());\n  var month = adjustZero(date_ob.getMonth());\n  var year = date_ob.getFullYear();\n  var hours = adjustZero(date_ob.getHours());\n  var minutes = adjustZero(date_ob.getMinutes());\n  var seconds = adjustZero(date_ob.getSeconds());\n  return \"\".concat(year, \"-\").concat(month, \"-\").concat(day, \" \").concat(hours, \":\").concat(minutes, \":\").concat(seconds);\n}\nexport function allPromiseFinish(promiseList) {\n  var hasError = false;\n  var count = promiseList.length;\n  var results = [];\n\n  if (!promiseList.length) {\n    return Promise.resolve([]);\n  }\n\n  return new Promise(function (resolve, reject) {\n    promiseList.forEach(function (promise, index) {\n      promise.catch(function (e) {\n        hasError = true;\n        return e;\n      }).then(function (result) {\n        count -= 1;\n        results[index] = result;\n\n        if (count > 0) {\n          return;\n        }\n\n        if (hasError) {\n          reject(results);\n        }\n\n        resolve(results);\n      });\n    });\n  });\n}\nexport var removeDups = function removeDups(arr) {\n  if (!Array.isArray(arr)) {\n    console.log('in removeDups: param is not an array');\n    return;\n  }\n\n  var array = [];\n\n  for (var i = 0; i < arr.length; i++) {\n    if (array.indexOf(arr[i]) === -1) {\n      array.push(arr[i]);\n    }\n  }\n\n  return array;\n};","import \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/popconfirm/style\";\nimport _Popconfirm from \"antd/es/popconfirm\";\nimport _CloseOutlined from \"@ant-design/icons/lib/icons/CloseOutlined\";\nimport _CopyOutlined from \"@ant-design/icons/lib/icons/CopyOutlined\";\nimport _ArrowDownOutlined from \"@ant-design/icons/lib/icons/ArrowDownOutlined\";\nimport _ArrowUpOutlined from \"@ant-design/icons/lib/icons/ArrowUpOutlined\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport React from 'react';\nimport Core from '../../index';\n\nvar CardList = function CardList(_ref) {\n  var _ref$displayList = _ref.displayList,\n      displayList = _ref$displayList === void 0 ? [] : _ref$displayList,\n      listData = _ref.listData,\n      changeList = _ref.changeList,\n      schema = _ref.schema,\n      deleteItem = _ref.deleteItem,\n      copyItem = _ref.copyItem,\n      addItem = _ref.addItem,\n      moveItemUp = _ref.moveItemUp,\n      moveItemDown = _ref.moveItemDown,\n      displayType = _ref.displayType,\n      getFieldsProps = _ref.getFieldsProps;\n  var _schema$props = schema.props,\n      props = _schema$props === void 0 ? {} : _schema$props,\n      itemProps = schema.itemProps;\n  var addBtnProps = {\n    type: 'dashed',\n    children: '新增一条'\n  };\n\n  if (props.addBtnProps && _typeof(props.addBtnProps) === 'object') {\n    addBtnProps = _objectSpread(_objectSpread({}, addBtnProps), props.addBtnProps);\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fr-card-list\"\n  }, displayList.map(function (item, idx) {\n    var fieldsProps = getFieldsProps(idx);\n    fieldsProps.displayType = displayType;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"fr-card-item \".concat(displayType === 'row' ? 'fr-card-item-row' : ''),\n      key: idx\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"fr-card-index\"\n    }, idx + 1), /*#__PURE__*/React.createElement(Core, fieldsProps), /*#__PURE__*/React.createElement(\"div\", {\n      direction: \"horizontal\",\n      className: \"fr-card-toolbar\"\n    }, !props.hideMove && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_ArrowUpOutlined, {\n      style: {\n        fontSize: 16,\n        marginLeft: 4\n      },\n      onClick: function onClick() {\n        return moveItemUp(idx);\n      }\n    }), /*#__PURE__*/React.createElement(_ArrowDownOutlined, {\n      style: {\n        fontSize: 16,\n        marginLeft: 4\n      },\n      onClick: function onClick() {\n        return moveItemDown(idx);\n      }\n    })), !props.hideAdd && !props.hideCopy && /*#__PURE__*/React.createElement(_CopyOutlined, {\n      style: {\n        fontSize: 16,\n        marginLeft: 8\n      },\n      onClick: function onClick() {\n        return copyItem(idx);\n      }\n    }), !props.hideDelete && /*#__PURE__*/React.createElement(_Popconfirm, {\n      title: \"\\u786E\\u5B9A\\u5220\\u9664?\",\n      onConfirm: function onConfirm() {\n        return deleteItem(idx);\n      },\n      okText: \"\\u786E\\u5B9A\",\n      cancelText: \"\\u53D6\\u6D88\"\n    }, /*#__PURE__*/React.createElement(_CloseOutlined, {\n      style: {\n        fontSize: 16,\n        marginLeft: 8\n      }\n    }))));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: displayList.length > 0 ? 0 : 8\n    }\n  }, !props.hideAdd && /*#__PURE__*/React.createElement(_Button, _extends({\n    onClick: addItem\n  }, addBtnProps)), Array.isArray(props.buttons) ? props.buttons.map(function (item, idx) {\n    var callback = item.callback,\n        text = item.text,\n        html = item.html;\n\n    var onClick = function onClick() {\n      console.log({\n        value: listData,\n        onChange: changeList,\n        schema: schema\n      });\n    };\n\n    if (typeof window[callback] === 'function') {\n      onClick = function onClick() {\n        window[callback]({\n          value: listData,\n          onChange: changeList,\n          schema: schema\n        });\n      };\n    }\n\n    return /*#__PURE__*/React.createElement(_Button, {\n      key: idx.toString(),\n      style: {\n        marginLeft: 8\n      },\n      type: \"dashed\",\n      onClick: onClick\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      dangerouslySetInnerHTML: {\n        __html: html || text\n      }\n    }));\n  }) : null));\n};\n\nexport default CardList;","import React from 'react';\nimport { translateMessage } from '../../utils';\nimport \"./ErrorMessage.css\";\n\nvar ErrorMessage = function ErrorMessage(_ref) {\n  var message = _ref.message,\n      schema = _ref.schema,\n      softHidden = _ref.softHidden,\n      hardHidden = _ref.hardHidden;\n  var msg = '';\n  if (typeof message === 'string') msg = message;\n\n  if (Array.isArray(message)) {\n    msg = message[0] || '';\n  }\n\n  msg = translateMessage(msg, schema);\n  if (hardHidden) return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"error-message\"\n  });\n  return !msg && softHidden ? null : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"error-message\"\n  }, msg);\n};\n\nexport default ErrorMessage;","import \"antd/es/table/style\";\nimport _Table from \"antd/es/table\";\nimport \"antd/es/drawer/style\";\nimport _Drawer from \"antd/es/drawer\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport _ArrowDownOutlined from \"@ant-design/icons/lib/icons/ArrowDownOutlined\";\nimport _ArrowUpOutlined from \"@ant-design/icons/lib/icons/ArrowUpOutlined\";\nimport \"antd/es/popconfirm/style\";\nimport _Popconfirm from \"antd/es/popconfirm\";\nvar _excluded = [\"buttons\"],\n    _excluded2 = [\"pagination\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { useRef } from 'react';\nimport { useSet, useTools } from '../../../hooks';\nimport { getDataPath, getDisplayValue, getKeyFromPath } from '../../../utils';\nimport Core from '../../index';\nimport ErrorMessage from '../../RenderField/ErrorMessage';\nvar FIELD_LENGTH = 170;\n\nvar DrawerList = function DrawerList(_ref) {\n  var _extends2;\n\n  var _ref$displayList = _ref.displayList,\n      displayList = _ref$displayList === void 0 ? [] : _ref$displayList,\n      dataPath = _ref.dataPath,\n      children = _ref.children,\n      deleteItem = _ref.deleteItem,\n      addItem = _ref.addItem,\n      moveItemDown = _ref.moveItemDown,\n      moveItemUp = _ref.moveItemUp,\n      flatten = _ref.flatten,\n      errorFields = _ref.errorFields,\n      getFieldsProps = _ref.getFieldsProps,\n      schema = _ref.schema,\n      changeList = _ref.changeList,\n      listData = _ref.listData;\n\n  var _useTools = useTools(),\n      widgets = _useTools.widgets;\n\n  var _schema$props = schema.props,\n      props = _schema$props === void 0 ? {} : _schema$props,\n      _schema$itemProps = schema.itemProps,\n      itemProps = _schema$itemProps === void 0 ? {} : _schema$itemProps;\n\n  var buttons = itemProps.buttons,\n      columnProps = _objectWithoutProperties(itemProps, _excluded);\n\n  var _props$pagination = props.pagination,\n      pagination = _props$pagination === void 0 ? {} : _props$pagination,\n      rest = _objectWithoutProperties(props, _excluded2);\n\n  var paginationConfig = pagination && _objectSpread({\n    size: 'small',\n    hideOnSinglePage: true\n  }, pagination);\n\n  var currentIndex = useRef(-1);\n\n  var _useSet = useSet({\n    showDrawer: false\n  }),\n      _useSet2 = _slicedToArray(_useSet, 2),\n      state = _useSet2[0],\n      setState = _useSet2[1];\n\n  var showDrawer = state.showDrawer;\n  var dataSource = displayList.map(function (item, index) {\n    return _objectSpread(_objectSpread({}, item), {}, {\n      $idx: index\n    });\n  });\n  var columns = children.map(function (child) {\n    var item = flatten[child];\n    var schema = item && item.schema || {};\n\n    var _dataIndex = getKeyFromPath(child);\n\n    return _objectSpread({\n      dataIndex: _dataIndex,\n      title: schema.required ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"fr-label-required\"\n      }, \" *\"), /*#__PURE__*/React.createElement(\"span\", null, schema.title)) : schema.title,\n      width: FIELD_LENGTH,\n      render: function render(value, record) {\n        var childPath = getDataPath(child, [record.$idx]);\n        var errorObj = errorFields.find(function (item) {\n          return item.name == childPath;\n        }) || {}; //TODO: 万一error在更深的层，这个办法是find不到的，会展示那一行没有提示。可以整一行加一个红线的方式处理\n\n        var Widget = widgets[schema.readOnlyWidget];\n        return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", null, Widget ? /*#__PURE__*/React.createElement(Widget, {\n          value: value,\n          schema: schema\n        }) : getDisplayValue(value, schema)), errorObj.error && /*#__PURE__*/React.createElement(ErrorMessage, {\n          message: errorObj.error,\n          schema: schema\n        }));\n      }\n    }, columnProps);\n  });\n  columns.push({\n    title: '操作',\n    key: '$action',\n    fixed: 'right',\n    width: 120,\n    render: function render(value, record, idx) {\n      var index = value && value.$idx || 0;\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"a\", {\n        onClick: function onClick() {\n          return openDrawer(index);\n        }\n      }, \"\\u7F16\\u8F91\"), !props.hideDelete && /*#__PURE__*/React.createElement(_Popconfirm, {\n        title: \"\\u786E\\u5B9A\\u5220\\u9664?\",\n        onConfirm: function onConfirm() {\n          return deleteItem(index);\n        },\n        okText: \"\\u786E\\u5B9A\",\n        cancelText: \"\\u53D6\\u6D88\"\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        style: {\n          marginLeft: 8\n        }\n      }, \"\\u5220\\u9664\")), !props.hideMove && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_ArrowUpOutlined, {\n        style: {\n          color: '#1890ff',\n          fontSize: 16,\n          marginLeft: 8\n        },\n        onClick: function onClick() {\n          return moveItemUp(idx);\n        }\n      }), /*#__PURE__*/React.createElement(_ArrowDownOutlined, {\n        style: {\n          color: '#1890ff',\n          fontSize: 16,\n          marginLeft: 8\n        },\n        onClick: function onClick() {\n          return moveItemDown(idx);\n        }\n      })));\n    }\n  });\n  var fieldsProps = getFieldsProps(currentIndex.current);\n\n  var openDrawer = function openDrawer(index) {\n    currentIndex.current = index;\n    setState({\n      showDrawer: true\n    });\n  };\n\n  var closeDrawer = function closeDrawer() {\n    currentIndex.current = -1;\n    setState({\n      showDrawer: false\n    });\n  };\n\n  var handleAdd = function handleAdd() {\n    var newIndex = addItem();\n    openDrawer(newIndex);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-100 mb2 tr\"\n  }, !props.hideAdd && /*#__PURE__*/React.createElement(_Button, {\n    type: \"primary\",\n    size: \"small\",\n    onClick: handleAdd\n  }, \"\\u65B0\\u589E\"), Array.isArray(props.buttons) ? props.buttons.map(function (item, idx) {\n    var callback = item.callback,\n        text = item.text,\n        html = item.html;\n\n    var onClick = function onClick() {\n      console.log({\n        value: listData,\n        onChange: changeList,\n        schema: schema\n      });\n    };\n\n    if (typeof window[callback] === 'function') {\n      onClick = function onClick() {\n        window[callback]({\n          value: listData,\n          onChange: changeList,\n          schema: schema\n        });\n      };\n    }\n\n    return /*#__PURE__*/React.createElement(_Button, {\n      key: idx.toString(),\n      style: {\n        marginLeft: 8\n      },\n      size: \"small\",\n      onClick: onClick\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      dangerouslySetInnerHTML: {\n        __html: html || text\n      }\n    }));\n  }) : null), /*#__PURE__*/React.createElement(_Drawer, {\n    width: \"600\",\n    title: \"\\u7F16\\u8F91\",\n    placement: \"right\",\n    onClose: closeDrawer,\n    visible: showDrawer,\n    destroyOnClose: true // 必须要加，currentIndex不是一个state，Core不会重新渲染就跪了\n\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fr-container\"\n  }, /*#__PURE__*/React.createElement(Core, fieldsProps))), /*#__PURE__*/React.createElement(_Table, _extends((_extends2 = {\n    size: \"small\",\n    scroll: {\n      x: 'max-content'\n    },\n    columns: columns,\n    dataSource: dataSource,\n    rowClassName: function rowClassName(record, idx) {\n      var index = record && record.$idx;\n      var hasError = errorFields.find(function (item) {\n        return item.name.indexOf(\"\".concat(dataPath, \"[\").concat(index, \"]\")) > -1;\n      });\n      return hasError ? 'fr-row-error' : '';\n    },\n    rowKey: \"$idx\"\n  }, _defineProperty(_extends2, \"size\", \"small\"), _defineProperty(_extends2, \"pagination\", paginationConfig), _extends2), rest)));\n};\n\nexport default DrawerList;","import \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport _ArrowDownOutlined from \"@ant-design/icons/lib/icons/ArrowDownOutlined\";\nimport _ArrowUpOutlined from \"@ant-design/icons/lib/icons/ArrowUpOutlined\";\nimport _CopyOutlined from \"@ant-design/icons/lib/icons/CopyOutlined\";\nimport \"antd/es/popconfirm/style\";\nimport _Popconfirm from \"antd/es/popconfirm\";\nimport _DeleteOutlined from \"@ant-design/icons/lib/icons/DeleteOutlined\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport React from 'react';\nimport Core from '../../index';\n\nvar SimpleList = function SimpleList(_ref) {\n  var schema = _ref.schema,\n      _ref$displayList = _ref.displayList,\n      displayList = _ref$displayList === void 0 ? [] : _ref$displayList,\n      listData = _ref.listData,\n      changeList = _ref.changeList,\n      deleteItem = _ref.deleteItem,\n      addItem = _ref.addItem,\n      copyItem = _ref.copyItem,\n      moveItemUp = _ref.moveItemUp,\n      moveItemDown = _ref.moveItemDown,\n      getFieldsProps = _ref.getFieldsProps;\n  var _schema$props = schema.props,\n      props = _schema$props === void 0 ? {} : _schema$props,\n      itemProps = schema.itemProps;\n  var addBtnProps = {\n    type: 'dashed',\n    children: '新增一条'\n  };\n\n  if (props.addBtnProps && _typeof(props.addBtnProps) === 'object') {\n    addBtnProps = _objectSpread(_objectSpread({}, addBtnProps), props.addBtnProps);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fr-list-1\"\n  }, displayList.map(function (item, idx) {\n    var fieldsProps = getFieldsProps(idx);\n    fieldsProps.displayType = 'inline';\n\n    if (props.hideTitle) {\n      fieldsProps.hideTitle = true;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: idx,\n      style: {\n        display: 'flex'\n      }\n    }, /*#__PURE__*/React.createElement(Core, fieldsProps), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: 6\n      }\n    }, !props.hideDelete && /*#__PURE__*/React.createElement(_Popconfirm, {\n      title: \"\\u786E\\u5B9A\\u5220\\u9664?\",\n      onConfirm: function onConfirm() {\n        return deleteItem(idx);\n      },\n      okText: \"\\u786E\\u5B9A\",\n      cancelText: \"\\u53D6\\u6D88\"\n    }, /*#__PURE__*/React.createElement(_DeleteOutlined, {\n      style: {\n        fontSize: 17,\n        marginLeft: 8\n      }\n    })), !props.hideAdd && !props.hideCopy && /*#__PURE__*/React.createElement(_CopyOutlined, {\n      style: {\n        fontSize: 15,\n        marginLeft: 8\n      },\n      onClick: function onClick() {\n        return copyItem(idx);\n      }\n    }), !props.hideMove && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_ArrowUpOutlined, {\n      style: {\n        fontSize: 16,\n        marginLeft: 8\n      },\n      onClick: function onClick() {\n        return moveItemUp(idx);\n      }\n    }), /*#__PURE__*/React.createElement(_ArrowDownOutlined, {\n      style: {\n        fontSize: 16,\n        marginLeft: 8\n      },\n      onClick: function onClick() {\n        return moveItemDown(idx);\n      }\n    }))));\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: displayList.length > 0 ? 0 : 8\n    }\n  }, !props.hideAdd && /*#__PURE__*/React.createElement(_Button, _extends({\n    onClick: addItem\n  }, addBtnProps)), Array.isArray(props.buttons) ? props.buttons.map(function (item, idx) {\n    var callback = item.callback,\n        text = item.text,\n        html = item.html;\n\n    var onClick = function onClick() {\n      console.log({\n        value: listData,\n        onChange: changeList,\n        schema: schema\n      });\n    };\n\n    if (typeof window[callback] === 'function') {\n      onClick = function onClick() {\n        window[callback]({\n          value: listData,\n          onChange: changeList,\n          schema: schema\n        });\n      };\n    }\n\n    return /*#__PURE__*/React.createElement(_Button, {\n      key: idx.toString(),\n      style: {\n        marginLeft: 8\n      },\n      type: \"dashed\",\n      onClick: onClick\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      dangerouslySetInnerHTML: {\n        __html: html || text\n      }\n    }));\n  }) : null));\n};\n\nexport default SimpleList;","import \"antd/es/table/style\";\nimport _Table from \"antd/es/table\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport _ArrowDownOutlined from \"@ant-design/icons/lib/icons/ArrowDownOutlined\";\nimport _ArrowUpOutlined from \"@ant-design/icons/lib/icons/ArrowUpOutlined\";\nimport \"antd/es/popconfirm/style\";\nimport _Popconfirm from \"antd/es/popconfirm\";\nvar _excluded = [\"buttons\"],\n    _excluded2 = [\"pagination\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport Core from '../../index';\nvar FIELD_LENGTH = 170;\n\nvar TableList = function TableList(_ref) {\n  var _ref$displayList = _ref.displayList,\n      displayList = _ref$displayList === void 0 ? [] : _ref$displayList,\n      dataIndex = _ref.dataIndex,\n      children = _ref.children,\n      deleteItem = _ref.deleteItem,\n      copyItem = _ref.copyItem,\n      addItem = _ref.addItem,\n      moveItemUp = _ref.moveItemUp,\n      moveItemDown = _ref.moveItemDown,\n      flatten = _ref.flatten,\n      schema = _ref.schema,\n      listData = _ref.listData,\n      changeList = _ref.changeList;\n  var _schema$props = schema.props,\n      props = _schema$props === void 0 ? {} : _schema$props,\n      _schema$itemProps = schema.itemProps,\n      itemProps = _schema$itemProps === void 0 ? {} : _schema$itemProps;\n\n  var buttons = itemProps.buttons,\n      columnProps = _objectWithoutProperties(itemProps, _excluded);\n\n  var _props$pagination = props.pagination,\n      pagination = _props$pagination === void 0 ? {} : _props$pagination,\n      rest = _objectWithoutProperties(props, _excluded2);\n\n  var paginationConfig = pagination && _objectSpread({\n    size: 'small',\n    hideOnSinglePage: true\n  }, pagination);\n\n  var dataSource = displayList.map(function (item, idx) {\n    return {\n      index: idx\n    };\n  });\n  var columns = children.map(function (child) {\n    var item = flatten[child];\n    var schema = item && item.schema || {};\n    return _objectSpread({\n      dataIndex: child,\n      title: schema.required ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"fr-label-required\"\n      }, \" *\"), /*#__PURE__*/React.createElement(\"span\", null, schema.title)) : schema.title,\n      width: FIELD_LENGTH,\n      render: function render(value, record, index) {\n        // Check: record.index 似乎是antd自己会给的，不错哦\n        var childIndex = [].concat(_toConsumableArray(dataIndex), [record.index]);\n        return /*#__PURE__*/React.createElement(Core, {\n          hideTitle: true,\n          displayType: \"inline\",\n          key: index.toString(),\n          id: child,\n          dataIndex: childIndex\n        });\n      }\n    }, columnProps);\n  });\n\n  if (!props.hideDelete || !props.hideAdd || !props.hideCopy || !props.hideMove) {\n    columns.push({\n      title: '操作',\n      key: '$action',\n      fixed: 'right',\n      width: 120,\n      render: function render(value, record) {\n        var idx = record.index;\n        return /*#__PURE__*/React.createElement(\"div\", null, !props.hideAdd && !props.hideCopy && /*#__PURE__*/React.createElement(\"a\", {\n          onClick: function onClick() {\n            return copyItem(idx);\n          }\n        }, \"\\u590D\\u5236\"), !props.hideDelete && /*#__PURE__*/React.createElement(_Popconfirm, {\n          title: \"\\u786E\\u5B9A\\u5220\\u9664?\",\n          onConfirm: function onConfirm() {\n            return deleteItem(idx);\n          },\n          okText: \"\\u786E\\u5B9A\",\n          cancelText: \"\\u53D6\\u6D88\"\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          style: {\n            marginLeft: 8\n          }\n        }, \"\\u5220\\u9664\")), !props.hideMove && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_ArrowUpOutlined, {\n          style: {\n            color: '#1890ff',\n            fontSize: 16,\n            marginLeft: 8\n          },\n          onClick: function onClick() {\n            return moveItemUp(idx);\n          }\n        }), /*#__PURE__*/React.createElement(_ArrowDownOutlined, {\n          style: {\n            color: '#1890ff',\n            fontSize: 16,\n            marginLeft: 8\n          },\n          onClick: function onClick() {\n            return moveItemDown(idx);\n          }\n        })));\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-100 mb2 tr\"\n  }, !props.hideAdd && /*#__PURE__*/React.createElement(_Button, {\n    type: \"primary\",\n    size: \"small\",\n    onClick: addItem\n  }, \"\\u65B0\\u589E\"), Array.isArray(props.buttons) ? props.buttons.map(function (item, idx) {\n    var callback = item.callback,\n        text = item.text,\n        html = item.html;\n\n    var onClick = function onClick() {\n      console.log({\n        value: listData,\n        onChange: changeList,\n        schema: schema\n      });\n    };\n\n    if (typeof window[callback] === 'function') {\n      onClick = function onClick() {\n        window[callback]({\n          value: listData,\n          onChange: changeList,\n          schema: schema\n        });\n      };\n    }\n\n    return /*#__PURE__*/React.createElement(_Button, {\n      key: idx.toString(),\n      style: {\n        marginLeft: 8\n      },\n      size: \"small\",\n      onClick: onClick\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      dangerouslySetInnerHTML: {\n        __html: html || text\n      }\n    }));\n  }) : null), /*#__PURE__*/React.createElement(_Table, _extends({\n    scroll: {\n      x: 'max-content'\n    },\n    columns: columns,\n    dataSource: dataSource,\n    rowKey: \"index\",\n    size: \"small\",\n    pagination: paginationConfig\n  }, rest)));\n};\n\nexport default TableList;","import \"antd/es/tabs/style\";\nimport _Tabs from \"antd/es/tabs\";\nvar _excluded = [\"tabName\", \"type\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useState } from 'react';\nimport Core from '../../index';\nvar TabPane = _Tabs.TabPane;\n\nvar TabList = function TabList(_ref) {\n  var _ref$displayList = _ref.displayList,\n      displayList = _ref$displayList === void 0 ? [] : _ref$displayList,\n      listData = _ref.listData,\n      changeList = _ref.changeList,\n      schema = _ref.schema,\n      deleteItem = _ref.deleteItem,\n      copyItem = _ref.copyItem,\n      addItem = _ref.addItem,\n      moveItemUp = _ref.moveItemUp,\n      moveItemDown = _ref.moveItemDown,\n      displayType = _ref.displayType,\n      getFieldsProps = _ref.getFieldsProps;\n\n  var _useState = useState('0'),\n      _useState2 = _slicedToArray(_useState, 2),\n      activeKey = _useState2[0],\n      setActiveKey = _useState2[1];\n\n  var _schema$props = schema.props,\n      props = _schema$props === void 0 ? {} : _schema$props,\n      itemProps = schema.itemProps;\n\n  var tabName = props.tabName,\n      type = props.type,\n      restProps = _objectWithoutProperties(props, _excluded);\n\n  var onEdit = function onEdit(targetKey, action) {\n    if (action === 'add') {\n      var currentKey = addItem();\n      setActiveKey(\"\".concat(currentKey));\n    } else if (action === 'remove') {\n      deleteItem(Number(targetKey));\n      setActiveKey(\"\".concat(targetKey > 1 ? targetKey - 1 : 0));\n    } else {\n      return null;\n    }\n  };\n\n  var getCurrentTabPaneName = function getCurrentTabPaneName(idx) {\n    return tabName instanceof Array ? tabName[idx] || idx + 1 : \"\".concat(tabName || '项目', \" \").concat(idx + 1);\n  };\n\n  return /*#__PURE__*/React.createElement(_Tabs, _extends({\n    type: type || 'line',\n    onChange: setActiveKey,\n    activeKey: activeKey,\n    onEdit: onEdit\n  }, restProps), displayList.map(function (item, idx) {\n    var fieldsProps = getFieldsProps(idx);\n    fieldsProps.displayType = displayType;\n    return /*#__PURE__*/React.createElement(TabPane, {\n      tab: getCurrentTabPaneName(idx),\n      key: \"\".concat(idx)\n    }, /*#__PURE__*/React.createElement(Core, fieldsProps));\n  }));\n};\n\nexport default TabList;","import \"antd/es/table/style\";\nimport _Table from \"antd/es/table\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport _ArrowDownOutlined from \"@ant-design/icons/lib/icons/ArrowDownOutlined\";\nimport _ArrowUpOutlined from \"@ant-design/icons/lib/icons/ArrowUpOutlined\";\nimport \"antd/es/popconfirm/style\";\nimport _Popconfirm from \"antd/es/popconfirm\";\nvar _excluded = [\"scrollY\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport { useVT } from 'virtualizedtableforantd4';\nimport Core from '../../index';\nvar FIELD_LENGTH = 170;\n\nvar VirtualList = function VirtualList(_ref) {\n  var _ref$displayList = _ref.displayList,\n      displayList = _ref$displayList === void 0 ? [] : _ref$displayList,\n      dataIndex = _ref.dataIndex,\n      children = _ref.children,\n      deleteItem = _ref.deleteItem,\n      addItem = _ref.addItem,\n      moveItemUp = _ref.moveItemUp,\n      moveItemDown = _ref.moveItemDown,\n      flatten = _ref.flatten,\n      schema = _ref.schema,\n      listData = _ref.listData,\n      changeList = _ref.changeList;\n  var _schema$props = schema.props,\n      props = _schema$props === void 0 ? {} : _schema$props,\n      _schema$itemProps = schema.itemProps,\n      itemProps = _schema$itemProps === void 0 ? {} : _schema$itemProps;\n\n  var _props$scrollY = props.scrollY,\n      scrollY = _props$scrollY === void 0 ? 600 : _props$scrollY,\n      rest = _objectWithoutProperties(props, _excluded);\n\n  var _useVT = useVT(function () {\n    return {\n      scroll: {\n        y: scrollY\n      }\n    };\n  }, []),\n      _useVT2 = _slicedToArray(_useVT, 2),\n      vt = _useVT2[0],\n      set_components = _useVT2[1];\n\n  var dataSource = displayList.map(function (item, idx) {\n    return {\n      index: idx\n    };\n  });\n  var columns = children.map(function (child) {\n    var item = flatten[child];\n    var schema = item && item.schema || {};\n    return {\n      dataIndex: child,\n      width: FIELD_LENGTH,\n      title: schema.required ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"fr-label-required\"\n      }, \" *\"), /*#__PURE__*/React.createElement(\"span\", null, schema.title)) : schema.title,\n      render: function render(value, record, index) {\n        // Check: record.index 似乎是antd自己会给的，不错哦\n        var childIndex = [].concat(_toConsumableArray(dataIndex), [record.index]);\n        return /*#__PURE__*/React.createElement(Core, {\n          hideTitle: true,\n          displayType: \"inline\",\n          key: index.toString(),\n          id: child,\n          dataIndex: childIndex\n        });\n      }\n    };\n  });\n\n  if (!props.hideDelete || Array.isArray(itemProps.buttons)) {\n    columns.push({\n      title: '操作',\n      key: '$action',\n      fixed: 'right',\n      width: 120,\n      render: function render(value, record, idx) {\n        return /*#__PURE__*/React.createElement(React.Fragment, null, !props.hideDelete && /*#__PURE__*/React.createElement(_Popconfirm, {\n          title: \"\\u786E\\u5B9A\\u5220\\u9664?\",\n          onConfirm: function onConfirm() {\n            return deleteItem(idx);\n          },\n          okText: \"\\u786E\\u5B9A\",\n          cancelText: \"\\u53D6\\u6D88\"\n        }, /*#__PURE__*/React.createElement(\"a\", null, \"\\u5220\\u9664\")), !props.hideMove && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_ArrowUpOutlined, {\n          style: {\n            color: '#1890ff',\n            fontSize: 16,\n            marginLeft: 8\n          },\n          onClick: function onClick() {\n            return moveItemUp(idx);\n          }\n        }), /*#__PURE__*/React.createElement(_ArrowDownOutlined, {\n          style: {\n            color: '#1890ff',\n            fontSize: 16,\n            marginLeft: 8\n          },\n          onClick: function onClick() {\n            return moveItemDown(idx);\n          }\n        })), Array.isArray(itemProps.buttons) ? itemProps.buttons.map(function (item, idx) {\n          var callback = item.callback,\n              text = item.text,\n              html = item.html;\n\n          var onClick = function onClick() {};\n\n          if (typeof window[callback] === 'function') {\n            onClick = function onClick() {\n              window[callback]({\n                value: listData,\n                onChange: changeList,\n                schema: schema\n              });\n            };\n          }\n\n          return /*#__PURE__*/React.createElement(\"a\", {\n            key: idx.toString(),\n            style: {\n              marginLeft: 8\n            },\n            size: \"small\",\n            onClick: onClick\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            dangerouslySetInnerHTML: {\n              __html: html || text\n            }\n          }));\n        }) : null);\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-100 mb2 tr\"\n  }, !props.hideAdd && /*#__PURE__*/React.createElement(_Button, {\n    type: \"primary\",\n    size: \"small\",\n    onClick: addItem\n  }, \"\\u65B0\\u589E\"), Array.isArray(props.buttons) ? props.buttons.map(function (item, idx) {\n    var callback = item.callback,\n        text = item.text,\n        html = item.html;\n\n    var onClick = function onClick() {};\n\n    if (typeof window[callback] === 'function') {\n      onClick = function onClick() {\n        window[callback]({\n          value: listData,\n          onChange: changeList,\n          schema: schema\n        });\n      };\n    }\n\n    return /*#__PURE__*/React.createElement(_Button, {\n      key: idx.toString(),\n      style: {\n        marginLeft: 8\n      },\n      size: \"small\",\n      onClick: onClick\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      dangerouslySetInnerHTML: {\n        __html: html || text\n      }\n    }));\n  }) : null), /*#__PURE__*/React.createElement(_Table, _extends({\n    rowKey: \"index\",\n    scroll: {\n      y: scrollY\n    },\n    components: vt,\n    size: \"small\",\n    columns: columns,\n    dataSource: dataSource,\n    pagination: false\n  }, rest)));\n};\n\nexport default VirtualList;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport { get } from 'lodash-es';\nimport React from 'react';\nimport { useStore, useTools } from '../../../hooks';\nimport { generateDataSkeleton, getDataPath, getSchemaFromFlatten } from '../../../utils';\nimport CardList from './CardList';\nimport DrawerList from './DrawerList';\nimport \"./list.css\";\nimport SimpleList from './SimpleList';\nimport TableList from './TableList';\nimport TabList from './TabList';\nimport VirtualList from './VirtualList';\n\nvar RenderList = function RenderList(_ref) {\n  var parentId = _ref.parentId,\n      _ref$schema = _ref.schema,\n      schema = _ref$schema === void 0 ? {} : _ref$schema,\n      _ref$dataIndex = _ref.dataIndex,\n      dataIndex = _ref$dataIndex === void 0 ? [] : _ref$dataIndex,\n      _ref$children = _ref.children,\n      children = _ref$children === void 0 ? [] : _ref$children,\n      errorFields = _ref.errorFields,\n      displayType = _ref.displayType;\n\n  var _useStore = useStore(),\n      formData = _useStore.formData,\n      flatten = _useStore.flatten;\n\n  var _useTools = useTools(),\n      onItemChange = _useTools.onItemChange,\n      removeTouched = _useTools.removeTouched;\n\n  var renderWidget = 'list';\n\n  try {\n    renderWidget = schema.widget;\n  } catch (error) {} // 计算 list对应的formData\n\n\n  var dataPath = getDataPath(parentId, dataIndex);\n  var listData;\n\n  if (typeof dataPath === 'string') {\n    // TODO: listData会有不少“窟窿”，submit 的时候，listData 需要补齐 or filter\n    listData = get(formData, dataPath);\n  }\n\n  var displayList = Array.isArray(listData) ? listData : [{}];\n\n  var changeList = function changeList(newList) {\n    onItemChange(dataPath, newList);\n  };\n\n  var addItem = function addItem() {\n    var _schema = getSchemaFromFlatten(flatten, parentId);\n\n    var newItem = generateDataSkeleton(_schema.items) || {};\n    var newList = [].concat(_toConsumableArray(displayList), [newItem]);\n    var newIndex = newList.length - 1;\n    onItemChange(dataPath, newList);\n    return newIndex;\n  };\n\n  var copyItem = function copyItem(idx) {\n    var newItem = displayList[idx];\n    var newList = [].concat(_toConsumableArray(displayList.slice(0, idx)), [newItem], _toConsumableArray(displayList.slice(idx)));\n    onItemChange(dataPath, JSON.parse(JSON.stringify(newList)));\n  };\n\n  var deleteItem = function deleteItem(idx) {\n    // TODO: 删除元素的时候，也需要delete相对于的校验信息（errorFields）\n    // remark: 删除时，不存在的item需要补齐，用null\n    var newList = displayList.filter(function (item, kdx) {\n      return kdx !== idx;\n    });\n    onItemChange(dataPath, newList);\n    removeTouched(\"\".concat(dataPath, \"[\").concat(idx, \"]\"));\n  }; //TODO1: 上线翻页要正确！！现在是错的\n\n\n  var moveItemUp = function moveItemUp(idx) {\n    if (idx === 0) return;\n    var currentItem = displayList[idx];\n    var itemAbove = displayList[idx - 1];\n    var newList = displayList;\n    newList[idx] = itemAbove;\n    newList[idx - 1] = currentItem;\n    onItemChange(dataPath, newList); // TODO: 这块懒了，之后要处理一下\n\n    removeTouched(\"\".concat(dataPath, \"[\").concat(idx, \"]\"));\n  };\n\n  var moveItemDown = function moveItemDown(idx) {\n    if (idx >= displayList.length - 1) return;\n    var currentItem = displayList[idx];\n    var itemBelow = displayList[idx + 1];\n    var newList = displayList;\n    newList[idx] = itemBelow;\n    newList[idx + 1] = currentItem;\n    onItemChange(dataPath, newList); // TODO: 这块懒了，之后要处理一下\n\n    removeTouched(\"\".concat(dataPath, \"[\").concat(idx, \"]\"));\n  };\n\n  var itemSchema = {\n    type: 'object',\n    properties: {},\n    props: schema.props || {},\n    $id: schema.$id\n  };\n  var itemFlatten = {\n    schema: itemSchema,\n    children: children\n  };\n\n  var getFieldsProps = function getFieldsProps(idx, extraProps) {\n    return _objectSpread({\n      _item: itemFlatten,\n      dataIndex: [].concat(_toConsumableArray(dataIndex), [idx])\n    }, extraProps);\n  };\n\n  var displayProps = {\n    displayList: displayList,\n    changeList: changeList,\n    schema: schema,\n    dataPath: dataPath,\n    dataIndex: dataIndex,\n    children: children,\n    deleteItem: deleteItem,\n    addItem: addItem,\n    copyItem: copyItem,\n    moveItemDown: moveItemDown,\n    moveItemUp: moveItemUp,\n    listData: listData,\n    flatten: flatten,\n    errorFields: errorFields,\n    displayType: displayType,\n    getFieldsProps: getFieldsProps\n  };\n\n  switch (renderWidget) {\n    case 'list0':\n    case 'cardList':\n      return /*#__PURE__*/React.createElement(CardList, displayProps);\n\n    case 'list1':\n    case 'simpleList':\n      return /*#__PURE__*/React.createElement(SimpleList, displayProps);\n\n    case 'list2':\n    case 'tableList':\n      return /*#__PURE__*/React.createElement(TableList, displayProps);\n\n    case 'list3':\n    case 'drawerList':\n      return /*#__PURE__*/React.createElement(DrawerList, displayProps);\n\n    case 'list4':\n    case 'virtualList':\n      return /*#__PURE__*/React.createElement(VirtualList, displayProps);\n\n    case 'tabList':\n      return /*#__PURE__*/React.createElement(TabList, displayProps);\n\n    default:\n      return /*#__PURE__*/React.createElement(CardList, displayProps);\n  }\n};\n\nexport default RenderList;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\nimport Core from '../index';\n\nvar RenderObject = function RenderObject(_ref) {\n  var _ref$children = _ref.children,\n      children = _ref$children === void 0 ? [] : _ref$children,\n      _ref$dataIndex = _ref.dataIndex,\n      dataIndex = _ref$dataIndex === void 0 ? [] : _ref$dataIndex,\n      displayType = _ref.displayType,\n      hideTitle = _ref.hideTitle;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children.map(function (child, i) {\n    var FRProps = {\n      displayType: displayType,\n      id: child,\n      dataIndex: dataIndex,\n      hideTitle: hideTitle\n    };\n    return /*#__PURE__*/React.createElement(Core, _extends({\n      key: i.toString()\n    }, FRProps));\n  }));\n};\n\nexport default RenderObject;","import { useEffect, useMemo, useRef } from 'react';\n\nfunction useDebouncedCallback(func, wait, options) {\n  var _this = this;\n\n  var lastCallTime = useRef(null);\n  var lastInvokeTime = useRef(0);\n  var timerId = useRef(null);\n  var lastArgs = useRef([]);\n  var lastThis = useRef();\n  var result = useRef();\n  var funcRef = useRef(func);\n  var mounted = useRef(true);\n  funcRef.current = func; // Bypass `requestAnimationFrame` by explicitly setting `wait=0`.\n\n  var useRAF = !wait && wait !== 0 && typeof window !== 'undefined';\n\n  if (typeof func !== 'function') {\n    throw new TypeError('Expected a function');\n  }\n\n  wait = +wait || 0;\n  options = options || {};\n  var leading = !!options.leading;\n  var trailing = 'trailing' in options ? !!options.trailing : true; // `true` by default\n\n  var maxing = ('maxWait' in options);\n  var maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : null;\n  useEffect(function () {\n    mounted.current = true;\n    return function () {\n      mounted.current = false;\n    };\n  }, []); // You may have a question, why we have so many code under the useMemo definition.\n  //\n  // This was made as we want to escape from useCallback hell and\n  // not to initialize a number of functions each time useDebouncedCallback is called.\n  //\n  // It means that we have less garbage for our GC calls which improves performance.\n  // Also, it makes this library smaller.\n  //\n  // And the last reason, that the code without lots of useCallback with deps is easier to read.\n  // You have only one place for that.\n\n  var debounced = useMemo(function () {\n    var invokeFunc = function invokeFunc(time) {\n      var args = lastArgs.current;\n      var thisArg = lastThis.current;\n      lastArgs.current = lastThis.current = null;\n      lastInvokeTime.current = time;\n      return result.current = funcRef.current.apply(thisArg, args);\n    };\n\n    var startTimer = function startTimer(pendingFunc, wait) {\n      if (useRAF) cancelAnimationFrame(timerId.current);\n      timerId.current = useRAF ? requestAnimationFrame(pendingFunc) : setTimeout(pendingFunc, wait);\n    };\n\n    var shouldInvoke = function shouldInvoke(time) {\n      if (!mounted.current) return false;\n      var timeSinceLastCall = time - lastCallTime.current;\n      var timeSinceLastInvoke = time - lastInvokeTime.current; // Either this is the first call, activity has stopped and we're at the\n      // trailing edge, the system time has gone backwards and we're treating\n      // it as the trailing edge, or we've hit the `maxWait` limit.\n\n      return !lastCallTime.current || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n    };\n\n    var trailingEdge = function trailingEdge(time) {\n      timerId.current = null; // Only invoke if we have `lastArgs` which means `func` has been\n      // debounced at least once.\n\n      if (trailing && lastArgs.current) {\n        return invokeFunc(time);\n      }\n\n      lastArgs.current = lastThis.current = null;\n      return result.current;\n    };\n\n    var timerExpired = function timerExpired() {\n      var time = Date.now();\n\n      if (shouldInvoke(time)) {\n        return trailingEdge(time);\n      } // https://github.com/xnimorz/use-debounce/issues/97\n\n\n      if (!mounted.current) {\n        return;\n      } // Remaining wait calculation\n\n\n      var timeSinceLastCall = time - lastCallTime.current;\n      var timeSinceLastInvoke = time - lastInvokeTime.current;\n      var timeWaiting = wait - timeSinceLastCall;\n      var remainingWait = maxing ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting; // Restart the timer\n\n      startTimer(timerExpired, remainingWait);\n    };\n\n    var func = function func() {\n      var time = Date.now();\n      var isInvoking = shouldInvoke(time);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      lastArgs.current = args;\n      lastThis.current = _this;\n      lastCallTime.current = time;\n\n      if (isInvoking) {\n        if (!timerId.current && mounted.current) {\n          // Reset any `maxWait` timer.\n          lastInvokeTime.current = lastCallTime.current; // Start the timer for the trailing edge.\n\n          startTimer(timerExpired, wait); // Invoke the leading edge.\n\n          return leading ? invokeFunc(lastCallTime.current) : result.current;\n        }\n\n        if (maxing) {\n          // Handle invocations in a tight loop.\n          startTimer(timerExpired, wait);\n          return invokeFunc(lastCallTime.current);\n        }\n      }\n\n      if (!timerId.current) {\n        startTimer(timerExpired, wait);\n      }\n\n      return result.current;\n    };\n\n    func.cancel = function () {\n      if (timerId.current) {\n        useRAF ? cancelAnimationFrame(timerId.current) : clearTimeout(timerId.current);\n      }\n\n      lastInvokeTime.current = 0;\n      lastArgs.current = lastCallTime.current = lastThis.current = timerId.current = null;\n    };\n\n    func.isPending = function () {\n      return !!timerId.current;\n    };\n\n    func.flush = function () {\n      return !timerId.current ? result.current : trailingEdge(Date.now());\n    };\n\n    return func;\n  }, [leading, maxing, wait, maxWait, trailing, useRAF]);\n  return debounced;\n}\n\nexport default useDebouncedCallback;","var typeTemplate = '${title} is not a valid ${type}';\nexport var defaultValidateMessages = {\n  default: 'Validation error on field ${title}',\n  required: '${title} is required',\n  whitespace: '${title} cannot be empty',\n  date: {\n    format: '${title} is invalid for format date',\n    parse: '${title} could not be parsed as date',\n    invalid: '${title} is invalid date'\n  },\n  types: {\n    string: typeTemplate,\n    method: typeTemplate,\n    array: typeTemplate,\n    object: typeTemplate,\n    number: typeTemplate,\n    date: typeTemplate,\n    boolean: typeTemplate,\n    integer: typeTemplate,\n    float: typeTemplate,\n    regexp: typeTemplate,\n    email: typeTemplate,\n    url: typeTemplate,\n    hex: typeTemplate\n  },\n  string: {\n    len: '${title} must be exactly ${len} characters',\n    min: '${title} must be at least ${min} characters',\n    max: '${title} cannot be longer than ${max} characters',\n    range: '${title} must be between ${min} and ${max} characters'\n  },\n  number: {\n    len: '${title} must equal ${len}',\n    min: '${title} cannot be less than ${min}',\n    max: '${title} cannot be greater than ${max}',\n    range: '${title} must be between ${min} and ${max}'\n  },\n  array: {\n    len: '${title} must be exactly ${len} in length',\n    min: '${title} cannot be less than ${min} in length',\n    max: '${title} cannot be greater than ${max} in length',\n    range: '${title} must be between ${min} and ${max} in length'\n  },\n  pattern: {\n    mismatch: '${title} does not match pattern ${pattern}'\n  }\n};","var typeTemplate = '${title}的类型不是${type}';\nexport var defaultValidateMessagesCN = {\n  default: '${title}未通过校验',\n  required: '${title}必填',\n  whitespace: '${title}不能为空',\n  date: {\n    format: '${title}的格式错误',\n    parse: '${title}无法被解析',\n    invalid: '${title}数据不合法'\n  },\n  types: {\n    string: typeTemplate,\n    method: typeTemplate,\n    array: typeTemplate,\n    object: typeTemplate,\n    number: typeTemplate,\n    date: typeTemplate,\n    boolean: typeTemplate,\n    integer: typeTemplate,\n    float: typeTemplate,\n    regexp: typeTemplate,\n    email: typeTemplate,\n    url: typeTemplate,\n    hex: typeTemplate\n  },\n  string: {\n    len: '${title}长度不是${len}',\n    min: '${title}长度不能小于${min}',\n    max: '${title}长度不能大于${max}',\n    range: '${title}长度需在${min}于${max}之间'\n  },\n  number: {\n    len: '${title}不等于${len}',\n    min: '${title}不能小于${min}',\n    max: '${title}不能大于${max}',\n    range: '${title}需在${min}与${max}之间'\n  },\n  array: {\n    len: '${title}长度不是${len}',\n    min: '${title}长度不能小于${min}',\n    max: '${title}长度不能大于${max}',\n    range: '${title}长度需在${min}于${max}之间'\n  },\n  pattern: {\n    mismatch: '${title}未通过正则判断${pattern}'\n  }\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/* eslint-disable react-hooks/exhaustive-deps */\nimport Validator from 'async-validator';\nimport { get, merge } from 'lodash-es';\nimport { allPromiseFinish, dataToKeys, destructDataPath, getDataPath, getDescriptorSimple, isExpression, isObject, parseSingleExpression, removeDups } from './utils';\nimport { defaultValidateMessages } from './validateMessage';\nimport { defaultValidateMessagesCN } from './validateMessageCN';\nexport var parseSchemaExpression = function parseSchemaExpression(schema, formData, path) {\n  if (!isObject(schema)) return schema;\n  var result = {};\n  Object.keys(schema).forEach(function (key) {\n    var item = schema[key];\n\n    if (isObject(item)) {\n      result[key] = parseSchemaExpression(item, formData, path);\n    } else if (isExpression(item)) {\n      result[key] = parseSingleExpression(item, formData, path);\n    } else {\n      result[key] = item;\n    }\n  });\n  return result;\n};\n\nvar getRelatedPaths = function getRelatedPaths(path, flatten) {\n  var parentPaths = [];\n  var pathArr = path.split('.');\n\n  while (pathArr.length > 0) {\n    parentPaths.push(pathArr.join('.'));\n    pathArr.pop();\n  }\n\n  var result = [].concat(parentPaths);\n  parentPaths.forEach(function (path) {\n    var _destructDataPath = destructDataPath(path),\n        id = _destructDataPath.id,\n        dataIndex = _destructDataPath.dataIndex;\n\n    if (flatten[id] && flatten[id].schema && Array.isArray(flatten[id].schema.dependecies)) {\n      var deps = flatten[id].schema.dependecies;\n      var fullPathDeps = deps.map(function (dep) {\n        return getDataPath(dep, dataIndex);\n      });\n      result = [].concat(_toConsumableArray(result), _toConsumableArray(fullPathDeps));\n    }\n  });\n  return removeDups(result).map(function (path) {\n    if (path.slice(-1) === ']') {\n      var pattern = /\\[[0-9]+\\]$/;\n      return path.replace(pattern, '');\n    } else {\n      return path;\n    }\n  });\n};\n\nexport var validateField = function validateField(_ref) {\n  var path = _ref.path,\n      formData = _ref.formData,\n      flatten = _ref.flatten,\n      options = _ref.options;\n  var paths = getRelatedPaths(path, flatten); // console.log('all relevant paths:', paths);\n\n  var promiseArray = paths.map(function (path) {\n    var _destructDataPath2 = destructDataPath(path),\n        id = _destructDataPath2.id,\n        dataIndex = _destructDataPath2.dataIndex;\n\n    if (flatten[id] || flatten[\"\".concat(id, \"[]\")]) {\n      var item = flatten[id] || flatten[\"\".concat(id, \"[]\")];\n      var singleData = get(formData, path);\n      var schema = item.schema || {};\n      var finalSchema = parseSchemaExpression(schema, formData, path);\n      return validateSingle(singleData, finalSchema, path, options); // is a promise\n    } else {\n      return Promise.resolve();\n    }\n  });\n  return allPromiseFinish(promiseArray).then(function (res) {\n    var errorFields = res.filter(function (item) {\n      return Array.isArray(item) && item.length > 0;\n    }).map(function (item) {\n      var name = item[0].field;\n      var error = item.map(function (m) {\n        return m.message;\n      }).filter(function (m) {\n        return !!m;\n      });\n      return {\n        name: name,\n        error: error\n      };\n    });\n    return errorFields;\n  }).catch(function (e) {\n    console.log(e);\n  });\n}; // pathFromData => allPath\n\nvar getAllPaths = function getAllPaths(paths, flatten) {\n  if (!Array.isArray(paths)) return [];\n\n  var result = _toConsumableArray(paths).filter(function (p) {\n    return p.indexOf(']') > -1;\n  }).map(function (p1) {\n    var last = p1.lastIndexOf(']');\n    return p1.substring(0, last + 1);\n  });\n\n  var uniqueResult = removeDups(result);\n  var allFlattenPath = Object.keys(flatten);\n\n  var res = _toConsumableArray(paths);\n\n  uniqueResult.forEach(function (result) {\n    var _destructDataPath3 = destructDataPath(result),\n        id = _destructDataPath3.id,\n        dataIndex = _destructDataPath3.dataIndex;\n\n    if (flatten[id]) {\n      var children = allFlattenPath.filter(function (f) {\n        return f.indexOf(id) === 0 && f !== id;\n      });\n      var childrenWithIndex = children.map(function (child) {\n        var p = getDataPath(child, dataIndex);\n        return p.split('[]')[0];\n      }).filter(function (i) {\n        return !!i;\n      });\n      res = [].concat(_toConsumableArray(res), _toConsumableArray(removeDups(childrenWithIndex)));\n    }\n  });\n  return removeDups(res);\n};\n\nexport var validateAll = function validateAll(_ref2) {\n  var formData = _ref2.formData,\n      flatten = _ref2.flatten,\n      options = _ref2.options;\n  var paths = dataToKeys(formData);\n  var allPaths = getAllPaths(paths, flatten); // console.log(formData, dataToKeys(formData), 'dataToKeysdataToKeys');\n  // console.log('allPaths', allPaths);\n\n  var promiseArray = allPaths.map(function (path) {\n    var _destructDataPath4 = destructDataPath(path),\n        id = _destructDataPath4.id,\n        dataIndex = _destructDataPath4.dataIndex;\n\n    if (flatten[id] || flatten[\"\".concat(id, \"[]\")]) {\n      var item = flatten[id] || flatten[\"\".concat(id, \"[]\")];\n      var singleData = get(formData, path);\n      var schema = item.schema || {};\n      var finalSchema = parseSchemaExpression(schema, formData, path);\n      return validateSingle(singleData, finalSchema, path, options); // is a promise\n    } else {\n      return Promise.resolve();\n    }\n  });\n  return allPromiseFinish(promiseArray).then(function (res) {\n    var errorFields = res.filter(function (item) {\n      return Array.isArray(item) && item.length > 0 && item[0].message !== null;\n    }) // NOTICE: different from validateField\n    .map(function (item) {\n      var name = item[0].field;\n      var error = item.map(function (m) {\n        return m.message;\n      }).filter(function (m) {\n        return !!m;\n      });\n      return {\n        name: name,\n        error: error\n      };\n    });\n    return errorFields;\n  }).catch(function (e) {\n    console.log(e);\n  });\n};\n\nvar validateSingle = function validateSingle(data) {\n  var schema = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var path = arguments.length > 2 ? arguments[2] : undefined;\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  if (schema.hidden) {\n    return Promise.resolve();\n  }\n\n  var _options$validateMess = options.validateMessages,\n      validateMessages = _options$validateMess === void 0 ? {} : _options$validateMess,\n      _options$locale = options.locale,\n      locale = _options$locale === void 0 ? 'cn' : _options$locale;\n  var cn = defaultValidateMessagesCN;\n  var en = defaultValidateMessages;\n  var descriptor = getDescriptorSimple(schema, path); // console.log('descriptor, schema, path', descriptor, schema, path, data);\n  // TODO: 有些情况会出现没有rules，需要看一下，先兜底\n\n  var validator;\n\n  try {\n    validator = new Validator(descriptor);\n  } catch (error) {\n    return Promise.resolve();\n  }\n\n  var messageFeed = locale === 'en' ? en : cn;\n  merge(messageFeed, validateMessages);\n  validator.messages(messageFeed);\n  return validator.validate(_defineProperty({}, path, data)).then(function (res) {\n    return [{\n      field: path,\n      message: null\n    }];\n  }).catch(function (_ref3) {\n    var errors = _ref3.errors,\n        fields = _ref3.fields;\n    return errors;\n  });\n};","var _excluded = [\"schema\"],\n    _excluded2 = [\"onChange\", \"value\", \"defaultValue\", \"schema\", \"readOnly\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\nimport { defaultGetValueFromEvent } from './utils';\nexport var createWidget = function createWidget(mapProps, extraSchema) {\n  return function (Component) {\n    return function (props) {\n      var schema = props.schema,\n          rest = _objectWithoutProperties(props, _excluded);\n\n      var _schema = _objectSpread(_objectSpread({}, schema), extraSchema);\n\n      var propsMap = typeof mapProps === 'function' ? mapProps(_objectSpread({\n        schema: _schema\n      }, rest)) : {};\n\n      var _props = _objectSpread(_objectSpread({\n        schema: _schema\n      }, rest), propsMap);\n\n      var finalProps = transformProps(_props);\n      return /*#__PURE__*/React.createElement(Component, finalProps);\n    };\n  };\n};\nexport var transformProps = function transformProps(props) {\n  var onChange = props.onChange,\n      value = props.value,\n      defaultValue = props.defaultValue,\n      ownSchema = props.schema,\n      readOnly = props.readOnly,\n      rest = _objectWithoutProperties(props, _excluded2);\n\n  var schema = _objectSpread({}, ownSchema);\n\n  var _ref = schema || {},\n      trigger = _ref.trigger,\n      valuePropName = _ref.valuePropName;\n\n  var controlProps = {};\n  var _valuePropName = 'value';\n\n  var _value = value === undefined ? defaultValue : value;\n\n  if (valuePropName && typeof valuePropName === 'string') {\n    _valuePropName = valuePropName;\n    controlProps[valuePropName] = _value;\n  } else {\n    controlProps.value = _value;\n  }\n\n  var _onChange = function _onChange() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var newValue = defaultGetValueFromEvent.apply(void 0, [_valuePropName].concat(args));\n    onChange(newValue);\n  };\n\n  if (trigger && typeof trigger === 'string') {\n    controlProps.onChange = _onChange;\n    controlProps[trigger] = _onChange;\n  } else {\n    controlProps.onChange = _onChange;\n  }\n\n  var usefulPropsFromSchema = {\n    disabled: schema.disabled || schema['ui:disabled'],\n    readOnly: schema.readOnly || schema['ui:readonly'] || readOnly,\n    hidden: schema.hidden || schema['ui:hidden']\n  };\n\n  var _props = _objectSpread(_objectSpread(_objectSpread({}, controlProps), {}, {\n    schema: schema\n  }, usefulPropsFromSchema), rest);\n\n  return _props;\n};","export var mapping = {\n  default: 'input',\n  string: 'input',\n  array: 'list',\n  boolean: 'checkbox',\n  integer: 'number',\n  number: 'number',\n  object: 'map',\n  html: 'html',\n  'string:upload': 'upload',\n  'string:url': 'url',\n  'string:dateTime': 'date',\n  'string:date': 'date',\n  'string:year': 'date',\n  'string:month': 'date',\n  'string:week': 'date',\n  'string:quarter': 'date',\n  'string:time': 'time',\n  'string:textarea': 'textarea',\n  'string:color': 'color',\n  'string:image': 'imageInput',\n  'range:time': 'timeRange',\n  'range:dateTime': 'dateRange',\n  'range:date': 'dateRange',\n  'range:year': 'dateRange',\n  'range:month': 'dateRange',\n  'range:week': 'dateRange',\n  'range:quarter': 'dateRange',\n  '*?enum': 'radio',\n  '*?enum_long': 'select',\n  'array?enum': 'checkboxes',\n  'array?enum_long': 'multiSelect',\n  '*?readOnly': 'html' // TODO: html widgets for list / object\n\n};\nexport function getWidgetName(schema) {\n  var _mapping = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : mapping;\n\n  var type = schema.type,\n      format = schema.format,\n      enums = schema.enum,\n      readOnly = schema.readOnly,\n      widget = schema.widget; // 如果已经注明了渲染widget，那最好\n  // if (schema['ui:widget']) {\n  //   return schema['ui:widget'];\n  // }\n\n  var list = [];\n\n  if (readOnly) {\n    list.push(\"\".concat(type, \"?readOnly\"));\n    list.push('*?readOnly');\n  }\n\n  if (enums) {\n    // 根据enum长度来智能选择控件\n    if (Array.isArray(enums) && (type === 'array' && enums.length > 6 || type !== 'array' && enums.length > 2)) {\n      list.push(\"\".concat(type, \"?enum_long\"));\n      list.push('*?enum_long');\n    } else {\n      list.push(\"\".concat(type, \"?enum\")); // array 默认使用list，array?enum 默认使用checkboxes，*?enum 默认使用select\n\n      list.push('*?enum');\n    }\n  }\n\n  var _widget = widget || format;\n\n  if (_widget) {\n    list.push(\"\".concat(type, \":\").concat(_widget));\n  }\n\n  list.push(type); // 放在最后兜底，其他都不match时使用type默认的组件\n\n  var found = '';\n  list.some(function (item) {\n    found = _mapping[item];\n    return !!found;\n  });\n  return found;\n}\nexport var extraSchemaList = {\n  checkbox: {\n    valuePropName: 'checked'\n  },\n  switch: {\n    valuePropName: 'checked'\n  }\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Suspense } from 'react';\nimport { transformProps } from '../../createWidget';\nimport { useStore, useTools } from '../../hooks';\nimport { extraSchemaList, getWidgetName } from '../../mapping';\nimport { isListType, isObject, isObjType } from '../../utils';\n\nvar ErrorSchema = function ErrorSchema(schema) {\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: 'red'\n    }\n  }, \"schema\\u672A\\u5339\\u914D\\u5230\\u5C55\\u793A\\u7EC4\\u4EF6\\uFF1A\"), /*#__PURE__*/React.createElement(\"div\", null, JSON.stringify(schema)));\n};\n\nvar ExtendedWidget = function ExtendedWidget(_ref) {\n  var schema = _ref.schema,\n      onChange = _ref.onChange,\n      value = _ref.value,\n      dependValues = _ref.dependValues,\n      children = _ref.children,\n      onItemChange = _ref.onItemChange,\n      formData = _ref.formData,\n      getValue = _ref.getValue,\n      readOnly = _ref.readOnly,\n      dataPath = _ref.dataPath,\n      disabled = _ref.disabled,\n      dataIndex = _ref.dataIndex,\n      watch = _ref.watch;\n\n  var _useTools = useTools(),\n      widgets = _useTools.widgets,\n      mapping = _useTools.mapping,\n      setValueByPath = _useTools.setValueByPath,\n      getSchemaByPath = _useTools.getSchemaByPath,\n      setSchemaByPath = _useTools.setSchemaByPath,\n      setSchema = _useTools.setSchema,\n      setValues = _useTools.setValues,\n      getValues = _useTools.getValues,\n      resetFields = _useTools.resetFields,\n      setErrorFields = _useTools.setErrorFields,\n      removeErrorField = _useTools.removeErrorField;\n\n  var _useStore = useStore(),\n      globalProps = _useStore.globalProps; // if (isObjType(schema)) {\n  //   return <Map value={value} onChange={onChange} children={children} />;\n  // }\n  // if (isListType(schema)) {\n  //   return 'haha';\n  // }\n  // return <Input value={value} onChange={e => onChange(e.target.value)} />;\n  // TODO: calc widget, better way?\n  // let widgetName = useMemo(() => getWidgetName(schema, mapping), [\n  //   JSON.stringify(schema),\n  // ]);\n\n\n  var widgetName = getWidgetName(schema, mapping);\n  var customName = schema.widget || schema['ui:widget'];\n\n  if (customName && widgets[customName]) {\n    widgetName = customName;\n  }\n\n  var readOnlyName = schema.readOnlyWidget || 'html';\n\n  if (readOnly && !isObjType(schema) && !isListType(schema)) {\n    widgetName = readOnlyName;\n  }\n\n  if (!widgetName) {\n    widgetName = 'input';\n    return /*#__PURE__*/React.createElement(ErrorSchema, {\n      schema: schema\n    });\n  }\n\n  var Widget = widgets[widgetName];\n  var extraSchema = extraSchemaList[widgetName];\n\n  var widgetProps = _objectSpread(_objectSpread({\n    schema: _objectSpread(_objectSpread({}, schema), extraSchema),\n    onChange: onChange,\n    value: value,\n    children: children,\n    disabled: disabled,\n    readOnly: readOnly\n  }, schema.props), globalProps);\n\n  if (schema.type === 'string' && typeof schema.max === 'number') {\n    widgetProps.maxLength = schema.max;\n  }\n\n  ['title', 'placeholder', 'disabled', 'format'].forEach(function (key) {\n    if (schema[key]) {\n      widgetProps[key] = schema[key];\n    }\n  });\n\n  if (schema.props) {\n    widgetProps = _objectSpread(_objectSpread({}, widgetProps), schema.props);\n  }\n\n  Object.keys(schema).forEach(function (key) {\n    if (typeof key === 'string' && key.toLowerCase().indexOf('props') > -1 && key.length > 5) {\n      widgetProps[key] = schema[key];\n    }\n  }); // 支持 addonAfter 为自定义组件的情况\n\n  if (isObject(widgetProps.addonAfter) && widgetProps.addonAfter.widget) {\n    var AddonAfterWidget = widgets[widgetProps.addonAfter.widget];\n    widgetProps.addonAfter = /*#__PURE__*/React.createElement(AddonAfterWidget, schema);\n  }\n\n  var hideSelf = function hideSelf() {\n    var hidden = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    setSchemaByPath(schema.$id, {\n      hidden: hidden\n    });\n  }; // 避免传组件不接受的props，按情况传多余的props\n\n\n  widgetProps.addons = {\n    dependValues: dependValues,\n    onItemChange: onItemChange,\n    getValue: getValue,\n    formData: formData,\n    dataPath: dataPath,\n    dataIndex: dataIndex,\n    setValueByPath: setValueByPath,\n    setValue: setValueByPath,\n    getSchemaByPath: getSchemaByPath,\n    setSchemaByPath: setSchemaByPath,\n    setSchema: setSchema,\n    setValues: setValues,\n    getValues: getValues,\n    resetFields: resetFields,\n    setErrorFields: setErrorFields,\n    removeErrorField: removeErrorField,\n    hideSelf: hideSelf,\n    watch: watch\n  };\n  var finalProps = transformProps(widgetProps);\n  return /*#__PURE__*/React.createElement(Suspense, {\n    fallback: /*#__PURE__*/React.createElement(\"div\", null)\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fr-item-wrapper\"\n  }, /*#__PURE__*/React.createElement(Widget, finalProps)));\n};\n\nvar areEqual = function areEqual(prev, current) {\n  if (prev.schema && current.schema) {\n    if (prev.schema.$id === '#') {\n      return false;\n    }\n\n    if (prev.schema.hidden && current.schema.hidden) {\n      return true;\n    }\n  }\n\n  if (prev.readOnly !== current.readOnly) {\n    return false;\n  }\n\n  if (prev.disabled !== current.disabled) {\n    return false;\n  }\n\n  if (JSON.stringify(prev.dependValues) !== JSON.stringify(current.dependValues)) {\n    return false;\n  }\n\n  if (isObjType(prev.schema) && isObjType(current.schema)) {\n    return false;\n  }\n\n  if (JSON.stringify(prev.value) === JSON.stringify(current.value) && JSON.stringify(prev.schema) === JSON.stringify(current.schema)) {\n    return true;\n  }\n\n  return false;\n};\n\nexport default /*#__PURE__*/React.memo(ExtendedWidget, areEqual);","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport React from 'react';\nimport { useTools } from '../../hooks';\nimport \"./Extra.css\";\n\nvar Extra = function Extra(_ref) {\n  var schema = _ref.schema;\n  var extra = schema.extra;\n\n  var _useTools = useTools(),\n      widgets = _useTools.widgets;\n\n  if (!extra) return null; // widget 这个api也可以不对外\n\n  var widgetName = extra.widget;\n  var Widget = widgets[widgetName];\n  if (Widget) return /*#__PURE__*/React.createElement(Widget, {\n    schema: schema\n  });\n  var __html = '';\n\n  if (typeof extra === 'string') {\n    __html = extra;\n  } // 内部BU使用的口子，这个api不对外，也没有必要\n\n\n  if (_typeof(extra) === 'object' && extra.text) {\n    __html = extra.text;\n  }\n\n  return __html && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fr-form-item-extra\",\n    dangerouslySetInnerHTML: {\n      __html: __html\n    }\n  });\n};\n\nexport default Extra;","import React from 'react';\nimport { useStore2 } from '../../hooks';\nimport { isCheckBoxType } from '../../utils';\n\nvar Description = function Description(_ref) {\n  var displayType = _ref.displayType,\n      schema = _ref.schema;\n  var description = schema.description,\n      descType = schema.descType;\n  if (!description) return null;\n\n  switch (displayType) {\n    case 'row':\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: \"fr-tooltip-toggle\",\n        \"aria-label\": description\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fr-tooltip-icon\"\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"fr-tooltip-container\"\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fr-tooltip-triangle\"\n      }), description));\n\n    case 'inline':\n      return null;\n\n    default:\n      if (descType === 'icon') {\n        return /*#__PURE__*/React.createElement(\"span\", {\n          className: \"fr-tooltip-toggle\",\n          \"aria-label\": description\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"fr-tooltip-icon\"\n        }), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"fr-tooltip-container\"\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"fr-tooltip-triangle\"\n        }), description));\n      }\n\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: \"fr-desc ml2\"\n      }, \"( \".concat(description, \" )\"));\n  }\n};\n\nvar Title = function Title(_ref2) {\n  var labelClass = _ref2.labelClass,\n      labelStyle = _ref2.labelStyle,\n      schema = _ref2.schema,\n      displayType = _ref2.displayType;\n\n  var _useStore = useStore2(),\n      globalDisplayType = _useStore.displayType,\n      readOnly = _useStore.readOnly;\n\n  var title = schema.title,\n      required = schema.required,\n      type = schema.type;\n  var isObjType = type === 'object';\n\n  var _displayType = schema.displayType || displayType || globalDisplayType || 'column';\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: labelClass,\n    style: labelStyle\n  }, title ? /*#__PURE__*/React.createElement(\"label\", {\n    className: \"fr-label-title \".concat(isCheckBoxType(schema, readOnly) || _displayType === 'column' ? 'no-colon' : '') // checkbox不带冒号\n    ,\n    title: title\n  }, required === true && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"fr-label-required\"\n  }, \" *\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\".concat(isObjType ? 'b' : '', \" \").concat(_displayType === 'column' ? 'flex-none' : '')\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    dangerouslySetInnerHTML: {\n      __html: title\n    }\n  })), /*#__PURE__*/React.createElement(Description, {\n    schema: schema,\n    displayType: _displayType\n  })) : null);\n};\n\nexport default Title;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useRef } from 'react';\nimport { useStore, useStore2, useTools } from '../../hooks';\nimport useDebouncedCallback from '../../useDebounce';\nimport { getValueByPath, isCheckBoxType, isObjType } from '../../utils';\nimport { validateField } from '../../validator';\nimport ErrorMessage from './ErrorMessage';\nimport ExtendedWidget from './ExtendedWidget';\nimport Extra from './Extra';\nimport FieldTitle from './Title'; // TODO: 之后不要直接用get，收口到一个内部方法getValue，便于全局 ctrl + f 查找\n\nvar RenderField = function RenderField(props) {\n  var $id = props.$id,\n      dataIndex = props.dataIndex,\n      dataPath = props.dataPath,\n      _value = props._value,\n      dependValues = props.dependValues,\n      _schema = props._schema,\n      labelClass = props.labelClass,\n      labelStyle = props.labelStyle,\n      _contentClass = props.contentClass,\n      children = props.children,\n      _props$errorFields = props.errorFields,\n      errorFields = _props$errorFields === void 0 ? [] : _props$errorFields,\n      hideTitle = props.hideTitle,\n      displayType = props.displayType;\n\n  var _useStore = useStore(),\n      formData = _useStore.formData,\n      flatten = _useStore.flatten;\n\n  var _useStore2 = useStore2(),\n      debounceInput = _useStore2.debounceInput,\n      readOnly = _useStore2.readOnly,\n      disabled = _useStore2.disabled,\n      showValidate = _useStore2.showValidate,\n      validateMessages = _useStore2.validateMessages,\n      locale = _useStore2.locale,\n      watch = _useStore2.watch;\n\n  var _useTools = useTools(),\n      onValuesChange = _useTools.onValuesChange,\n      onItemChange = _useTools.onItemChange,\n      setEditing = _useTools.setEditing,\n      touchKey = _useTools.touchKey,\n      _setErrors = _useTools._setErrors;\n\n  var formDataRef = useRef();\n  formDataRef.current = formData; // console.log('<renderField>', $id);\n\n  var errObj = errorFields.find(function (err) {\n    return err.name === dataPath;\n  });\n  var errorMessage = errObj && errObj.error; // 是一个list\n\n  var hasError = Array.isArray(errorMessage) && errorMessage.length > 0; // 补上这个class，会自动让下面所有的展示ui变红！\n\n  var contentClass = hasError && showValidate ? _contentClass + ' ant-form-item-has-error' : _contentClass;\n  var contentStyle = {};\n  var debouncedSetEditing = useDebouncedCallback(setEditing, 350);\n\n  var _readOnly = readOnly !== undefined ? readOnly : _schema.readOnly;\n\n  var _disabled = disabled !== undefined ? disabled : _schema.disabled;\n\n  var removeDupErrors = function removeDupErrors(arr) {\n    if (!Array.isArray(arr)) {\n      console.log('in removeDups: param is not an array');\n      return;\n    }\n\n    var array = [];\n\n    for (var i = 0; i < arr.length; i++) {\n      var sameNameIndex = array.findIndex(function (item) {\n        return item.name === arr[i].name;\n      });\n\n      if (sameNameIndex > -1) {\n        var sameNameItem = array[sameNameIndex];\n        var error1 = sameNameItem.error;\n        var error2 = arr[i].error;\n        array[sameNameIndex] = {\n          name: sameNameItem.name,\n          error: error1.length > 0 && error2.length > 0 ? error2 : []\n        };\n      } else {\n        array.push(arr[i]);\n      }\n    }\n\n    return array.filter(function (item) {\n      return Array.isArray(item.error) && item.error.length > 0;\n    });\n  }; // TODO: 优化一下，只有touch还是false的时候，setTouched\n\n\n  var onChange = function onChange(value) {\n    // 动过的key，算被touch了, 这里之后要考虑动的来源\n    touchKey(dataPath); // 开始编辑，节流\n\n    if (debounceInput) {\n      setEditing(true);\n      debouncedSetEditing(false);\n    }\n\n    if (typeof dataPath === 'string') {\n      onItemChange(dataPath, value);\n    } // 先不暴露给外部，这个api\n\n\n    if (typeof onValuesChange === 'function') {\n      onValuesChange(_defineProperty({}, dataPath, value), formDataRef.current);\n    }\n\n    validateField({\n      path: dataPath,\n      formData: formDataRef.current,\n      flatten: flatten,\n      options: {\n        locale: locale,\n        validateMessages: validateMessages\n      }\n    }).then(function (res) {\n      _setErrors(function (errors) {\n        return removeDupErrors([].concat(_toConsumableArray(errors), _toConsumableArray(res)));\n      });\n    });\n  };\n\n  var titleProps = {\n    labelClass: labelClass,\n    labelStyle: labelStyle,\n    schema: _schema,\n    displayType: displayType\n  };\n  var messageProps = {\n    message: errorMessage,\n    schema: _schema,\n    displayType: displayType,\n    softHidden: displayType === 'inline',\n    // 这个是如果没有校验信息时，展示与否\n    hardHidden: showValidate === false || _readOnly === true // 这个是强制的展示与否\n\n  };\n  var placeholderTitleProps = {\n    className: labelClass,\n    style: labelStyle\n  };\n\n  var _showTitle = !hideTitle && typeof _schema.title === 'string'; // TODO: 这块最好能判断上一层是list1，\n\n\n  if (hideTitle && _schema.title) {\n    _schema.placeholder = _schema.placeholder || _schema.title;\n  }\n\n  var _getValue = function _getValue(path) {\n    return getValueByPath(formData, path);\n  };\n\n  var widgetProps = {\n    $id: $id,\n    schema: _schema,\n    readOnly: _readOnly,\n    disabled: _disabled,\n    onChange: onChange,\n    getValue: _getValue,\n    formData: formData,\n    value: _value,\n    dependValues: dependValues,\n    onItemChange: onItemChange,\n    dataIndex: dataIndex,\n    dataPath: dataPath,\n    children: children,\n    watch: watch\n  }; // if (_schema && _schema.default !== undefined) {\n  //   widgetProps.value = _schema.default;\n  // }\n  // checkbox必须单独处理，布局太不同了\n\n  if (isCheckBoxType(_schema, _readOnly)) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, _showTitle && /*#__PURE__*/React.createElement(\"div\", placeholderTitleProps), /*#__PURE__*/React.createElement(\"div\", {\n      className: contentClass,\n      style: contentStyle\n    }, /*#__PURE__*/React.createElement(ExtendedWidget, widgetProps), /*#__PURE__*/React.createElement(Extra, widgetProps), /*#__PURE__*/React.createElement(ErrorMessage, messageProps)));\n  }\n\n  var titleElement = /*#__PURE__*/React.createElement(FieldTitle, titleProps);\n\n  if (isObjType(_schema)) {\n    titleElement = /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex'\n      }\n    }, titleElement, /*#__PURE__*/React.createElement(ErrorMessage, messageProps));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: contentClass,\n      style: contentStyle\n    }, /*#__PURE__*/React.createElement(ExtendedWidget, _extends({}, widgetProps, {\n      message: errorMessage,\n      title: _showTitle ? titleElement : undefined\n    })), /*#__PURE__*/React.createElement(Extra, widgetProps));\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, _showTitle && titleElement, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(contentClass, \" \").concat(hideTitle ? 'fr-content-no-title' : ''),\n    style: contentStyle\n  }, /*#__PURE__*/React.createElement(ExtendedWidget, widgetProps), /*#__PURE__*/React.createElement(Extra, widgetProps), /*#__PURE__*/React.createElement(ErrorMessage, messageProps)));\n};\n\nexport default RenderField;","var _excluded = [\"id\", \"_item\", \"dataIndex\", \"hideTitle\", \"hideValidation\", \"debugCss\"],\n    _excluded2 = [\"id\", \"item\", \"dataIndex\", \"dataPath\", \"hideTitle\", \"hideValidation\", \"debugCss\", \"schema\", \"_value\", \"dependValues\", \"displayType\", \"column\", \"labelWidth\", \"readOnly\", \"errorFields\", \"effectiveLabelWidth\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { useRef } from 'react';\nimport { useStore, useStore2 } from '../hooks';\nimport { clone, getDataPath, getParentPath, getParentProps, getValueByPath, isCheckBoxType, isCssLength, isListType, isLooselyNumber, isObjType, parseRootValueInSchema } from '../utils';\nimport RenderList from './RenderChildren/RenderList';\nimport RenderObject from './RenderChildren/RenderObject';\nimport RenderField from './RenderField';\n\nvar Core = function Core(_ref) {\n  var _ref$id = _ref.id,\n      id = _ref$id === void 0 ? '#' : _ref$id,\n      _item = _ref._item,\n      _ref$dataIndex = _ref.dataIndex,\n      dataIndex = _ref$dataIndex === void 0 ? [] : _ref$dataIndex,\n      _ref$hideTitle = _ref.hideTitle,\n      hideTitle = _ref$hideTitle === void 0 ? false : _ref$hideTitle,\n      _ref$hideValidation = _ref.hideValidation,\n      hideValidation = _ref$hideValidation === void 0 ? false : _ref$hideValidation,\n      debugCss = _ref.debugCss,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  // console.log('<Core>', id);\n  var snapShot = useRef();\n\n  var _useStore = useStore(),\n      flatten = _useStore.flatten,\n      errorFields = _useStore.errorFields,\n      isEditing = _useStore.isEditing,\n      formData = _useStore.formData,\n      allTouched = _useStore.allTouched;\n\n  var _useStore2 = useStore2(),\n      displayType = _useStore2.displayType,\n      column = _useStore2.column,\n      labelWidth = _useStore2.labelWidth,\n      readOnly = _useStore2.readOnly;\n\n  var item = _item ? _item : flatten[id];\n  if (!item) return null;\n  var dataPath = getDataPath(id, dataIndex);\n  var parentPath = getParentPath(dataPath);\n\n  var _value = getValueByPath(formData, dataPath);\n\n  var schema = clone(item.schema);\n  var dependencies = schema.dependencies;\n  var dependValues = [];\n  var rootValue;\n\n  try {\n    if (Array.isArray(dependencies)) {\n      dependencies.forEach(function (item) {\n        var itemPath = getDataPath(item, dataIndex);\n        var result = getValueByPath(formData, itemPath);\n        dependValues.push(result);\n      });\n    }\n  } catch (error) {\n    console.error(\"dependencies \\u8BA1\\u7B97\\u62A5\\u9519\\uFF0C\".concat(dependencies));\n  }\n\n  try {\n    rootValue = getValueByPath(formData, parentPath);\n  } catch (error) {} // 节流部分逻辑，编辑时不执行\n\n\n  if (isEditing && snapShot.current) {\n    schema = snapShot.current;\n  } else {\n    if (JSON.stringify(schema).indexOf('rootValue') > -1) {\n      schema = parseRootValueInSchema(schema, rootValue);\n    }\n\n    snapShot.current = schema;\n  } // 真正有效的label宽度需要从现在所在item开始一直往上回溯（设计成了继承关系），找到的第一个有值的 ui:labelWidth\n\n\n  var effectiveLabelWidth = getParentProps('labelWidth', id, flatten) || labelWidth;\n\n  var dataProps = _objectSpread({\n    id: id,\n    item: item,\n    // 如果直接传了item，就不用id去取item, 暂时是内部属性，不外用\n    dataIndex: dataIndex,\n    // 数据来源是数组的第几个index，上层每有一个list，就push一个index\n    dataPath: dataPath,\n    _value: _value,\n    dependValues: dependValues,\n    hideTitle: hideTitle,\n    hideValidation: hideValidation,\n    debugCss: debugCss,\n    schema: schema,\n    displayType: displayType,\n    column: column,\n    labelWidth: labelWidth,\n    readOnly: readOnly,\n    errorFields: errorFields,\n    effectiveLabelWidth: effectiveLabelWidth,\n    allTouched: allTouched\n  }, rest);\n\n  return /*#__PURE__*/React.createElement(CoreRender, dataProps);\n};\n\nvar CoreRender = function CoreRender(_ref2) {\n  var id = _ref2.id,\n      item = _ref2.item,\n      dataIndex = _ref2.dataIndex,\n      dataPath = _ref2.dataPath,\n      hideTitle = _ref2.hideTitle,\n      hideValidation = _ref2.hideValidation,\n      debugCss = _ref2.debugCss,\n      schema = _ref2.schema,\n      _value = _ref2._value,\n      dependValues = _ref2.dependValues,\n      displayType = _ref2.displayType,\n      column = _ref2.column,\n      labelWidth = _ref2.labelWidth,\n      readOnly = _ref2.readOnly,\n      errorFields = _ref2.errorFields,\n      effectiveLabelWidth = _ref2.effectiveLabelWidth,\n      rest = _objectWithoutProperties(_ref2, _excluded2);\n\n  if (schema.hidden) {\n    return null;\n  } // 样式的逻辑全放在这层\n  // displayType 一层层网上找值\n\n\n  var _displayType = schema.displayType || rest.displayType || displayType || 'column';\n\n  var isList = isListType(schema);\n  var isObj = isObjType(schema);\n  var isComplex = isObj || isList;\n  var isCheckBox = isCheckBoxType(schema, readOnly);\n  var width = schema.width || schema['ui:width'];\n  var containerClass = \"fr-field \".concat(_displayType === 'inline' ? '' : 'w-100', \" flex\");\n  var labelClass = \"fr-label\";\n  var contentClass = \"fr-content\";\n\n  if (typeof schema.className === 'string') {\n    containerClass += ' ' + schema.className;\n  } // common classNames dispite row or column\n\n\n  switch (schema.type) {\n    case 'object':\n      if (isObj) {\n        if (schema.title) {\n          labelClass += ' fr-label-object';\n        }\n\n        containerClass += ' fr-field-object';\n      }\n\n      break;\n\n    case 'array':\n      // list 有两种展示形式！\n      if (isList) {\n        if (schema.title) {\n          labelClass += ' fr-label-list';\n        }\n\n        containerClass += ' fr-field-column';\n      }\n\n      break;\n\n    case 'boolean':\n      if (isCheckBox) {\n        contentClass += ' fr-content-column'; // checkbox高度短，需要居中对齐\n\n        containerClass += \" flex \".concat(_displayType === 'column' ? 'flex-column' : '');\n      }\n\n      break;\n\n    default:\n  } // column specific className\n\n\n  if (!isComplex && !isCheckBox) {\n    if (_displayType === 'column') {\n      containerClass += ' flex-column';\n      labelClass += ' fr-label-column';\n      contentClass += ' fr-content-column';\n\n      switch (schema.type) {\n        case 'object':\n          break;\n\n        case 'array':\n          if (schema.title && !schema.enum) {// labelClass += ' b mb2';\n          }\n\n          break;\n\n        case 'boolean':\n          break;\n\n        default:\n      }\n    } else if (_displayType === 'row') {\n      // row specific className\n      containerClass += '';\n      labelClass += ' fr-label-row';\n      contentClass += ' fr-content-row';\n\n      if (!isObj && !isCheckBox) {\n        labelClass += ' flex-shrink-0 fr-label-row';\n        contentClass += ' flex-grow-1 relative';\n      }\n    }\n  } // style part\n\n\n  var columnStyle = {};\n\n  if (schema.hidden) {\n    columnStyle.display = 'none';\n  } // if (!isComplex) {\n  // }\n\n\n  if (!isObj) {\n    if (width) {\n      columnStyle.width = width;\n      columnStyle.paddingRight = 8;\n    } else if (column > 1) {\n      columnStyle.width = \"calc(100% /\".concat(column, \")\");\n      columnStyle.paddingRight = 8;\n    }\n  }\n\n  var _labelWidth = isLooselyNumber(effectiveLabelWidth) ? Number(effectiveLabelWidth) : isCssLength(effectiveLabelWidth) ? effectiveLabelWidth : 110; // 默认是 110px 的长度\n\n\n  var labelStyle = {\n    width: _labelWidth\n  };\n\n  if (isComplex || _displayType === 'column') {\n    labelStyle = {\n      flexGrow: 1\n    };\n  }\n\n  if (_displayType === 'inline') {\n    labelStyle = {\n      marginTop: 5,\n      paddingLeft: 12\n    };\n    labelClass = '';\n    contentClass += ' fr-content-inline';\n\n    if (containerClass.indexOf('fr-field-object') === -1) {\n      containerClass += ' fr-field-inline';\n    }\n  }\n\n  var hasChildren = item.children && item.children.length > 0;\n  var fieldProps = {\n    $id: id,\n    dataIndex: dataIndex,\n    dataPath: dataPath,\n    _value: _value,\n    dependValues: dependValues,\n    _schema: schema,\n    labelClass: labelClass,\n    labelStyle: labelStyle,\n    contentClass: contentClass,\n    errorFields: errorFields,\n    // 层级间可使用的字段\n    displayType: _displayType,\n    hideTitle: hideTitle,\n    hideValidation: hideValidation\n  };\n  var objChildren = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-wrap\"\n  }, /*#__PURE__*/React.createElement(RenderObject, {\n    dataIndex: dataIndex,\n    errorFields: errorFields,\n    displayType: _displayType,\n    hideTitle: hideTitle\n  }, item.children));\n  var listChildren = /*#__PURE__*/React.createElement(RenderList, {\n    parentId: id,\n    schema: schema,\n    dataIndex: dataIndex,\n    errorFields: errorFields,\n    displayType: _displayType,\n    hideTitle: hideTitle\n  }, item.children); // 计算 children\n\n  var _children = null;\n\n  if (hasChildren) {\n    if (isObj) {\n      _children = objChildren;\n    } else if (isList) {\n      _children = listChildren;\n    }\n  } else if (isCheckBox) {\n    _children = schema.title;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: columnStyle,\n    className: \"\".concat(containerClass, \" \").concat(debugCss ? 'debug' : '')\n  }, /*#__PURE__*/React.createElement(RenderField, fieldProps, _children));\n}; // haven't used\n\n\nvar areEqual = function areEqual(prev, current) {\n  if (prev.allTouched !== current.allTouched) {\n    return false;\n  }\n\n  if (prev.displayType !== current.displayType) {\n    return false;\n  }\n\n  if (prev.column !== current.column) {\n    return false;\n  }\n\n  if (prev.labelWidth !== current.labelWidth) {\n    return false;\n  }\n\n  if (prev.readOnly !== current.readOnly) {\n    return false;\n  }\n\n  if (prev.disabled !== current.disabled) {\n    return false;\n  }\n\n  if (prev.schema && current.schema) {\n    if (prev.schema.$id === '#') {\n      return false;\n    }\n  }\n\n  if (isObjType(prev.schema) && isObjType(current.schema)) {\n    return false;\n  }\n\n  if (JSON.stringify(prev.dependValues) !== JSON.stringify(current.dependValues)) {\n    return false;\n  }\n\n  if (JSON.stringify(prev._value) === JSON.stringify(current._value) && JSON.stringify(prev.schema) === JSON.stringify(current.schema) && JSON.stringify(prev.errorFields) === JSON.stringify(current.errorFields)) {\n    return true;\n  }\n\n  return false;\n};\n\nexport default Core;","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect } from 'react';\nimport { getValueByPath } from './utils';\n\nvar Watcher = function Watcher(_ref) {\n  var watchKey = _ref.watchKey,\n      watch = _ref.watch,\n      formData = _ref.formData,\n      firstMount = _ref.firstMount;\n  var value = getValueByPath(formData, watchKey);\n  var watchObj = watch[watchKey];\n  useEffect(function () {\n    var runWatcher = function runWatcher() {\n      if (typeof watchObj === 'function') {\n        try {\n          watchObj(value);\n        } catch (error) {\n          console.log(\"\".concat(watchKey, \"\\u5BF9\\u5E94\\u7684watch\\u51FD\\u6570\\u6267\\u884C\\u62A5\\u9519\\uFF1A\"), error);\n        }\n      } else if (watchObj && typeof watchObj.handler === 'function') {\n        try {\n          watchObj.handler(value);\n        } catch (error) {\n          console.log(\"\".concat(watchKey, \"\\u5BF9\\u5E94\\u7684watch\\u51FD\\u6570\\u6267\\u884C\\u62A5\\u9519\\uFF1A\"), error);\n        }\n      }\n    };\n\n    if (firstMount) {\n      var immediate = watchObj && watchObj.immediate;\n\n      if (immediate) {\n        runWatcher();\n      }\n    } else {\n      runWatcher();\n    }\n  }, [JSON.stringify(value), firstMount]);\n  return null;\n};\n\nexport default Watcher;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { get, set, unset } from 'lodash-es';\nimport { cleanEmpty, clone, isObject, removeEmptyItemFromList, removeHiddenFromResult } from './utils'; // 提交前需要先处理formData的逻辑\n\nexport var processData = function processData(data, flatten, removeHiddenData) {\n  // 1. 去掉 hidden = true 的元素\n  var _data = clone(data);\n\n  if (removeHiddenData) {\n    _data = removeHiddenFromResult(data, flatten);\n  } // 2. bind 的处理\n\n\n  _data = transformDataWithBind(_data, flatten); // 3. 去掉list里面所有的空值\n\n  _data = removeEmptyItemFromList(_data); // 4. 去掉所有的 undefined\n\n  _data = cleanEmpty(_data);\n  return _data;\n};\nexport var transformDataWithBind = function transformDataWithBind(data, flatten) {\n  var _data = data;\n  var unbindKeys = [];\n  var bindKeys = [];\n  var bindArrKeys = [];\n\n  var isMultiBind = function isMultiBind(bind) {\n    return Array.isArray(bind) && bind.every(function (item) {\n      return typeof item === 'string';\n    });\n  };\n\n  Object.keys(flatten).forEach(function (key) {\n    var bind = flatten[key] && flatten[key].schema && flatten[key].schema.bind;\n\n    var _key = key.replace('[]', '');\n\n    if (bind === false) {\n      unbindKeys.push(_key);\n    } else if (typeof bind === 'string') {\n      bindKeys.push({\n        key: _key,\n        bind: bind\n      });\n    } else if (isMultiBind(bind)) {\n      bindArrKeys.push({\n        key: _key,\n        bind: bind\n      });\n    }\n  });\n\n  var handleBindData = function handleBindData(formData) {\n    unbindKeys.forEach(function (key) {\n      unset(formData, key); // TODO: maybe removing upper structure\n    });\n    bindKeys.forEach(function (item) {\n      var key = item.key,\n          bind = item.bind;\n      var temp = get(formData, key);\n      var oldVal = get(formData, bind);\n\n      if (isObject(oldVal)) {\n        temp = _objectSpread(_objectSpread({}, oldVal), temp);\n      }\n\n      set(formData, bind, temp);\n      unset(formData, key);\n    });\n    bindArrKeys.forEach(function (item) {\n      var key = item.key,\n          bind = item.bind;\n      var temp = get(formData, key);\n      unset(formData, key);\n\n      if (Array.isArray(temp)) {\n        temp.forEach(function (t, i) {\n          if (bind[i]) {\n            set(formData, bind[i], t);\n          }\n        });\n      }\n    });\n  };\n\n  handleBindData(_data);\n  return _data;\n};\nexport var transformDataWithBind2 = function transformDataWithBind2(data, flatten) {\n  var _data = clone(data);\n\n  var bindKeys = [];\n  var bindArrKeys = [];\n\n  var isMultiBind = function isMultiBind(bind) {\n    return Array.isArray(bind) && bind.every(function (item) {\n      return typeof item === 'string';\n    });\n  };\n\n  Object.keys(flatten).forEach(function (key) {\n    var bind = flatten[key] && flatten[key].schema && flatten[key].schema.bind;\n\n    var _key = key.replace('[]', '');\n\n    if (typeof bind === 'string') {\n      bindKeys.push({\n        key: _key,\n        bind: bind\n      });\n    } else if (isMultiBind(bind)) {\n      bindArrKeys.push({\n        key: _key,\n        bind: bind\n      });\n    }\n  });\n\n  var handleBindData2 = function handleBindData2(newData) {\n    bindKeys.forEach(function (item) {\n      var key = item.key,\n          bind = item.bind;\n      var temp = get(newData, bind); // 如果已经有值了，要和原来的值合并，而不是覆盖\n\n      var oldVal = get(newData, key);\n\n      if (isObject(oldVal)) {\n        temp = _objectSpread(_objectSpread({}, oldVal), temp);\n      }\n\n      set(newData, key, temp);\n      unset(newData, bind);\n    });\n    bindArrKeys.forEach(function (item) {\n      var key = item.key,\n          bind = item.bind;\n      var temp = [];\n      bind.forEach(function (b) {\n        var bindValue = get(newData, b);\n\n        if (bindValue !== undefined) {\n          temp.push(bindValue);\n        }\n\n        unset(newData, b);\n      });\n\n      if (temp.length > 0) {\n        set(newData, key, temp);\n      }\n    });\n  };\n\n  handleBindData2(_data);\n  return _data;\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n/* eslint-disable react-hooks/exhaustive-deps */\nimport { set, sortedUniqBy } from 'lodash-es';\nimport { useEffect, useMemo, useRef, useState } from 'react';\nimport { useSet } from './hooks';\nimport { processData, transformDataWithBind2 } from './processData';\nimport { clone, flattenSchema, generateDataSkeleton, parseAllExpression, schemaContainsExpression } from './utils';\nimport { validateAll } from './validator';\n\nvar useForm = function useForm(props) {\n  var _ref = props || {},\n      _formData = _ref.formData,\n      _onChange = _ref.onChange,\n      _onValidate = _ref.onValidate,\n      _showValidate = _ref.showValidate,\n      _logOnMount = _ref.logOnMount,\n      _logOnSubmit = _ref.logOnSubmit;\n\n  var logOnMount = _logOnMount || window.FR_LOGGER && window.FR_LOGGER.logOnMount;\n  var logOnSubmit = _logOnSubmit || window.FR_LOGGER && window.FR_LOGGER.logOnSubmit;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      renderCount = _useState2[0],\n      forceRender = _useState2[1];\n\n  var _useSet = useSet({\n    formData: {},\n    submitData: {},\n    errorFields: [],\n    outErrorFields: [],\n    isValidating: false,\n    // 是否在提交状态\n    outsideValidating: false,\n    // 是否开始外部校验，没有外部校验回传的场景，一直是false\n    isSubmitting: false,\n    isEditing: false,\n    // 是否在编辑状态。主要用于优化体验，用户编辑时减少不必要的运算\n    allTouched: false,\n    // 是否所有表单元素都被碰过了（一键开关，用于提交的时候，默认所有都被touch了）\n    touchedKeys: [],\n    // 碰过的key（用于submit之前，判断哪些被碰过了）\n    flatten: {},\n    // schema 的转换结构，便于处理\n    finalFlatten: {},\n    // 表达式等被处理过的flatten，用于渲染\n    firstMount: true\n  }),\n      _useSet2 = _slicedToArray(_useSet, 2),\n      state = _useSet2[0],\n      setState = _useSet2[1];\n\n  var schemaRef = useRef();\n  var beforeFinishRef = useRef();\n  var localeRef = useRef('cn');\n  var removeHiddenDataRef = useRef();\n  var validateMessagesRef = useRef();\n\n  var _data = useRef({}); // 用ref是为了破除闭包的影响\n\n\n  var _flatten = useRef({}); // 用ref是为了破除闭包的影响\n\n\n  var _finalFlatten = useRef({}); // 用ref是为了破除闭包的影响\n\n\n  var _touchedKeys = useRef([]); // 用ref是为了破除闭包的影响\n\n\n  var _errorFields = useRef();\n\n  var _outErrorFields = useRef();\n\n  var _allErrors = useRef([]); // 内部和外部的错误的合并\n\n\n  var innerData = state.formData,\n      submitData = state.submitData,\n      _state$errorFields = state.errorFields,\n      errorFields = _state$errorFields === void 0 ? [] : _state$errorFields,\n      _state$outErrorFields = state.outErrorFields,\n      outErrorFields = _state$outErrorFields === void 0 ? [] : _state$outErrorFields,\n      isValidating = state.isValidating,\n      outsideValidating = state.outsideValidating,\n      isSubmitting = state.isSubmitting,\n      isEditing = state.isEditing,\n      allTouched = state.allTouched,\n      touchedKeys = state.touchedKeys,\n      flatten = state.flatten,\n      finalFlatten = state.finalFlatten,\n      firstMount = state.firstMount;\n  _errorFields.current = errorFields;\n  _outErrorFields.current = outErrorFields;\n  _touchedKeys.current = touchedKeys;\n  _flatten.current = flatten;\n  _finalFlatten.current = finalFlatten;\n  var dataFromOutside = props && props.hasOwnProperty('formData');\n  var formData = dataFromOutside ? _formData : innerData; // 生成一个基础结构，确保对象内的必填元素也被校验\n\n  _data.current = useMemo(function () {\n    if (schemaRef.current) {\n      return generateDataSkeleton(schemaRef.current, formData);\n    }\n\n    return {};\n  }, [JSON.stringify(formData), JSON.stringify(schemaRef.current)]);\n  _allErrors.current = useMemo(function () {\n    if (Array.isArray(_errorFields.current) && Array.isArray(_outErrorFields.current) && _outErrorFields.current.length > 0) {\n      var mergeErrors = [].concat(_toConsumableArray(_errorFields.current), _toConsumableArray(_outErrorFields.current));\n      return sortedUniqBy(mergeErrors, function (item) {\n        return item.name;\n      });\n    } else {\n      return _errorFields.current;\n    }\n  }, [JSON.stringify(_errorFields.current), JSON.stringify(_outErrorFields.current)]);\n  useEffect(function () {\n    if (schemaRef.current && firstMount) {\n      var _flatten2 = flattenSchema(schemaRef.current);\n\n      setState({\n        flatten: _flatten2,\n        firstMount: false\n      });\n    }\n  }, [JSON.stringify(schemaRef.current), firstMount]); // 统一的处理expression\n\n  useEffect(function () {\n    if (firstMount) {\n      return;\n    }\n\n    var newFlatten = clone(_flatten.current);\n    Object.entries(_flatten.current).forEach(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          path = _ref3[0],\n          info = _ref3[1];\n\n      if (schemaContainsExpression(info.schema)) {\n        var arrayLikeIndex = path.indexOf(']');\n        var isArrayItem = arrayLikeIndex > -1 && arrayLikeIndex < path.length - 1;\n        var hasRootValue = JSON.stringify(info.schema).indexOf('rootValue') > -1;\n\n        if (isArrayItem && hasRootValue) {// do nothing\n        } else {\n          newFlatten[path].schema = parseAllExpression(info.schema, _data.current, path);\n        }\n      }\n    });\n    setState({\n      finalFlatten: newFlatten\n    });\n  }, [JSON.stringify(_flatten.current), JSON.stringify(_data.current), firstMount]); // All form methods are down here ----------------------------------------------------------------\n  // 两个兼容 0.x 的函数\n\n  var _setData = function _setData(data) {\n    if (typeof _onChange === 'function') {\n      _onChange(data);\n    } else {\n      setState({\n        formData: data\n      });\n    }\n  }; // Allow function to get the old value\n\n\n  var _setErrors = function _setErrors(errors) {\n    if (typeof _onValidate === 'function') {\n      var oldFormatErrors = errors ? errors.map(function (item) {\n        return item.name;\n      }) : [];\n\n      _onValidate(oldFormatErrors);\n    }\n\n    if (typeof errors === 'function') {\n      setState(function (_ref4) {\n        var errorFields = _ref4.errorFields;\n        return {\n          errorFields: errors(errorFields)\n        };\n      });\n    } else {\n      setState({\n        errorFields: errors\n      });\n    }\n  };\n\n  var setFirstMount = function setFirstMount(value) {\n    setState({\n      firstMount: value\n    });\n  };\n\n  var touchKey = function touchKey(key) {\n    if (_touchedKeys.current.indexOf(key) > -1) {\n      return;\n    }\n\n    var newKeyList = [].concat(_toConsumableArray(_touchedKeys.current), [key]);\n    setState({\n      touchedKeys: newKeyList\n    });\n  };\n\n  var removeTouched = function removeTouched(key) {\n    var newTouch = _touchedKeys.current.filter(function (item) {\n      return item.indexOf(key) === -1;\n    });\n\n    setState({\n      touchedKeys: newTouch\n    });\n  };\n\n  var changeTouchedKeys = function changeTouchedKeys(newTouchedKeys) {\n    setState({\n      touchedKeys: newTouchedKeys\n    });\n  };\n\n  var setEditing = function setEditing(isEditing) {\n    setState({\n      isEditing: isEditing\n    });\n  };\n\n  var onItemChange = function onItemChange(path, value) {\n    if (typeof path !== 'string') return;\n\n    if (path === '#') {\n      _setData(_objectSpread({}, value));\n\n      return;\n    }\n\n    set(_data.current, path, value);\n\n    _setData(_objectSpread({}, _data.current));\n  }; // errorFields: [\n  //   { name: 'a.b.c', errors: ['Please input your Password!', 'something else is wrong'] },\n  // ]\n\n\n  var syncStuff = function syncStuff(_ref5) {\n    var schema = _ref5.schema,\n        locale = _ref5.locale,\n        validateMessages = _ref5.validateMessages,\n        beforeFinish = _ref5.beforeFinish,\n        removeHiddenData = _ref5.removeHiddenData;\n    schemaRef.current = schema;\n    localeRef.current = locale;\n    validateMessagesRef.current = validateMessages;\n    beforeFinishRef.current = beforeFinish;\n    removeHiddenDataRef.current = removeHiddenData;\n    forceRender(renderCount + 1);\n  };\n\n  var setSchema = function setSchema(settings) {\n    var newFlatten = clone(_flatten.current);\n\n    try {\n      Object.keys(settings).forEach(function (path) {\n        if (!_flatten.current[path]) {\n          console.error(\"path\\uFF1A'\".concat(path, \"' \\u4E0D\\u5B58\\u5728(form.setSchemaByPath)\"));\n        } else {\n          var newSchema = settings[path];\n\n          var _newSchema = typeof newSchema === 'function' ? newSchema(newFlatten[path].schema) : newSchema;\n\n          newFlatten[path].schema = _objectSpread(_objectSpread({}, newFlatten[path].schema), _newSchema);\n        }\n      });\n      setState({\n        flatten: newFlatten\n      });\n      _flatten.current = newFlatten;\n    } catch (error) {\n      console.error(error, 'setSchema');\n    }\n  };\n\n  var setSchemaByPath = function setSchemaByPath(path, newSchema) {\n    if (!_flatten.current[path]) {\n      console.error(\"path\\uFF1A'\".concat(path, \"' \\u4E0D\\u5B58\\u5728(form.setSchemaByPath)\"));\n      return;\n    }\n\n    var newFlatten = clone(_flatten.current);\n\n    try {\n      var _newSchema = typeof newSchema === 'function' ? newSchema(newFlatten[path].schema) : newSchema;\n\n      newFlatten[path].schema = _objectSpread(_objectSpread({}, newFlatten[path].schema), _newSchema);\n      setState({\n        flatten: newFlatten\n      });\n      _flatten.current = newFlatten;\n    } catch (error) {\n      console.error(error, 'setSchemaByPath');\n    }\n  };\n\n  var getSchemaByPath = function getSchemaByPath(path) {\n    try {\n      return _flatten.current[path].schema;\n    } catch (error) {\n      console.log(error, 'getSchemaByPath');\n      return {};\n    }\n  }; // TODO: better implementation needed\n\n\n  var setErrorFields = function setErrorFields(error) {\n    var newErrorFields = [];\n\n    if (Array.isArray(error)) {\n      newErrorFields = [].concat(_toConsumableArray(error), _toConsumableArray(_outErrorFields.current));\n    } else if (error && error.name) {\n      newErrorFields = [error].concat(_toConsumableArray(_outErrorFields.current));\n    } else {\n      console.log('error format is wrong');\n    }\n\n    newErrorFields = sortedUniqBy(newErrorFields, function (item) {\n      return item.name;\n    });\n    setState({\n      outErrorFields: newErrorFields\n    });\n  };\n\n  var removeErrorField = function removeErrorField(path) {\n    var newError = _errorFields.current.filter(function (item) {\n      return item.name.indexOf(path) === -1;\n    });\n\n    var newOutError = _outErrorFields.current.filter(function (item) {\n      return item.name.indexOf(path) === -1;\n    });\n\n    setState({\n      errorFields: newError,\n      outErrorFields: newOutError\n    });\n  };\n\n  var getValues = function getValues() {\n    return processData(_data.current, _finalFlatten.current, removeHiddenDataRef.current);\n  };\n\n  var setValues = function setValues(newFormData) {\n    var newData = transformDataWithBind2(newFormData, _flatten.current);\n\n    _setData(newData);\n  };\n\n  var submit = function submit() {\n    setState({\n      isValidating: true,\n      allTouched: true,\n      isSubmitting: false\n    }); //  https://formik.org/docs/guides/form-submission\n\n    return validateAll({\n      formData: _data.current,\n      flatten: _finalFlatten.current,\n      options: {\n        locale: localeRef.current,\n        validateMessages: validateMessagesRef.current\n      }\n    }).then(function (errors) {\n      setState({\n        errorFields: errors\n      });\n\n      var _errors = sortedUniqBy([].concat(_toConsumableArray(errors || []), _toConsumableArray(_outErrorFields.current)), function (item) {\n        return item.name;\n      });\n\n      if (typeof beforeFinishRef.current === 'function') {\n        return Promise.resolve(processData(_data.current, _finalFlatten.current, removeHiddenDataRef.current)).then(function (res) {\n          setState({\n            isValidating: true,\n            isSubmitting: false,\n            outsideValidating: true,\n            submitData: res\n          });\n          return {\n            data: res,\n            errors: _errors\n          };\n        });\n      }\n\n      return Promise.resolve(processData(_data.current, _finalFlatten.current, removeHiddenDataRef.current)).then(function (res) {\n        setState({\n          isValidating: false,\n          isSubmitting: true,\n          submitData: res\n        });\n        return {\n          data: res,\n          errors: _errors\n        };\n      });\n    }).catch(function (err) {\n      // 不应该走到这边的\n      console.log('submit error:', err);\n      return err;\n    });\n  };\n\n  var resetFields = function resetFields(options) {\n    setState({\n      formData: (options === null || options === void 0 ? void 0 : options.formData) || {},\n      submitData: (options === null || options === void 0 ? void 0 : options.submitData) || {},\n      errorFields: (options === null || options === void 0 ? void 0 : options.errorFields) || [],\n      touchedKeys: (options === null || options === void 0 ? void 0 : options.touchedKeys) || [],\n      allTouched: (options === null || options === void 0 ? void 0 : options.allTouched) || false\n    });\n  };\n\n  var endValidating = function endValidating() {\n    return setState({\n      isValidating: false,\n      outsideValidating: false,\n      isSubmitting: true\n    });\n  };\n\n  var endSubmitting = function endSubmitting() {\n    return setState({\n      isSubmitting: false,\n      isValidating: false,\n      outsideValidating: false\n    });\n  };\n\n  var form = {\n    // state\n    formData: _data.current,\n    schema: schemaRef.current,\n    flatten: finalFlatten,\n    touchedKeys: _touchedKeys.current,\n    allTouched: allTouched,\n    // methods\n    touchKey: touchKey,\n    removeTouched: removeTouched,\n    changeTouchedKeys: changeTouchedKeys,\n    onItemChange: onItemChange,\n    setValueByPath: onItemChange,\n    // 单个\n    getSchemaByPath: getSchemaByPath,\n    setSchemaByPath: setSchemaByPath,\n    setSchema: setSchema,\n    setValues: setValues,\n    getValues: getValues,\n    resetFields: resetFields,\n    submit: submit,\n    init: submit,\n    // 简版的迁移方案里用，正常用不到，换个名字迁移的时候大家更好接受点\n    submitData: submitData,\n    errorFields: _allErrors.current,\n    isValidating: isValidating,\n    outsideValidating: outsideValidating,\n    isSubmitting: isSubmitting,\n    endValidating: endValidating,\n    endSubmitting: endSubmitting,\n    setErrorFields: setErrorFields,\n    removeErrorField: removeErrorField,\n    isEditing: isEditing,\n    setEditing: setEditing,\n    syncStuff: syncStuff,\n    showValidate: _showValidate,\n    // firstMount,\n    setFirstMount: setFirstMount,\n    // logs\n    logOnMount: logOnMount,\n    logOnSubmit: logOnSubmit,\n    // inner api, DON'T USE\n    _setErrors: _setErrors\n  };\n  return form;\n};\n\nexport default useForm;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { forwardRef } from 'react';\nimport useForm from './useForm';\n\nvar connectForm = function connectForm(Component) {\n  return /*#__PURE__*/forwardRef(function (props, ref) {\n    var form = useForm();\n    return /*#__PURE__*/React.createElement(Component, _extends({\n      ref: ref\n    }, props, {\n      form: form\n    }));\n  });\n};\n\nexport default connectForm;","var _excluded = [\"id\", \"widgets\", \"mapping\", \"form\", \"className\", \"style\", \"beforeFinish\", \"onFinish\", \"displayType\", \"schema\", \"debug\", \"debugCss\", \"locale\", \"debounceInput\", \"size\", \"configProvider\", \"theme\", \"validateMessages\", \"watch\", \"config\", \"onMount\", \"labelWidth\", \"readOnly\", \"disabled\", \"allCollapsed\", \"onValuesChange\", \"column\", \"removeHiddenData\", \"globalProps\"],\n    _excluded2 = [\"onItemChange\", \"setEditing\", \"touchKey\", \"setValueByPath\", \"getSchemaByPath\", \"setSchemaByPath\", \"setSchema\", \"setValues\", \"getValues\", \"resetFields\", \"submit\", \"endValidating\", \"endSubmitting\", \"setErrorFields\", \"removeErrorField\", \"removeTouched\", \"changeTouchedKeys\", \"syncStuff\", \"logOnMount\", \"logOnSubmit\", \"setFirstMount\", \"_setErrors\"],\n    _excluded3 = [\"isOldVersion\", \"schema\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, useMemo, useRef } from 'react';\nimport \"./atom.css\";\nimport Core from './core';\nimport { Ctx, Store2Ctx, StoreCtx } from './hooks';\nimport \"./index.css\";\nimport { mapping as defaultMapping } from './mapping';\nimport { getParamByName, msToTime, updateSchemaToNewVersion, yymmdd } from './utils';\nimport Watcher from './Watcher';\n\nvar defaultFinish = function defaultFinish(data, errors) {\n  console.log('onFinish:', {\n    data: data,\n    errors: errors\n  });\n};\n\nexport { default as connectForm } from './connectForm';\nexport { createWidget } from './createWidget';\nexport { default as useForm } from './useForm';\nexport { defaultMapping as mapping };\n\nfunction App(_ref) {\n  var id = _ref.id,\n      widgets = _ref.widgets,\n      mapping = _ref.mapping,\n      form = _ref.form,\n      className = _ref.className,\n      style = _ref.style,\n      beforeFinish = _ref.beforeFinish,\n      _ref$onFinish = _ref.onFinish,\n      onFinish = _ref$onFinish === void 0 ? defaultFinish : _ref$onFinish,\n      _ref$displayType = _ref.displayType,\n      displayType = _ref$displayType === void 0 ? 'column' : _ref$displayType,\n      schema = _ref.schema,\n      debug = _ref.debug,\n      debugCss = _ref.debugCss,\n      _ref$locale = _ref.locale,\n      locale = _ref$locale === void 0 ? 'cn' : _ref$locale,\n      _ref$debounceInput = _ref.debounceInput,\n      debounceInput = _ref$debounceInput === void 0 ? false : _ref$debounceInput,\n      size = _ref.size,\n      configProvider = _ref.configProvider,\n      theme = _ref.theme,\n      validateMessages = _ref.validateMessages,\n      _ref$watch = _ref.watch,\n      watch = _ref$watch === void 0 ? {} : _ref$watch,\n      config = _ref.config,\n      onMount = _ref.onMount,\n      labelWidth = _ref.labelWidth,\n      readOnly = _ref.readOnly,\n      disabled = _ref.disabled,\n      _ref$allCollapsed = _ref.allCollapsed,\n      allCollapsed = _ref$allCollapsed === void 0 ? false : _ref$allCollapsed,\n      onValuesChange = _ref.onValuesChange,\n      column = _ref.column,\n      _ref$removeHiddenData = _ref.removeHiddenData,\n      removeHiddenData = _ref$removeHiddenData === void 0 ? false : _ref$removeHiddenData,\n      _ref$globalProps = _ref.globalProps,\n      globalProps = _ref$globalProps === void 0 ? {} : _ref$globalProps,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  try {\n    var _ = form.submit;\n  } catch (error) {\n    console.error('form 为必填 props，<FormRender /> 没有接收到 form 属性!');\n  }\n\n  var _column = schema && schema.column || column;\n\n  var onItemChange = form.onItemChange,\n      setEditing = form.setEditing,\n      touchKey = form.touchKey,\n      setValueByPath = form.setValueByPath,\n      getSchemaByPath = form.getSchemaByPath,\n      setSchemaByPath = form.setSchemaByPath,\n      setSchema = form.setSchema,\n      setValues = form.setValues,\n      getValues = form.getValues,\n      resetFields = form.resetFields,\n      submit = form.submit,\n      endValidating = form.endValidating,\n      endSubmitting = form.endSubmitting,\n      setErrorFields = form.setErrorFields,\n      removeErrorField = form.removeErrorField,\n      removeTouched = form.removeTouched,\n      changeTouchedKeys = form.changeTouchedKeys,\n      syncStuff = form.syncStuff,\n      logOnMount = form.logOnMount,\n      logOnSubmit = form.logOnSubmit,\n      setFirstMount = form.setFirstMount,\n      _setErrors = form._setErrors,\n      valuesThatWillChange = _objectWithoutProperties(form, _excluded2);\n\n  var submitData = valuesThatWillChange.submitData,\n      errorFields = valuesThatWillChange.errorFields,\n      isValidating = valuesThatWillChange.isValidating,\n      outsideValidating = valuesThatWillChange.outsideValidating,\n      isSubmitting = valuesThatWillChange.isSubmitting,\n      formData = valuesThatWillChange.formData,\n      flatten = valuesThatWillChange.flatten,\n      showValidate = valuesThatWillChange.showValidate,\n      firstMount = valuesThatWillChange.firstMount;\n  useEffect(function () {\n    // Schema最外层的type是object来判断，没有的话，认为schema没有传\n    if (schema && schema.type) {\n      setFirstMount(true);\n      syncStuff({\n        schema: schema,\n        locale: locale,\n        validateMessages: validateMessages,\n        beforeFinish: beforeFinish,\n        onMount: onMount,\n        removeHiddenData: removeHiddenData\n      });\n    } else {}\n  }, [JSON.stringify(schema)]);\n  useEffect(function () {\n    if (!firstMount && schema && schema.type) {\n      if (typeof onMount === 'function') {\n        // 等一下 useForm 里接到第一份schema时，计算第一份data的骨架\n        setTimeout(function () {\n          onMount();\n        }, 0);\n      }\n\n      setTimeout(onMountLogger, 0);\n    }\n  }, [JSON.stringify(schema), firstMount]);\n\n  var onMountLogger = function onMountLogger() {\n    var start = new Date().getTime();\n\n    if (typeof logOnMount === 'function' || typeof logOnSubmit === 'function') {\n      sessionStorage.setItem('FORM_MOUNT_TIME', start);\n      sessionStorage.setItem('FORM_START', start);\n    }\n\n    if (typeof logOnMount === 'function') {\n      var logParams = {\n        schema: schema,\n        url: location.href,\n        formData: JSON.stringify(form.getValues()),\n        formMount: yymmdd(start)\n      };\n\n      if (id) {\n        logParams.id = id;\n      }\n\n      logOnMount(logParams);\n    } // 如果是要计算时间，在 onMount 时存一个时间戳\n\n\n    if (typeof logOnSubmit === 'function') {\n      sessionStorage.setItem('NUMBER_OF_SUBMITS', 0);\n      sessionStorage.setItem('FAILED_ATTEMPTS', 0);\n    }\n  }; // 组件destroy的时候，destroy form，因为useForm可能在上层，所以不一定会跟着destroy\n\n\n  useEffect(function () {\n    return function () {\n      form.resetFields();\n    };\n  }, []);\n  var store = useMemo(function () {\n    return _objectSpread(_objectSpread({}, valuesThatWillChange), {}, {\n      globalProps: globalProps\n    }, rest);\n  }, [JSON.stringify(flatten), JSON.stringify(formData), JSON.stringify(errorFields), JSON.stringify(globalProps)]); // 不常用的context单独放一个地方\n\n  var store2 = useMemo(function () {\n    return {\n      displayType: displayType,\n      theme: theme,\n      column: _column,\n      debounceInput: debounceInput,\n      debug: debug,\n      labelWidth: labelWidth,\n      locale: locale,\n      validateMessages: validateMessages,\n      readOnly: readOnly,\n      disabled: disabled,\n      allCollapsed: allCollapsed,\n      showValidate: showValidate,\n      watch: watch\n    };\n  }, [displayType, theme, _column, debounceInput, debug, labelWidth, locale, validateMessages, readOnly, disabled, allCollapsed, showValidate, watch]);\n  var tools = useMemo(function () {\n    return _objectSpread({\n      widgets: widgets,\n      mapping: _objectSpread(_objectSpread({}, defaultMapping), mapping),\n      onValuesChange: onValuesChange\n    }, form);\n  }, []);\n  useEffect(function () {\n    // 需要外部校验的情况，此时 submitting 还是 false\n    if (outsideValidating === true) {\n      Promise.resolve(beforeFinish(_objectSpread({\n        data: submitData,\n        schema: schema,\n        errors: errorFields\n      }, config))).then(function (error) {\n        if (error) {\n          setErrorFields(error);\n        }\n\n        endValidating();\n      });\n      return;\n    } // 如果validation结束，submitting开始\n\n\n    if (isValidating === false && isSubmitting === true) {\n      endSubmitting();\n      onFinish(submitData, errorFields);\n\n      if (typeof logOnSubmit === 'function') {\n        var start = sessionStorage.getItem('FORM_START');\n        var mount = sessionStorage.getItem('FORM_MOUNT_TIME');\n        var numberOfSubmits = Number(sessionStorage.getItem('NUMBER_OF_SUBMITS')) + 1;\n        var end = new Date().getTime();\n        var failedAttempts = Number(sessionStorage.getItem('FAILED_ATTEMPTS'));\n\n        if (errorFields.length > 0) {\n          failedAttempts = failedAttempts + 1;\n        }\n\n        var logParams = {\n          formMount: yymmdd(mount),\n          ms: end - start,\n          duration: msToTime(end - start),\n          numberOfSubmits: numberOfSubmits,\n          failedAttempts: failedAttempts,\n          url: location.href,\n          formData: JSON.stringify(submitData),\n          errors: JSON.stringify(errorFields),\n          schema: JSON.stringify(schema)\n        };\n\n        if (id) {\n          logParams.id = id;\n        }\n\n        logOnSubmit(logParams);\n        sessionStorage.setItem('FORM_START', end);\n        sessionStorage.setItem('NUMBER_OF_SUBMITS', numberOfSubmits);\n        sessionStorage.setItem('FAILED_ATTEMPTS', failedAttempts);\n      }\n    }\n  }, [isValidating, isSubmitting, outsideValidating]); // TODO: fk doesn't work\n\n  var sizeCls = '';\n\n  if (size === 'small') {\n    sizeCls = 'fr-form-small';\n  } else if (size === 'large') {\n    sizeCls = 'fr-form-large';\n  }\n\n  var rootProps = {\n    className: \"fr-container \".concat(sizeCls, \" \").concat(className || '')\n  };\n\n  if (style && _typeof(style) === 'object') {\n    rootProps.style = style;\n  }\n\n  if (id && ['number', 'string'].indexOf(_typeof(id)) > -1) {\n    rootProps.id = id;\n  }\n\n  var debugForm = getParamByName('_debug_form');\n  var debugFormCss = getParamByName('_debug_form_css');\n  var isPre = location.href.indexOf('pre') > -1;\n  var watchList = Object.keys(watch);\n  return /*#__PURE__*/React.createElement(StoreCtx.Provider, {\n    value: store\n  }, /*#__PURE__*/React.createElement(Store2Ctx.Provider, {\n    value: store2\n  }, /*#__PURE__*/React.createElement(Ctx.Provider, {\n    value: tools\n  }, /*#__PURE__*/React.createElement(\"div\", rootProps, isPre && debugForm || debug ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mv2 bg-black-05 pa2 br2\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex'\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", null, \"formData:\"), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      display: 'inline-block',\n      wordBreak: 'break-all',\n      maxWidth: 600\n    }\n  }, JSON.stringify(form.formData))), /*#__PURE__*/React.createElement(\"div\", null, 'errorFields:' + JSON.stringify(form.errorFields)), /*#__PURE__*/React.createElement(\"div\", null, 'touchedKeys:' + JSON.stringify(form.touchedKeys)), /*#__PURE__*/React.createElement(\"div\", null, 'allTouched:' + JSON.stringify(form.allTouched)), /*#__PURE__*/React.createElement(\"div\", null, 'descriptor:' + JSON.stringify(window.descriptor))) : null, watchList.length > 0 ? watchList.map(function (item, idx) {\n    return /*#__PURE__*/React.createElement(Watcher, {\n      key: idx.toString(),\n      watchKey: item,\n      watch: watch,\n      formData: formData,\n      firstMount: firstMount\n    });\n  }) : null, /*#__PURE__*/React.createElement(Core, {\n    debugCss: isPre && debugFormCss || debugCss\n  })))));\n}\n\nvar Wrapper = function Wrapper(props) {\n  var _ref2 = props || {},\n      _ref2$isOldVersion = _ref2.isOldVersion,\n      isOldVersion = _ref2$isOldVersion === void 0 ? true : _ref2$isOldVersion,\n      schema = _ref2.schema,\n      rest = _objectWithoutProperties(_ref2, _excluded3);\n\n  var _schema = useRef(schema);\n\n  if (isOldVersion) {\n    _schema.current = updateSchemaToNewVersion(schema);\n  }\n\n  return /*#__PURE__*/React.createElement(App, _extends({\n    schema: _schema.current\n  }, rest));\n};\n\nexport default Wrapper;","import \"antd/es/config-provider/style\";\nimport _ConfigProvider from \"antd/es/config-provider\";\nvar _excluded = [\"widgets\", \"configProvider\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport zhCN from 'antd/lib/locale/zh_CN';\nimport React from 'react';\nimport FRCore from './form-render-core/src';\nimport { widgets as defaultWidgets } from './widgets/antd';\nexport { connectForm, createWidget, mapping, useForm } from './form-render-core/src';\nexport { defaultWidgets as widgets };\n\nvar FR = function FR(_ref) {\n  var widgets = _ref.widgets,\n      configProvider = _ref.configProvider,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(_ConfigProvider, _extends({\n    locale: zhCN\n  }, configProvider), /*#__PURE__*/React.createElement(FRCore, _extends({\n    widgets: _objectSpread(_objectSpread({}, defaultWidgets), widgets)\n  }, rest)));\n};\n\nexport default FR;","export function isUrl(string) {\n  var protocolRE = /^(?:\\w+:)?\\/\\/(\\S+)$/; // const domainRE = /^[^\\s\\.]+\\.\\S{2,}$/;\n\n  if (typeof string !== 'string') return false;\n  return protocolRE.test(string);\n}\nexport var getArray = function getArray(arr) {\n  var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  if (Array.isArray(arr)) return arr;\n  return defaultValue;\n};\nexport function getFormat(format) {\n  var dateFormat;\n\n  switch (format) {\n    case 'date':\n      dateFormat = 'YYYY-MM-DD';\n      break;\n\n    case 'time':\n      dateFormat = 'HH:mm:ss';\n      break;\n\n    case 'dateTime':\n      dateFormat = 'YYYY-MM-DD HH:mm:ss';\n      break;\n\n    case 'week':\n      dateFormat = 'YYYY-w';\n      break;\n\n    case 'year':\n      dateFormat = 'YYYY';\n      break;\n\n    case 'quarter':\n      dateFormat = 'YYYY-Q';\n      break;\n\n    case 'month':\n      dateFormat = 'YYYY-MM';\n      break;\n\n    default:\n      // dateTime\n      if (typeof format === 'string') {\n        dateFormat = format;\n      } else {\n        dateFormat = 'YYYY-MM-DD';\n      }\n\n  }\n\n  return dateFormat;\n}"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","_slicedToArray","arr","Array","isArray","_arrayWithHoles","_i","Symbol","iterator","_s","_e","_arr","_n","_d","call","next","done","err","_iterableToArrayLimit","o","minLen","_arrayLikeToArray","n","prototype","toString","slice","constructor","name","from","test","_unsupportedIterableToArray","TypeError","_nonIterableRest","len","arr2","Ctx","createContext","StoreCtx","Store2Ctx","useTools","useContext","useStore","useStore2","useSet","initState","_useReducer","useReducer","state","newState","action","payload","_useReducer2","_toConsumableArray","_arrayWithoutHoles","iter","_iterableToArray","_nonIterableSpread","_typeof","getParamByName","url","undefined","window","location","href","replace","regex","RegExp","results","exec","decodeURIComponent","isCheckBoxType","schema","readOnly","widget","type","enum","getParentPath","path","pathArr","split","pop","join","getValueByPath","formData","get","console","error","destructDataPath","id","dataIndex","Error","concat","pattern","matchList","match","map","item","Number","substring","getDataPath","string","_id","isObjType","properties","isListType","items","flattenSchema","_schema","parent","result","clone","_name","$id","children","entries","_ref","_ref2","_key","uniqueName","_ref3","_ref4","getSchemaFromFlatten","flatten","child","getKeyFromPath","isObject","a","str","text","indexOf","cloneDeep","isExpression","func","parseRootValueInSchema","rootValue","parseSingleRootValue","expression","funcBody","JSON","stringify","Function","parseSingleExpression","dataPath","parentPath","log","schemaContainsExpression","some","parseAllExpression","toLowerCase","propsObj","k","getParentProps","propName","parentSchema","defaultGetValueFromEvent","valuePropName","event","last","removeEmptyItemFromList","getDescriptorSimple","format","handleRegx","desc","rules","requiredRule","find","rule","required","r","generateDataSkeleton","_formData","childSchema","childData","childResult","default","changeSchema","singleChange","requiredKeys","updateSchemaToNewVersion","updateSingleSchema","props","validItem","message","minLength","min","maxLength","max","minItems","maxItems","step","className","hidden","disabled","width","displayType","column","labelWidth","cleanEmpty","v","_ref6","_ref7","reduce","_ref8","_ref9","dataToKeys","data","rootKey","isComplex","itemRootKey","itemKeys","idx","msToTime","duration","seconds","Math","floor","minutes","hours","yymmdd","timeStamp","date_ob","Date","adjustZero","num","day","getDate","month","getMonth","year","getFullYear","getHours","getMinutes","getSeconds","allPromiseFinish","promiseList","hasError","count","Promise","resolve","reject","promise","index","catch","e","then","removeDups","array","_extends","assign","hasOwnProperty","this","_ref$displayList","displayList","listData","changeList","deleteItem","copyItem","addItem","moveItemUp","moveItemDown","getFieldsProps","_schema$props","addBtnProps","itemProps","React","fieldsProps","Core","direction","hideMove","_ArrowUpOutlined","style","fontSize","marginLeft","onClick","_ArrowDownOutlined","hideAdd","hideCopy","_CopyOutlined","hideDelete","_Popconfirm","title","onConfirm","okText","cancelText","_CloseOutlined","marginTop","_Button","buttons","callback","html","onChange","dangerouslySetInnerHTML","__html","softHidden","hardHidden","msg","minRule","maxRule","lenRule","patternRule","translateMessage","_excluded","_excluded2","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","_extends2","errorFields","widgets","_schema$itemProps","columnProps","_props$pagination","pagination","rest","paginationConfig","size","hideOnSinglePage","currentIndex","useRef","_useSet2","showDrawer","setState","dataSource","$idx","columns","render","record","childPath","errorObj","Widget","readOnlyWidget","enumNames","getDisplayValue","ErrorMessage","fixed","openDrawer","color","current","newIndex","_Drawer","placement","onClose","visible","destroyOnClose","_Table","scroll","x","rowClassName","rowKey","hideTitle","display","_DeleteOutlined","childIndex","TabPane","_Tabs","_useState2","useState","activeKey","setActiveKey","tabName","restProps","getCurrentTabPaneName","onEdit","targetKey","currentKey","tab","_props$scrollY","scrollY","_useVT2","useVT","y","vt","components","parentId","_ref$schema","_ref$dataIndex","_ref$children","_useStore","_useTools","onItemChange","removeTouched","renderWidget","itemFlatten","displayProps","newList","kdx","newItem","parse","currentItem","itemBelow","itemAbove","extraProps","_item","CardList","SimpleList","TableList","DrawerList","VirtualList","TabList","FRProps","wait","options","_this","lastCallTime","lastInvokeTime","timerId","lastArgs","lastThis","funcRef","mounted","useRAF","leading","trailing","maxing","maxWait","useEffect","debounced","useMemo","invokeFunc","time","args","thisArg","startTimer","pendingFunc","cancelAnimationFrame","requestAnimationFrame","setTimeout","shouldInvoke","timeSinceLastCall","timeSinceLastInvoke","trailingEdge","timerExpired","now","timeWaiting","remainingWait","isInvoking","_len","cancel","clearTimeout","isPending","flush","typeTemplate","defaultValidateMessages","whitespace","date","invalid","types","method","number","boolean","integer","float","regexp","email","hex","range","mismatch","defaultValidateMessagesCN","parseSchemaExpression","validateField","paths","parentPaths","_destructDataPath","dependecies","fullPathDeps","dep","getRelatedPaths","promiseArray","_destructDataPath2","singleData","finalSchema","validateSingle","res","field","m","validateAll","allPaths","p","p1","lastIndexOf","uniqueResult","allFlattenPath","_destructDataPath3","childrenWithIndex","f","getAllPaths","_destructDataPath4","validator","_options$validateMess","validateMessages","_options$locale","locale","cn","en","descriptor","Validator","messageFeed","merge","messages","validate","errors","fields","transformProps","defaultValue","ownSchema","trigger","controlProps","_valuePropName","_value","_onChange","newValue","usefulPropsFromSchema","mapping","extraSchemaList","checkbox","switch","ErrorSchema","ExtendedWidget","dependValues","getValue","watch","setValueByPath","getSchemaByPath","setSchemaByPath","setSchema","setValues","getValues","resetFields","setErrorFields","removeErrorField","globalProps","widgetName","_mapping","enums","list","_widget","found","getWidgetName","customName","readOnlyName","extraSchema","widgetProps","addonAfter","AddonAfterWidget","addons","setValue","hideSelf","finalProps","Suspense","fallback","areEqual","prev","extra","Description","description","descType","labelClass","labelStyle","globalDisplayType","_displayType","_contentClass","contentClass","_props$errorFields","_useStore2","debounceInput","showValidate","onValuesChange","setEditing","touchKey","_setErrors","formDataRef","errObj","errorMessage","contentStyle","debouncedSetEditing","useDebouncedCallback","_readOnly","_disabled","titleProps","messageProps","placeholderTitleProps","_showTitle","placeholder","sameNameIndex","findIndex","sameNameItem","error1","error2","removeDupErrors","Extra","titleElement","FieldTitle","CoreRender","hideValidation","debugCss","effectiveLabelWidth","isList","isObj","isCheckBox","containerClass","columnStyle","paddingRight","isNaN","flexGrow","paddingLeft","hasChildren","fieldProps","objChildren","RenderObject","listChildren","RenderList","_children","RenderField","_ref$id","_ref$hideTitle","_ref$hideValidation","snapShot","isEditing","allTouched","dependencies","itemPath","dataProps","watchKey","firstMount","watchObj","runWatcher","handler","immediate","processData","removeHiddenData","_data","set","removeHiddenFromResult","transformDataWithBind","unbindKeys","bindKeys","bindArrKeys","bind","every","isMultiBind","unset","temp","oldVal","t","transformDataWithBind2","newData","b","bindValue","_onValidate","onValidate","_showValidate","_logOnMount","logOnMount","_logOnSubmit","logOnSubmit","FR_LOGGER","renderCount","forceRender","submitData","outErrorFields","isValidating","outsideValidating","isSubmitting","touchedKeys","finalFlatten","schemaRef","beforeFinishRef","localeRef","removeHiddenDataRef","validateMessagesRef","_flatten","_finalFlatten","_touchedKeys","_errorFields","_outErrorFields","_allErrors","innerData","_state$errorFields","_state$outErrorFields","mergeErrors","sortedUniqBy","_flatten2","newFlatten","info","arrayLikeIndex","isArrayItem","hasRootValue","_setData","submit","_errors","form","newKeyList","newTouch","changeTouchedKeys","newTouchedKeys","newSchema","_newSchema","settings","newFormData","init","endValidating","endSubmitting","newErrorFields","newError","newOutError","syncStuff","_ref5","beforeFinish","setFirstMount","oldFormatErrors","_excluded3","defaultFinish","App","_ref$onFinish","onFinish","_ref$displayType","debug","_ref$locale","_ref$debounceInput","theme","configProvider","_ref$watch","config","onMount","_ref$allCollapsed","allCollapsed","_ref$removeHiddenData","_ref$globalProps","_column","valuesThatWillChange","onMountLogger","start","getTime","sessionStorage","setItem","logParams","formMount","store","store2","tools","defaultMapping","getItem","mount","numberOfSubmits","end","failedAttempts","ms","sizeCls","rootProps","debugForm","debugFormCss","isPre","watchList","Provider","wordBreak","maxWidth","Watcher","_ref2$isOldVersion","isOldVersion","_ConfigProvider","zhCN","FRCore","defaultWidgets","isUrl","getArray","getFormat","dateFormat"],"sourceRoot":""}